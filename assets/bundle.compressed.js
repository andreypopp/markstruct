require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({"+E6k9U":[function(require,module,exports){var util=require("util");var shims=require("_shims");var pSlice=Array.prototype.slice;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;this.message=options.message||getMessage(this)};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return""+value}if(util.isNumber(value)&&(isNaN(value)||!isFinite(value))){return value.toString()}if(util.isFunction(value)||util.isRegExp(value)){return value.toString()}return value}function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n)}else{return s}}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};function _deepEqual(actual,expected){if(actual===expected){return true}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false}return true}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected}else{return objEquiv(actual,expected)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false}a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b)}try{var ka=shims.keys(a),kb=shims.keys(b),key,i}catch(e){return false}if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}else if(actual instanceof expected){return true}else if(expected.call({},actual)===true){return true}return false}function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null}try{block()}catch(e){actual=e}message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)))};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)))};assert.ifError=function(err){if(err){throw err}}},{_shims:"KuhTx8",util:"KJs4c/"}],"+FFAD6":[function(require,module,exports){"use strict";var createNodesFromMarkup=require("./createNodesFromMarkup");var filterAttributes=require("./filterAttributes");var invariant=require("./invariant");function mutateHTMLNodeWithMarkup(node,markup){invariant(node.tagName.toLowerCase()==="html");markup=markup.trim();invariant(markup.toLowerCase().indexOf("<html")===0);var htmlOpenTagEnd=markup.indexOf(">")+1;var htmlCloseTagStart=markup.lastIndexOf("<");var htmlOpenTag=markup.substring(0,htmlOpenTagEnd);var innerHTML=markup.substring(htmlOpenTagEnd,htmlCloseTagStart);var shouldExtractAttributes=htmlOpenTag.indexOf(" ")>-1;var attributeHolder=null;if(shouldExtractAttributes){attributeHolder=createNodesFromMarkup(htmlOpenTag.replace("html ","span ")+"</span>")[0];var attributesToSet=filterAttributes(attributeHolder,function(attr){return node.getAttributeNS(attr.namespaceURI,attr.name)!==attr.value});attributesToSet.forEach(function(attr){node.setAttributeNS(attr.namespaceURI,attr.name,attr.value)})}var attributesToRemove=filterAttributes(node,function(attr){return!(attributeHolder&&attributeHolder.hasAttributeNS(attr.namespaceURI,attr.name))});attributesToRemove.forEach(function(attr){node.removeAttributeNS(attr.namespaceURI,attr.name)});node.innerHTML=innerHTML}module.exports=mutateHTMLNodeWithMarkup},{"./createNodesFromMarkup":"dVa7bW","./filterAttributes":"pplVRy","./invariant":"A8YiG2"}],"+OQ+1g":[function(require,module,exports){"use strict";var React=require("react-tools/build/modules/React"),cloneDeep=require("lodash.clonedeep");var Page=React.createClass({render:function(){return this.props.spec.render.call(this)},componentDidMount:function(){window.addEventListener("click",this.onNavigate);if(this.props.spec.pageDidMount)this.props.spec.pageDidMount()},componentDidUpdate:function(){if(this.props.spec.pageDidMount)this.props.spec.pageDidMount()},componentWillUnmount:function(){window.removeEventListener("click",this.onNavigate);if(this.props.spec.pageWillUnmount)this.props.spec.pageWillUnmount()},componentWillReceiveProps:function(props){if(this.props.spec.pageWillUnmount)this.props.spec.pageWillUnmount()},bootstrap:function(cb){if(!this.props.data&&this.props.spec.getData)callbackOrPromise(this.props.spec.getData,function(err,data){if(err)return cb(err);this.props.data=cloneDeep(data);cb(null,data)}.bind(this));else cb(null,{})}});function callbackOrPromise(func,cb){if(func.length===1)func(cb);else func().then(cb.bind(null,null),cb.bind(null))}function bindSpec(spec,component){var boundSpec=Object.create(component);for(var id in spec)if(typeof spec[id]==="function")boundSpec[id]=spec[id].bind(boundSpec);else boundSpec[id]=spec[id];return boundSpec}function functionToSpec(func){return{render:function(){return func.call(this,this.props)}}}function _renderPage(page,doc,cb,force){if(force)return cb(null,React.renderComponent(page,doc));if(doc.readyState==="interactive"||doc.readyState==="complete")cb(null,React.renderComponent(page,doc));else window.addEventListener("DOMContentLoaded",function(){cb(null,React.renderComponent(page,doc))})}function renderPage(page,doc,cb,force){page.bootstrap(function(err,data){if(err)return cb(err);_renderPage(page,doc,function(err,page){cb(err,page,data)},force)})}function renderPageToString(page,cb){page.bootstrap(function(err,data){if(err)return cb(err);React.renderComponentToString(page,function(markup){cb(null,markup,data)})})}function createPage(spec){if(typeof spec==="function")spec=functionToSpec(spec);return function(props,children){var page=Page(props,children),boundSpec=bindSpec(spec,page);props.unboundSpec=spec;props.spec=boundSpec;return page}}module.exports={createPage:createPage,renderPage:renderPage,renderPageToString:renderPageToString}},{"lodash.clonedeep":"BOZRgU","react-tools/build/modules/React":"2aDVnh"}],"+yc9cF":[function(require,module,exports){var assign=require("lodash.assign"),forEach=require("lodash.foreach"),forOwn=require("lodash.forown"),getArray=require("lodash._getarray"),isArray=require("lodash.isarray"),isObject=require("lodash.isobject"),releaseArray=require("lodash._releasearray"),slice=require("lodash._slice");var reFlags=/\w*$/;var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var cloneableClasses={};cloneableClasses[funcClass]=false;cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=true;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty,toString=objectProto.toString;var ctorByClass={};ctorByClass[arrayClass]=Array;ctorByClass[boolClass]=Boolean;ctorByClass[dateClass]=Date;ctorByClass[funcClass]=Function;ctorByClass[objectClass]=Object;ctorByClass[numberClass]=Number;ctorByClass[regexpClass]=RegExp;ctorByClass[stringClass]=String;function baseClone(value,deep,callback,stackA,stackB){var result=value;if(callback){result=callback(result);if(typeof result!="undefined"){return result}result=value}var isObj=isObject(result);if(isObj){var className=toString.call(result);if(!cloneableClasses[className]){return result}var isArr=isArray(result)}if(!isObj||!deep){return isObj?isArr?slice(result):assign({},result):result}var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+result);case numberClass:case stringClass:return new ctor(result);case regexpClass:return ctor(result.source,reFlags.exec(result))}var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}result=isArr?ctor(result.length):{};if(isArr){if(hasOwnProperty.call(value,"index")){result.index=value.index}if(hasOwnProperty.call(value,"input")){result.input=value.input}}stackA.push(value);stackB.push(result);(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,deep,callback,stackA,stackB)});if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}module.exports=baseClone},{"lodash._getarray":"abtj3u","lodash._releasearray":"M2YzqV","lodash._slice":"HmDqIT","lodash.assign":"UcljHa","lodash.foreach":"WOuHCR","lodash.forown":"Qw0VB+","lodash.isarray":"WZOHZG","lodash.isobject":"IX6p2j"}],"./index.jsx":[function(require,module,exports){require("./styles.styl");var React=require("react-tools/build/modules/React"),ReactApp=require("react-app"),serialize=require("../serializer"),parse=require("../parser"),Editor=require("../index.jsx");var doc=[{type:"heading",level:1,content:"markstruct"},{type:"paragraph",content:"Block-based structured editor for markdown",annotations:[{type:"em",range:[0,11]},{type:"strong",range:[34,42]}]},{type:"paragraph",content:"It features:"},{type:"listitem",content:"Multiple block types (paragraphs, headings, code blocks, images, horizontal\nlines...)",annotations:[{type:"em",range:[78,80]}]},{type:"listitem",content:"Multiple block types (paragraphs, headings, code blocks, images, horizontal\nlines...)",annotations:[{type:"em",range:[76,80]}]},{type:"listitem",content:"Refactorings by moving blocks around (use Shift+Arrow keys)"},{type:"listitem",content:"Natural navigaton between blocks with arrow keys"},{type:"heading",level:2,content:"Quickstart"},{type:"paragraph",content:"Install via npm:"},{type:"code",content:"% npm install markstruct"},{type:"paragraph",content:"It is implemented as a React component:"},{type:"code",content:"var React = require('react-core'),\n    Markstruct = require('markstruct'),\n    parse = require('markstruct/parser');\n\nvar doc = parse([\n  '# Hello, world!',\n  'This is my first markdown document.'\n].join('\\n'));\n\nvar App = React.createClass({\n  render: function() {\n    return React.DOM.div({className: \"App\"}, Markstruct({doc: doc}));\n  }\n});"},{type:"paragraph",content:"There will be a build soon which allow you to use markstruct standalone or with\na library of your choice."},{type:"heading",level:2,content:"Development"},{type:"paragraph",content:"Clone, change directory, install depenendencies and run development server:"},{type:"code",content:"% git clone https://github.com/andreypopp/markstruct.git\n% cd markstruct\n% make install run"},{type:"paragraph",content:"On code modifications everything will be rebuilt."}];function replaceDoc(newDoc){while(doc.length>0)doc.shift();newDoc.forEach(function(block){doc.push(block)})}function updatePage(){var runtime=require("react-app/runtime/browser");runtime.app.page.forceUpdate()}window.onload=function(){document.body.ondragover=function(){return false};document.body.ondragend=function(){return false};document.body.ondrop=function(e){var files=e.dataTransfer.files;[].forEach.call(files,function(file){var reader=new FileReader;reader.onload=function(e){var text=e.target.result;var newDoc=parse(text);replaceDoc(newDoc);updatePage()};reader.readAsText(file)});return false}};var Tools=React.createClass({displayName:"Tools",markdownData:function(){return"data:text/html;base64,"+btoa(serialize(doc))},startNewDoc:function(){replaceDoc([]);updatePage()},updateHref:function(){this.refs.open.getDOMNode().href=this.markdownData()},render:function(){return React.DOM.div({className:"Tools"},React.DOM.a({target:"_blank",onClick:this.startNewDoc,className:"button"},"New document"),React.DOM.a({onFocus:this.updateHref,onMouseEnter:this.updateHref,target:"_blank",href:this.markdownData(),ref:"open",className:"button"},"Open as HTML"),React.DOM.div({className:"note"}," * You can also drop a markdown file on a editor to "+"start edit it "))}});module.exports=ReactApp.createApp({routes:{"*":ReactApp.createPage({render:function(){return React.DOM.html(null,React.DOM.head(null,React.DOM.title(null,"Markstruct demo")),React.DOM.body(null,Tools(null),Editor({doc:doc})))}})}})},{"../index.jsx":"yuDm6Z","../parser":"R+1zI3","../serializer":"jPzimz","./styles.styl":"__dummy__","react-app":"EuRN0w","react-app/runtime/browser":"react-app/runtime/browser","react-tools/build/modules/React":"2aDVnh"}],"/IGsXC":[function(require,module,exports){"use strict";function objMapKeyVal(obj,func,context){if(!obj){return null}var i=0;var ret={};for(var key in obj){if(obj.hasOwnProperty(key)){ret[key]=func.call(context,key,obj[key],i++)}}return ret}module.exports=objMapKeyVal},{}],"/Ll390":[function(require,module,exports){"use strict";var LinkedValueMixin=require("./LinkedValueMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var invariant=require("./invariant");var merge=require("./merge");var select=ReactDOM.select;function selectValueType(props,propName,componentName){if(props[propName]==null){return}if(props.multiple){invariant(Array.isArray(props[propName]))}else{invariant(!Array.isArray(props[propName]))}}function updateOptions(){var propValue=this.getValue();var value=propValue!=null?propValue:this.state.value;var options=this.getDOMNode().options;var selectedValue=""+value;for(var i=0,l=options.length;i<l;i++){var selected=this.props.multiple?selectedValue.indexOf(options[i].value)>=0:selected=options[i].value===selectedValue;if(selected!==options[i].selected){options[i].selected=selected}}}var ReactDOMSelect=ReactCompositeComponent.createClass({mixins:[LinkedValueMixin],propTypes:{defaultValue:selectValueType,value:selectValueType},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(nextProps){if(!this.props.multiple&&nextProps.multiple){this.setState({value:[this.state.value]})}else if(this.props.multiple&&!nextProps.multiple){this.setState({value:this.state.value[0]})}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props);props.onChange=this._handleChange;props.value=null;return select(props,this.props.children)},componentDidMount:updateOptions,componentDidUpdate:updateOptions,_handleChange:function(event){var returnValue;var onChange=this.getOnChange();if(onChange){this._isChanging=true;returnValue=onChange(event);this._isChanging=false}var selectedValue;if(this.props.multiple){selectedValue=[];var options=event.target.options;for(var i=0,l=options.length;i<l;i++){if(options[i].selected){selectedValue.push(options[i].value)}}}else{selectedValue=event.target.value}this.setState({value:selectedValue});return returnValue}});module.exports=ReactDOMSelect},{"./LinkedValueMixin":"oH5sxN","./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj","./invariant":"A8YiG2","./merge":"D67bCH"}],"/iZpMr":[function(require,module,exports){"use strict";var supportedInputTypes={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function isTextInputElement(elem){return elem&&(elem.nodeName==="INPUT"&&supportedInputTypes[elem.type]||elem.nodeName==="TEXTAREA")}module.exports=isTextInputElement},{}],"00RP5P":[function(require,module,exports){"use strict";var ReactDOMSelection=require("./ReactDOMSelection");var getActiveElement=require("./getActiveElement");var nodeContains=require("./nodeContains");function isInDocument(node){return nodeContains(document.documentElement,node)}var ReactInputSelection={hasSelectionCapabilities:function(elem){return elem&&(elem.nodeName==="INPUT"&&elem.type==="text"||elem.nodeName==="TEXTAREA"||elem.contentEditable==="true")},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange)}priorFocusedElem.focus()}},getSelection:function(input){var selection;if("selectionStart"in input){selection={start:input.selectionStart,end:input.selectionEnd}}else if(document.selection&&input.nodeName==="INPUT"){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)}}}else{selection=ReactDOMSelection.getOffsets(input)}return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(typeof end==="undefined"){end=start}if("selectionStart"in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length)}else if(document.selection&&input.nodeName==="INPUT"){var range=input.createTextRange();range.collapse(true);range.moveStart("character",start);range.moveEnd("character",end-start);range.select()}else{ReactDOMSelection.setOffsets(input,offsets)}}};module.exports=ReactInputSelection},{"./ReactDOMSelection":"F/2dCB","./getActiveElement":"I2X1gF","./nodeContains":"B/TCoZ"}],"07xunD":[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],"0IyTq1":[function(require,module,exports){var React=require("react-tools/build/modules/React"),Editor=require("../editors/preformatted"),TextBlockMixin=require("../text-block-mixin");module.exports=React.createClass({mixins:[TextBlockMixin],editorComponent:Editor,render:function(){var className="Block Code"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},this.renderEditor({preformatted:true}))}})},{"../editors/preformatted":"3BFtkv","../text-block-mixin":"qfD6+V","react-tools/build/modules/React":"2aDVnh"}],"0Y+zg+":[function(require,module,exports){var keyMirror=require("./keyMirror");var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"./keyMirror":"D33hUR"}],"0ofNfe":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var UIEventInterface={view:null,detail:null};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent},{"./SyntheticEvent":"cExfNQ"}],"0roR6l":[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],"1PZSOf":[function(require,module,exports){module.exports=function(node,includeTokens){if(node.nodeType===Node.TEXT_NODE){node.__index=0;node.__length=node.wholeText.length;node.__next=undefined;node.__prev=undefined;return[node]}var queue=[node],prev=undefined,idx=0,totalIdx=0,nodes=[];while(queue.length>0){var node=queue.shift();if(node.nodeType===Node.TEXT_NODE){if(prev){prev.__next=node;node.__prev=prev}else{node.__next=undefined;node.__prev=undefined}node.__index=idx;node.__totalIndex=totalIdx;node.__length=node.wholeText.length;idx=idx+node.wholeText.length;totalIdx=totalIdx+node.wholeText.length;nodes.push(node);prev=node}else if(includeTokens&&node.dataset.token!==undefined){if(prev){prev.__next=node;node.__prev=prev}else{node.__next=undefined;node.__prev=undefined}node.__totalIndex=totalIdx;node.__length=node.textContent.length;totalIdx=totalIdx+node.textContent.length;nodes.push(node);prev=node}else if(node.childNodes&&node.childNodes.length>0){for(var i=node.childNodes.length-1;i>-1;i--)queue.unshift(node.childNodes[i])}}return nodes}},{}],"1rfYoz":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var escapeTextForBrowser=require("./escapeTextForBrowser");var memoizeStringOnly=require("./memoizeStringOnly");var processAttributeNameAndPrefix=memoizeStringOnly(function(name){return escapeTextForBrowser(name)+'="'});var DOMPropertyOperations={createMarkupForProperty:function(name,value){if(DOMProperty.isStandardName[name]){if(value==null||DOMProperty.hasBooleanValue[name]&&!value){return""}var attributeName=DOMProperty.getAttributeName[name];return processAttributeNameAndPrefix(attributeName)+escapeTextForBrowser(value)+'"'}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return""}return processAttributeNameAndPrefix(name)+escapeTextForBrowser(value)+'"'}return null},setValueForProperty:function(node,name,value){if(DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,value)}else if(DOMProperty.mustUseAttribute[name]){if(DOMProperty.hasBooleanValue[name]&&!value){node.removeAttribute(DOMProperty.getAttributeName[name])}else{node.setAttribute(DOMProperty.getAttributeName[name],""+value)}}else{var propName=DOMProperty.getPropertyName[name];if(!DOMProperty.hasSideEffects[name]||node[propName]!==value){node[propName]=value}}}else if(DOMProperty.isCustomAttribute(name)){node.setAttribute(name,""+value)}},deleteValueForProperty:function(node,name){if(DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,undefined)}else if(DOMProperty.mustUseAttribute[name]){node.removeAttribute(DOMProperty.getAttributeName[name])}else{var propName=DOMProperty.getPropertyName[name];node[propName]=DOMProperty.getDefaultValueForProperty(node.nodeName,name)}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name)}}};module.exports=DOMPropertyOperations},{"./DOMProperty":"Fjhu7o","./escapeTextForBrowser":"2mRphX","./memoizeStringOnly":"AvgaT5"}],"2LsUWR":[function(require,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB){return true}var key;for(key in objA){if(objA.hasOwnProperty(key)&&(!objB.hasOwnProperty(key)||objA[key]!==objB[key])){return false}}for(key in objB){if(objB.hasOwnProperty(key)&&!objA.hasOwnProperty(key)){return false}}return true}module.exports=shallowEqual},{}],"2VEupD":[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactTextComponent=require("./ReactTextComponent");var invariant=require("./invariant");var traverseAllChildrenImpl=function(children,nameSoFar,indexSoFar,callback,traverseContext){var subtreeCount=0;if(Array.isArray(children)){for(var i=0;i<children.length;i++){var child=children[i];var nextName=nameSoFar+ReactComponent.getKey(child,i);var nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(child,nextName,nextIndex,callback,traverseContext)}}else{var type=typeof children;var isOnlyChild=nameSoFar==="";var storageName=isOnlyChild?ReactComponent.getKey(children,0):nameSoFar;if(children===null||children===undefined||type==="boolean"){callback(traverseContext,null,storageName,indexSoFar);subtreeCount=1}else if(children.mountComponentIntoNode){callback(traverseContext,children,storageName,indexSoFar);subtreeCount=1}else{if(type==="object"){invariant(!children||children.nodeType!==1);for(var key in children){if(children.hasOwnProperty(key)){subtreeCount+=traverseAllChildrenImpl(children[key],nameSoFar+"{"+key+"}",indexSoFar+subtreeCount,callback,traverseContext)}}}else if(type==="string"){var normalizedText=new ReactTextComponent(children);callback(traverseContext,normalizedText,storageName,indexSoFar);subtreeCount+=1}else if(type==="number"){var normalizedNumber=new ReactTextComponent(""+children);callback(traverseContext,normalizedNumber,storageName,indexSoFar);subtreeCount+=1}}}return subtreeCount};function traverseAllChildren(children,callback,traverseContext){if(children!==null&&children!==undefined){traverseAllChildrenImpl(children,"",0,callback,traverseContext)}}module.exports=traverseAllChildren},{"./ReactComponent":"s3ydQp","./ReactTextComponent":"mwEu8N","./invariant":"A8YiG2"}],"2aDVnh":[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactDOM=require("./ReactDOM");var ReactDOMComponent=require("./ReactDOMComponent");var ReactDefaultInjection=require("./ReactDefaultInjection");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var ReactMultiChild=require("./ReactMultiChild");var ReactPerf=require("./ReactPerf");var ReactPropTypes=require("./ReactPropTypes");var ReactServerRendering=require("./ReactServerRendering");var ReactTextComponent=require("./ReactTextComponent");ReactDefaultInjection.inject();var React={DOM:ReactDOM,PropTypes:ReactPropTypes,initializeTouchEvents:function(shouldUseTouch){ReactMount.useTouchEvents=shouldUseTouch},createClass:ReactCompositeComponent.createClass,constructAndRenderComponent:ReactMount.constructAndRenderComponent,constructAndRenderComponentByID:ReactMount.constructAndRenderComponentByID,renderComponent:ReactPerf.measure("React","renderComponent",ReactMount.renderComponent),renderComponentToString:ReactServerRendering.renderComponentToString,unmountComponentAtNode:ReactMount.unmountComponentAtNode,unmountAndReleaseReactRootNode:ReactMount.unmountAndReleaseReactRootNode,isValidClass:ReactCompositeComponent.isValidClass,isValidComponent:ReactComponent.isValidComponent,__internals:{Component:ReactComponent,CurrentOwner:ReactCurrentOwner,DOMComponent:ReactDOMComponent,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,MultiChild:ReactMultiChild,TextComponent:ReactTextComponent}};React.version="0.5.0";module.exports=React},{"./ReactComponent":"s3ydQp","./ReactCompositeComponent":"mr8N0q","./ReactCurrentOwner":"l6nLtk","./ReactDOM":"c1UTpj","./ReactDOMComponent":"VRZe2C","./ReactDefaultInjection":"irD+EV","./ReactInstanceHandles":"YemHRk","./ReactMount":"7KU6qp","./ReactMultiChild":"T5PDBc","./ReactPerf":"3kUGkJ","./ReactPropTypes":"pKWtXK","./ReactServerRendering":"Mh8Ufb","./ReactTextComponent":"mwEu8N"}],"2m/F8p":[function(require,module,exports){var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue}return key}return null};module.exports=keyOf},{}],"2mRphX":[function(require,module,exports){"use strict";var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"};var ESCAPE_REGEX=/[&><"'\/]/g;function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}module.exports=escapeTextForBrowser},{}],"2uldAL":[function(require,module,exports){"use strict";var ReactEventEmitter=require("./ReactEventEmitter");var ReactMount=require("./ReactMount");var getEventTarget=require("./getEventTarget");var _topLevelListenersEnabled=true;var ReactEventTopLevelCallback={setEnabled:function(enabled){_topLevelListenersEnabled=!!enabled},isEnabled:function(){return _topLevelListenersEnabled},createTopLevelCallback:function(topLevelType){return function(nativeEvent){if(!_topLevelListenersEnabled){return}if(nativeEvent.srcElement&&nativeEvent.srcElement!==nativeEvent.target){nativeEvent.target=nativeEvent.srcElement}var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(nativeEvent))||window;var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventEmitter.handleTopLevel(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent)}}};module.exports=ReactEventTopLevelCallback},{"./ReactEventEmitter":"xVoVjD","./ReactMount":"7KU6qp","./getEventTarget":"pVdP6F"}],"37YtTd":[function(require,module,exports){"use strict";var Danger=require("./Danger");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var getTextContentAccessor=require("./getTextContentAccessor");var textContentAccessor=getTextContentAccessor()||"NA";function insertChildAt(parentNode,childNode,index){var childNodes=parentNode.childNodes;if(childNodes[index]===childNode){return}if(childNode.parentNode===parentNode){parentNode.removeChild(childNode)}if(index>=childNodes.length){parentNode.appendChild(childNode)}else{parentNode.insertBefore(childNode,childNodes[index])}}var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,processUpdates:function(updates,markupList){var update;var initialChildren=null;var updatedChildren=null;for(var i=0;update=updates[i];i++){if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex;
var updatedChild=update.parentNode.childNodes[updatedIndex];var parentID=update.parentID;initialChildren=initialChildren||{};initialChildren[parentID]=initialChildren[parentID]||[];initialChildren[parentID][updatedIndex]=updatedChild;updatedChildren=updatedChildren||[];updatedChildren.push(updatedChild)}}var renderedMarkup=Danger.dangerouslyRenderMarkup(markupList);if(updatedChildren){for(var j=0;j<updatedChildren.length;j++){updatedChildren[j].parentNode.removeChild(updatedChildren[j])}}for(var k=0;update=updates[k];k++){switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:update.parentNode[textContentAccessor]=update.textContent;break;case ReactMultiChildUpdateTypes.REMOVE_NODE:break}}}};module.exports=DOMChildrenOperations},{"./Danger":"Xz43eN","./ReactMultiChildUpdateTypes":"0Y+zg+","./getTextContentAccessor":"9B+0c5"}],"3BFtkv":[function(require,module,exports){var React=require("react-tools/build/modules/React"),rangy=require("../rangy/rangy-core"),Focusable=require("../focusable"),keys=require("../keys");module.exports=React.createClass({mixins:[Focusable],getContent:function(){return this.getDOMNode().textContent},getCaretPosition:function(){return computeLineMetrics(this.getDOMNode())},render:function(){return this.transferPropsTo(React.DOM.pre({contentEditable:"true",onKeyDown:this.onKeyDown,className:"Editor",dangerouslySetInnerHTML:{__html:this.props.content}}))},onKeyDown:function(e){if(keys.match(e,keys.ENTER)){e.preventDefault();insertNewLine(this.getDOMNode())}else if(keys.match(e,keys.TAB)){e.preventDefault();insertString(this.getDOMNode(),this.props.tabAs||"  ")}else if(this.props.onKeyDown(e)){this.props.onKeyDown(e)}}});function computeLineMetrics(node){var offset=rangy.getSelection().getRangeAt(0).startOffset;if(!node.firstChild)return{line:1,lineOffset:0,offset:0,totalLines:1};var text=node.firstChild.wholeText;if(text[text.length-1]!=="\n")text=text+"\n";var lines=text.split("\n"),totalLines=lines.length-1,seenOffset=0;for(var i=0,len=lines.length;i<len;i++){if(seenOffset+lines[i].length+1>offset){break}seenOffset=seenOffset+lines[i].length+1}return{line:i+1,lineOffset:offset-seenOffset,offset:offset,totalLines:totalLines}}function insertString(node,str){var s=rangy.getSelection(),offset=s.getRangeAt(0).startOffset,text=node.firstChild;var before=text.wholeText.substr(0,offset),after=text.wholeText.substr(offset,text.wholeText.length);var replacement=document.createTextNode(before+str+after);node.replaceChild(replacement,text);setCursorPosition(replacement,offset+str.length)}function setCursorPosition(node,offset){var s=rangy.getSelection(),r=rangy.createRange();r.setStart(node,offset);r.collapse(true);s.setSingleRange(r)}function insertNewLine(node){var s=rangy.getSelection(),offset=s.getRangeAt(0).startOffset,text=node.firstChild;var before=text.wholeText.substr(0,offset),after=text.wholeText.substr(offset,text.wholeText.length);if(after.length===0)after="\n";var replacement=document.createTextNode(before+"\n"+after);node.replaceChild(replacement,text);setCursorPosition(replacement,offset+1)}},{"../focusable":"uY1u0W","../keys":"HhJo8C","../rangy/rangy-core":"MY2M6d","react-tools/build/modules/React":"2aDVnh"}],"3h/cXc":[function(require,module,exports){function hasArrayNature(obj){return!!obj&&(typeof obj=="object"||typeof obj=="function")&&"length"in obj&&!("setInterval"in obj)&&typeof obj.nodeType!="number"&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFrom(obj){if(!hasArrayNature(obj)){return[obj]}if(obj.item){var l=obj.length,ret=new Array(l);while(l--){ret[l]=obj[l]}return ret}return Array.prototype.slice.call(obj)}module.exports=createArrayFrom},{}],"3kUGkJ":[function(require,module,exports){"use strict";var ReactPerf={enableMeasure:false,storedMeasure:_noMeasure,measure:function(objName,fnName,func){return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};function _noMeasure(objName,fnName,func){return func}module.exports=ReactPerf},{}],"40JTBG":[function(require,module,exports){keys=require("./keys");module.exports={updateBlock:function(changes){this.props.editor.updateBlock(this.props.block,changes)},componentDidMount:function(){if(this.onInput)this.onInput()},componentDidUpdate:function(){if(this.onInput)this.onInput()},onKeyDown:function(e){if(this.handleKeyCommon(e))e.preventDefault();else if(this.handleKey&&this.handleKey(e))e.preventDefault()},insertAfterBlock:function(){this.props.editor.insertAfter(this.props.block,{type:this.insertAfterType||"paragraph",content:""})},handleKeyCommon:function(e){if(keys.match(e,keys.ARROW_UP,{altKey:true})){this.props.editor.focusBefore(this.props.block);return true}else if(keys.match(e,keys.ARROW_DOWN,{altKey:true})){this.props.editor.focusAfter(this.props.block);return true}else if(keys.match(e,keys.ARROW_UP,{shiftKey:true})){this.props.editor.moveUp(this.props.block);return true}else if(keys.match(e,keys.ARROW_DOWN,{shiftKey:true})){this.props.editor.moveDown(this.props.block);return true}else if(keys.match(e,keys.ARROW_UP)){this.props.editor.focusBefore(this.props.block);return true}else if(keys.match(e,keys.ARROW_DOWN)){this.props.editor.focusAfter(this.props.block);return true}else if(keys.match(e,keys.BACKSPACE)){this.props.editor.remove(this.props.block);return true}else if(keys.match(e,keys.ENTER,{metaKey:true})){this.insertAfterBlock();return true}else if(keys.match(e,keys.ENTER,{ctrlKey:true})){this.insertAfterBlock();return true}else if(keys.match(e,keys.ENTER)){this.insertAfterBlock();return true}return false}}},{"./keys":"HhJo8C"}],"4aumfS":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var testNode,useHasFeature;if(ExecutionEnvironment.canUseDOM){testNode=document.createElement("div");useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}function isEventSupported(eventNameSuffix,capture){if(!testNode||capture&&!testNode.addEventListener){return false}var element=document.createElement("div");var eventName="on"+eventNameSuffix;var isSupported=eventName in element;if(!isSupported){element.setAttribute(eventName,"return;");isSupported=typeof element[eventName]==="function";if(typeof element[eventName]!=="undefined"){element[eventName]=undefined}element.removeAttribute(eventName)}if(!isSupported&&useHasFeature&&eventNameSuffix==="wheel"){isSupported=document.implementation.hasFeature("Events.wheel","3.0")}element=null;return isSupported}module.exports=isEventSupported},{"./ExecutionEnvironment":"VcPYgO"}],"4q2K4x":[function(require,module,exports){"use strict";module.exports={startObserving:function(){var options=this.DOMObserverOptions||{characterData:true,childList:true,subtree:true};this.observer=new MutationObserver(this.onDOMChanges);this.observer.observe(this.getDOMNode(),options)},stopObserving:function(){if(this.observer){this.observer.disconnect();this.observer=undefined}},componentDidMount:function(){this.startObserving()},componentDidUpdate:function(){this.startObserving()},componentWillUnmount:function(){this.stopObserving()},componentWillUpdate:function(){this.stopObserving()}}},{}],"5HL4mz":[function(require,module,exports){var maxPoolSize=require("lodash._maxpoolsize"),objectPool=require("lodash._objectpool");function releaseObject(object){var cache=object.cache;if(cache){releaseObject(cache)}object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null;if(objectPool.length<maxPoolSize){objectPool.push(object)}}module.exports=releaseObject},{"lodash._maxpoolsize":"V/gJHt","lodash._objectpool":"S4nECj"}],"5TU/Ge":[function(require,module,exports){"use strict";function objMap(obj,func,context){if(!obj){return null}var i=0;var ret={};for(var key in obj){if(obj.hasOwnProperty(key)){ret[key]=func.call(context,obj[key],key,i++)}}return ret}module.exports=objMap},{}],"6fpSe2":[function(require,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild}return node}function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling}node=node.parentNode}}function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType==3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart}}nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],"7KU6qp":[function(require,module,exports){"use strict";var ReactEventEmitter=require("./ReactEventEmitter");var ReactInstanceHandles=require("./ReactInstanceHandles");var $=require("./$");var getReactRootElementInContainer=require("./getReactRootElementInContainer");var invariant=require("./invariant");var nodeContains=require("./nodeContains");var SEPARATOR=ReactInstanceHandles.SEPARATOR;var ATTR_NAME="data-reactid";var nodeCache={};var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var instancesByReactRootID={};var containersByReactRootID={};function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id){if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];if(cached!==node){invariant(!isValid(cached,id));nodeCache[id]=node}}else{nodeCache[id]=node}}return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);if(oldID!==id){delete nodeCache[oldID]}node.setAttribute(ATTR_NAME,id);nodeCache[id]=node}function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id)}return nodeCache[id]}function isValid(node,id){if(node){invariant(internalGetID(node)===id);var container=ReactMount.findReactContainerForID(id);if(container&&nodeContains(container,node)){return true}}return false}function purgeID(id){delete nodeCache[id]}var ReactMount={allowFullPageRender:false,totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:false,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},prepareEnvironmentForDOM:function(container){invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE));var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;ReactEventEmitter.ensureListening(ReactMount.useTouchEvents,doc)},_updateRootComponent:function(prevComponent,nextComponent,container,callback){var nextProps=nextComponent.props;ReactMount.scrollMonitor(container,function(){prevComponent.replaceProps(nextProps,callback)});return prevComponent},_registerComponent:function(nextComponent,container){ReactMount.prepareEnvironmentForDOM(container);var reactRootID=ReactMount.registerContainer(container);instancesByReactRootID[reactRootID]=nextComponent;return reactRootID},_renderNewRootComponent:function(nextComponent,container,shouldReuseMarkup){var reactRootID=ReactMount._registerComponent(nextComponent,container);nextComponent.mountComponentIntoNode(reactRootID,container,shouldReuseMarkup);return nextComponent},renderComponent:function(nextComponent,container,callback){var registeredComponent=instancesByReactRootID[getReactRootID(container)];if(registeredComponent){if(registeredComponent.constructor===nextComponent.constructor){return ReactMount._updateRootComponent(registeredComponent,nextComponent,container,callback)}else{ReactMount.unmountComponentAtNode(container)}}var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&ReactMount.isRenderedByReact(reactRootElement);var shouldReuseMarkup=containerHasReactMarkup&&!registeredComponent;var component=ReactMount._renderNewRootComponent(nextComponent,container,shouldReuseMarkup);callback&&callback();return component},constructAndRenderComponent:function(constructor,props,container){return ReactMount.renderComponent(constructor(props),container)},constructAndRenderComponentByID:function(constructor,props,id){return ReactMount.constructAndRenderComponent(constructor,props,$(id))},registerContainer:function(container){var reactRootID=getReactRootID(container);if(reactRootID){reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)}if(!reactRootID){reactRootID=ReactInstanceHandles.createReactRootID()}containersByReactRootID[reactRootID]=container;return reactRootID},unmountComponentAtNode:function(container){var reactRootID=getReactRootID(container);var component=instancesByReactRootID[reactRootID];if(!component){return false}ReactMount.unmountComponentFromNode(component,container);delete instancesByReactRootID[reactRootID];delete containersByReactRootID[reactRootID];return true},unmountAndReleaseReactRootNode:function(){return ReactMount.unmountComponentAtNode.apply(this,arguments)},unmountComponentFromNode:function(instance,container){instance.unmountComponent();while(container.lastChild){container.removeChild(container.lastChild)}},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);var container=containersByReactRootID[reactRootID];return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},isRenderedByReact:function(node){if(node.nodeType!==1){return false}var id=ReactMount.getID(node);return id?id.charAt(0)===SEPARATOR:false},getFirstReactDOM:function(node){var current=node;while(current&&current.parentNode!==current){if(ReactMount.isRenderedByReact(current)){return current}current=current.parentNode}return null},findComponentRoot:function(ancestorNode,id){var firstChildren=[ancestorNode.firstChild];var childIndex=0;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++];while(child){var childID=ReactMount.getID(child);if(childID){if(id===childID){return child}else if(ReactInstanceHandles.isAncestorIDOf(childID,id)){firstChildren.length=childIndex=0;firstChildren.push(child.firstChild);break}else{firstChildren.push(child.firstChild)}}else{firstChildren.push(child.firstChild)}child=child.nextSibling}}invariant(false)},ATTR_NAME:ATTR_NAME,getID:getID,setID:setID,getNode:getNode,purgeID:purgeID,injection:{}};module.exports=ReactMount},{"./$":"WWSXc/","./ReactEventEmitter":"xVoVjD","./ReactInstanceHandles":"YemHRk","./getReactRootElementInContainer":"oCAlR1","./invariant":"A8YiG2","./nodeContains":"B/TCoZ"}],"8/UjTK":[function(require,module,exports){function ge(arg,root,tag){return typeof arg!="string"?arg:!root?document.getElementById(arg):_geFromSubtree(arg,root,tag)}function _geFromSubtree(id,root,tag){var elem,children,ii;if(_getNodeID(root)==id){return root}else if(root.getElementsByTagName){children=root.getElementsByTagName(tag||"*");for(ii=0;ii<children.length;ii++){if(_getNodeID(children[ii])==id){return children[ii]}}}else{children=root.childNodes;for(ii=0;ii<children.length;ii++){elem=_geFromSubtree(id,children[ii]);if(elem){return elem}}}return null}function _getNodeID(node){var id=node.getAttributeNode&&node.getAttributeNode("id");return id?id.value:null}module.exports=ge},{}],"8Ovull":[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":"0ofNfe"}],"8Wxd6S":[function(require,module,exports){"use strict";var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var ReactEventEmitter=require("./ReactEventEmitter");var EventConstants=require("./EventConstants");var form=ReactDOM.form;var ReactDOMForm=ReactCompositeComponent.createClass({render:function(){return this.transferPropsTo(form(null,this.props.children))},componentDidMount:function(node){ReactEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)}});module.exports=ReactDOMForm},{"./EventConstants":"SE1Big","./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj","./ReactEventEmitter":"xVoVjD"}],"8toZNe":[function(require,module,exports){var getObject=require("lodash._getobject"),noop=require("lodash._noop"),reNative=require("lodash._renative"),releaseObject=require("lodash._releaseobject");var objectProto=Object.prototype;var defineProperty=function(){try{var o={},func=reNative.test(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}();var setBindData=!defineProperty?noop:function(func,value){var descriptor=getObject();descriptor.value=value;defineProperty(func,"__bindData__",descriptor);releaseObject(descriptor)};module.exports=setBindData},{"lodash._getobject":"GvnyKT","lodash._noop":"lWzWwS","lodash._releaseobject":"5HL4mz","lodash._renative":"07xunD"}],"9B+0c5":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey="innerText"in document.createElement("div")?"innerText":"textContent"}return contentKey}module.exports=getTextContentAccessor},{"./ExecutionEnvironment":"VcPYgO"}],A8YiG2:[function(require,module,exports){function invariant(condition){if(!condition){throw new Error("Invariant Violation")}}module.exports=invariant},{}],AEwhyw:[function(require,module,exports){var maxPoolSize=40;module.exports=maxPoolSize},{}],"AfE2V/":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var ClipboardEventInterface={clipboardData:null};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":"cExfNQ"}],AktVFG:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};module.exports=shimKeys},{"lodash._objecttypes":"ZQrYgH"}],AvgaT5:[function(require,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){if(cache.hasOwnProperty(string)){return cache[string]}else{return cache[string]=callback.call(this,string)}}}module.exports=memoizeStringOnly},{}],"B/TCoZ":[function(require,module,exports){var isTextNode=require("./isTextNode");function nodeContains(outerNode,innerNode){if(!outerNode||!innerNode){return false}else if(outerNode===innerNode){return true}else if(isTextNode(outerNode)){return false}else if(isTextNode(innerNode)){return nodeContains(outerNode,innerNode.parentNode)}else if(outerNode.contains){return outerNode.contains(innerNode)}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16)}else{return false}}module.exports=nodeContains},{"./isTextNode":"BZQS5N"}],B70uQ1:[function(require,module,exports){var copyProperties=require("./copyProperties");function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}copyProperties(emptyFunction,{thatReturns:makeEmptyFunction,thatReturnsFalse:makeEmptyFunction(false),thatReturnsTrue:makeEmptyFunction(true),thatReturnsNull:makeEmptyFunction(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(arg){return arg}});module.exports=emptyFunction},{"./copyProperties":"aVPSSa"}],BCegyd:[function(require,module,exports){"use strict";var isUnitlessNumber={fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,zIndex:true,zoom:true};var shorthandPropertyExpansions={background:{backgroundImage:true,backgroundPosition:true,backgroundRepeat:true,backgroundColor:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],BCupoO:[function(require,module,exports){"use strict";var invariant=require("./invariant");var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return}for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);invariant(pluginIndex>-1);if(EventPluginRegistry.plugins[pluginIndex]){continue}invariant(PluginModule.extractEvents);EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule))}}}function publishEventForPlugin(dispatchConfig,PluginModule){var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule)}}return true}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule);return true}return false}function publishRegistrationName(registrationName,PluginModule){invariant(!EventPluginRegistry.registrationNames[registrationName]);EventPluginRegistry.registrationNames[registrationName]=PluginModule;EventPluginRegistry.registrationNamesKeys.push(registrationName)}var EventPluginRegistry={plugins:[],registrationNames:{},registrationNamesKeys:[],injectEventPluginOrder:function(InjectedEventPluginOrder){invariant(!EventPluginOrder);EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue}var PluginModule=injectedNamesToPlugins[pluginName];if(namesToPlugins[pluginName]!==PluginModule){invariant(!namesToPlugins[pluginName]);namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true}}if(isOrderingDirty){recomputePluginOrdering()}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNames[dispatchConfig.registrationName]||null}for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue}var PluginModule=EventPluginRegistry.registrationNames[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule}}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName]}}EventPluginRegistry.plugins.length=0;var registrationNames=EventPluginRegistry.registrationNames;for(var registrationName in registrationNames){if(registrationNames.hasOwnProperty(registrationName)){delete registrationNames[registrationName]}}EventPluginRegistry.registrationNamesKeys.length=0}};module.exports=EventPluginRegistry},{"./invariant":"A8YiG2"}],BOZRgU:[function(require,module,exports){var baseClone=require("lodash._baseclone"),baseCreateCallback=require("lodash._basecreatecallback");function cloneDeep(value,callback,thisArg){return baseClone(value,true,typeof callback=="function"&&baseCreateCallback(callback,thisArg,1))}module.exports=cloneDeep},{"lodash._baseclone":"+yc9cF","lodash._basecreatecallback":"K4kY80"}],BZQS5N:[function(require,module,exports){var isNode=require("./isNode");function isTextNode(object){return isNode(object)&&object.nodeType==3}module.exports=isTextNode},{"./isNode":"uRaW7N"}],Cd3fK8:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var KeyboardEventInterface={"char":null,key:null,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,charCode:null,keyCode:null,which:null};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":"0ofNfe"}],Cng8OX:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var emptyFunction=require("./emptyFunction");var topLevelTypes=EventConstants.topLevelTypes;var MobileSafariClickEventPlugin={eventTypes:null,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topTouchStart){var target=nativeEvent.target;if(target&&!target.onclick){target.onclick=emptyFunction}}}};module.exports=MobileSafariClickEventPlugin},{"./EventConstants":"SE1Big","./emptyFunction":"B70uQ1"}],CobQPb:[function(require,module,exports){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations");var LinkedValueMixin=require("./LinkedValueMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var ReactMount=require("./ReactMount");var invariant=require("./invariant");var merge=require("./merge");var input=ReactDOM.input;var instancesByReactID={};var ReactDOMInput=ReactCompositeComponent.createClass({mixins:[LinkedValueMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;return{checked:this.props.defaultChecked||false,value:defaultValue!=null?defaultValue:""}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props);props.defaultChecked=null;props.defaultValue=null;props.checked=this.props.checked!=null?this.props.checked:this.state.checked;var value=this.getValue();props.value=value!=null?value:this.state.value;props.onChange=this._handleChange;return input(props,this.props.children)},componentDidMount:function(rootNode){var id=ReactMount.getID(rootNode);instancesByReactID[id]=this},componentWillUnmount:function(){var rootNode=this.getDOMNode();var id=ReactMount.getID(rootNode);delete instancesByReactID[id]},componentDidUpdate:function(prevProps,prevState,rootNode){if(this.props.checked!=null){DOMPropertyOperations.setValueForProperty(rootNode,"checked",this.props.checked||false)}var value=this.getValue();if(value!=null){DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)}},_handleChange:function(event){var returnValue;var onChange=this.getOnChange();if(onChange){this._isChanging=true;returnValue=onChange(event);this._isChanging=false}this.setState({checked:event.target.checked,value:event.target.value});var name=this.props.name;if(this.props.type==="radio"&&name!=null){var rootNode=this.getDOMNode();var group=document.getElementsByName(name);for(var i=0,groupLen=group.length;i<groupLen;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.nodeName!=="INPUT"||otherNode.type!=="radio"||otherNode.form!==rootNode.form){continue}var otherID=ReactMount.getID(otherNode);invariant(otherID);var otherInstance=instancesByReactID[otherID];invariant(otherInstance);otherInstance.setState({checked:false})}}return returnValue}});module.exports=ReactDOMInput},{"./DOMPropertyOperations":"1rfYoz","./LinkedValueMixin":"oH5sxN","./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj","./ReactMount":"7KU6qp","./invariant":"A8YiG2","./merge":"D67bCH"}],D33hUR:[function(require,module,exports){"use strict";var invariant=require("./invariant");var keyMirror=function(obj){var ret={};var key;invariant(obj instanceof Object&&!Array.isArray(obj));for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},{"./invariant":"A8YiG2"}],D67bCH:[function(require,module,exports){"use strict";var mergeInto=require("./mergeInto");var merge=function(one,two){var result={};mergeInto(result,one);mergeInto(result,two);return result};module.exports=merge},{"./mergeInto":"d22rvi"}],"Dwh+Gw":[function(require,module,exports){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactMount=require("./ReactMount");var ReactReconcileTransaction=require("./ReactReconcileTransaction");var getReactRootElementInContainer=require("./getReactRootElementInContainer");var invariant=require("./invariant");var mutateHTMLNodeWithMarkup=require("./mutateHTMLNodeWithMarkup");var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var ReactComponentBrowserEnvironment={Mixin:{getDOMNode:function(){invariant(this.isMounted());return ReactMount.getNode(this._rootNodeID)}},ReactReconcileTransaction:ReactReconcileTransaction,DOMIDOperations:ReactDOMIDOperations,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)},mountImageIntoNode:function(markup,container,shouldReuseMarkup){invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE&&ReactMount.allowFullPageRender));if(shouldReuseMarkup){if(ReactMarkupChecksum.canReuseMarkup(markup,getReactRootElementInContainer(container))){return}else{}}if(container.nodeType===DOC_NODE_TYPE){mutateHTMLNodeWithMarkup(container.documentElement,markup);return}var parent=container.parentNode;if(parent){var next=container.nextSibling;parent.removeChild(container);container.innerHTML=markup;if(next){parent.insertBefore(container,next)}else{parent.appendChild(container)}}else{container.innerHTML=markup}}};module.exports=ReactComponentBrowserEnvironment},{"./ReactDOMIDOperations":"UuaTvm","./ReactMarkupChecksum":"b3rcxo","./ReactMount":"7KU6qp","./ReactReconcileTransaction":"GtiY+O","./getReactRootElementInContainer":"oCAlR1","./invariant":"A8YiG2","./mutateHTMLNodeWithMarkup":"+FFAD6"}],"EcUY+6":[function(require,module,exports){"use strict";var CallbackRegistry=require("./CallbackRegistry");var EventPluginRegistry=require("./EventPluginRegistry");var EventPluginUtils=require("./EventPluginUtils");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var accumulate=require("./accumulate");var forEachAccumulated=require("./forEachAccumulated");var invariant=require("./invariant");var eventQueue=null;var executeDispatchesAndRelease=function(event){if(event){var executeDispatch=EventPluginUtils.executeDispatch;var PluginModule=EventPluginRegistry.getPluginModuleForEvent(event);if(PluginModule&&PluginModule.executeDispatch){executeDispatch=PluginModule.executeDispatch}EventPluginUtils.executeDispatchesInOrder(event,executeDispatch);if(!event.isPersistent()){event.constructor.release(event)}}};var EventPluginHub={injection:{injectInstanceHandle:EventPropagators.injection.injectInstanceHandle,injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},registrationNames:EventPluginRegistry.registrationNames,putListener:CallbackRegistry.putListener,getListener:CallbackRegistry.getListener,deleteListener:CallbackRegistry.deleteListener,deleteAllListeners:CallbackRegistry.deleteAllListeners,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events;
var plugins=EventPluginRegistry.plugins;for(var i=0,l=plugins.length;i<l;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);if(extractedEvents){events=accumulate(events,extractedEvents)}}}return events},enqueueEvents:function(events){if(events){eventQueue=accumulate(eventQueue,events)}},processEventQueue:function(){var processingEventQueue=eventQueue;eventQueue=null;forEachAccumulated(processingEventQueue,executeDispatchesAndRelease);invariant(!eventQueue)}};if(ExecutionEnvironment.canUseDOM){window.EventPluginHub=EventPluginHub}module.exports=EventPluginHub},{"./CallbackRegistry":"zXdfSL","./EventPluginRegistry":"BCupoO","./EventPluginUtils":"Ws1Uhn","./EventPropagators":"SOC163","./ExecutionEnvironment":"VcPYgO","./accumulate":"jWptpb","./forEachAccumulated":"MSg7xV","./invariant":"A8YiG2"}],EuRN0w:[function(require,module,exports){"use strict";module.exports={getActiveApp:function(){return require(""+"react-app/runtime/browser").app},createApp:require("./app"),createPage:require("./page").createPage}},{"./app":"zcV8ZS","./page":"+OQ+1g"}],"F/2dCB":[function(require,module,exports){"use strict";var getNodeForCharacterOffset=require("./getNodeForCharacterOffset");var getTextContentAccessor=require("./getTextContentAccessor");function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection();if(selection.rangeCount===0){return null}var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);var rangeLength=currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var start=tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;detectionRange.detach();return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(typeof offsets.end==="undefined"){start=offsets.start;end=start}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start}else{start=offsets.start;end=offsets.end}range.moveToElementText(node);range.moveStart("character",start);range.setEndPoint("EndToStart",range);range.moveEnd("character",end-start);range.select()}function setModernOffsets(node,offsets){var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=typeof offsets.end==="undefined"?start:Math.min(offsets.end,length);var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();selection.addRange(range);selection.extend(endMarker.node,endMarker.offset);range.detach()}}var ReactDOMSelection={getOffsets:function(node){var getOffsets=document.selection?getIEOffsets:getModernOffsets;return getOffsets(node)},setOffsets:function(node,offsets){var setOffsets=document.selection?setIEOffsets:setModernOffsets;setOffsets(node,offsets)}};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":"6fpSe2","./getTextContentAccessor":"9B+0c5"}],Fjhu7o:[function(require,module,exports){"use strict";var invariant=require("./invariant");var DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_BOOLEAN_VALUE:4,HAS_SIDE_EFFECTS:8,injectDOMPropertyConfig:function(domPropertyConfig){var Properties=domPropertyConfig.Properties||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute)}for(var propName in Properties){invariant(!DOMProperty.isStandardName[propName]);DOMProperty.isStandardName[propName]=true;var lowerCased=propName.toLowerCase();DOMProperty.getPossibleStandardName[lowerCased]=propName;var attributeName=DOMAttributeNames[propName];if(attributeName){DOMProperty.getPossibleStandardName[attributeName]=propName}DOMProperty.getAttributeName[propName]=attributeName||lowerCased;DOMProperty.getPropertyName[propName]=DOMPropertyNames[propName]||propName;var mutationMethod=DOMMutationMethods[propName];if(mutationMethod){DOMProperty.getMutationMethod[propName]=mutationMethod}var propConfig=Properties[propName];DOMProperty.mustUseAttribute[propName]=propConfig&DOMPropertyInjection.MUST_USE_ATTRIBUTE;DOMProperty.mustUseProperty[propName]=propConfig&DOMPropertyInjection.MUST_USE_PROPERTY;DOMProperty.hasBooleanValue[propName]=propConfig&DOMPropertyInjection.HAS_BOOLEAN_VALUE;DOMProperty.hasSideEffects[propName]=propConfig&DOMPropertyInjection.HAS_SIDE_EFFECTS;invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName]);invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName])}}};var defaultValueCache={};var DOMProperty={isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasBooleanValue:{},hasSideEffects:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){return DOMProperty._isCustomAttributeFunctions.some(function(isCustomAttributeFn){return isCustomAttributeFn.call(null,attributeName)})},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName];var testElement;if(!nodeDefaults){defaultValueCache[nodeName]=nodeDefaults={}}if(!(prop in nodeDefaults)){testElement=document.createElement(nodeName);nodeDefaults[prop]=testElement[prop]}return nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{"./invariant":"A8YiG2"}],GlXVNv:[function(require,module,exports){var React=require("react-tools/build/modules/React"),BlockMixin=require("../block-mixin"),Focusable=require("../focusable"),keys=require("../keys");var Image=React.createClass({displayName:"Image",mixins:[Focusable],render:function(){return this.transferPropsTo(React.DOM.img({tabIndex:"0"}))}});module.exports=React.createClass({mixins:[BlockMixin],render:function(){var className="Block Image"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},Image({focus:this.props.focus,onFocus:this.props.editor.updateFocus.bind(null,this.props.block),onKeyDown:this.onKeyDown,src:this.props.block.content}))}})},{"../block-mixin":"40JTBG","../focusable":"uY1u0W","../keys":"HhJo8C","react-tools/build/modules/React":"2aDVnh"}],"GtiY+O":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var PooledClass=require("./PooledClass");var ReactEventEmitter=require("./ReactEventEmitter");var ReactInputSelection=require("./ReactInputSelection");var ReactMountReady=require("./ReactMountReady");var Transaction=require("./Transaction");var mixInto=require("./mixInto");var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactEventEmitter.isEnabled();ReactEventEmitter.setEnabled(false);return currentlyEnabled},close:function(previouslyEnabled){ReactEventEmitter.setEnabled(previouslyEnabled)}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];function ReactReconcileTransaction(){this.reinitializeTransaction();this.reactMountReady=ReactMountReady.getPooled(null)}var Mixin={getTransactionWrappers:function(){if(ExecutionEnvironment.canUseDOM){return TRANSACTION_WRAPPERS}else{return[]}},getReactMountReady:function(){return this.reactMountReady},destructor:function(){ReactMountReady.release(this.reactMountReady);this.reactMountReady=null}};mixInto(ReactReconcileTransaction,Transaction.Mixin);mixInto(ReactReconcileTransaction,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction},{"./ExecutionEnvironment":"VcPYgO","./PooledClass":"J6a26b","./ReactEventEmitter":"xVoVjD","./ReactInputSelection":"00RP5P","./ReactMountReady":"mkLpME","./Transaction":"W2uhSI","./mixInto":"kPNYuv"}],GvnyKT:[function(require,module,exports){var objectPool=require("lodash._objectpool");function getObject(){return objectPool.pop()||{array:null,cache:null,configurable:false,criteria:null,enumerable:false,"false":false,index:0,leading:false,maxWait:0,"null":false,number:null,object:null,push:null,string:null,trailing:false,"true":false,undefined:false,value:null,writable:false}}module.exports=getObject},{"lodash._objectpool":"JKGD8t"}],HhJo8C:[function(require,module,exports){var assign=require("lodash").assign;var defaultMods={altKey:false,shiftKey:false,ctrlKey:false,metaKey:false};module.exports={match:function(e,code,mods){var p=assign({keyCode:code},defaultMods,mods);return Object.keys(p).every(function(k){return p[k]===e[k]})},SPACE:32,ENTER:13,BACKSPACE:8,KEY3:51,KEY8:56,ARROW_UP:38,ARROW_DOWN:40,SPACE:32,TAB:9}},{lodash:"rhzjCI"}],HmDqIT:[function(require,module,exports){function slice(array,start,end){start||(start=0);if(typeof end=="undefined"){end=array?array.length:0}var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}return result}module.exports=slice},{}],I2X1gF:[function(require,module,exports){function getActiveElement(){try{return document.activeElement}catch(e){return null}}module.exports=getActiveElement},{}],"INrnE/":[function(require,module,exports){function isFunction(value){return typeof value=="function"}module.exports=isFunction},{}],IX6p2j:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");function isObject(value){return!!(value&&objectTypes[typeof value])}module.exports=isObject},{"lodash._objecttypes":"YB4SiS"}],IdiAKq:[function(require,module,exports){"use strict";var keyOf=require("./keyOf");var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({CompositionEventPlugin:null}),keyOf({AnalyticsEventPlugin:null}),keyOf({MobileSafariClickEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"./keyOf":"2m/F8p"}],InGls5:[function(require,module,exports){exports.markdown=require("./markdown");exports.parse=exports.markdown.toHTML},{"./markdown":"OS9fTy"}],J6a26b:[function(require,module,exports){"use strict";var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance}else{return new Klass(copyFieldsFrom)}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance}else{return new Klass(a1,a2)}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance}else{return new Klass(a1,a2,a3)}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance}else{return new Klass(a1,a2,a3,a4,a5)}};var standardReleaser=function(instance){var Klass=this;if(instance.destructor){instance.destructor()}if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance)}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE}NewKlass.release=standardReleaser;return NewKlass};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{}],JDY7nu:[function(require,module,exports){function identity(value){return value}module.exports=identity},{}],JKGD8t:[function(require,module,exports){var objectPool=[];module.exports=objectPool},{}],JjnOrr:[function(require,module,exports){"use strict";var React=require("react-tools/build/modules/React"),parseInlineMarkup=require("../parser").parseInlineMarkup,contentEditableLineMetrics=require("../content-editable-line-metrics"),textNodes=require("../content-editable-text-nodes"),keys=require("../keys"),DOMObserver=require("../dom-observer"),Focusable=require("../focusable");function isToken(node){return node.dataset&&node.dataset.token!==undefined}function closestTextLeft(node){while(node.previousSibling){node=node.previousSibling;if(!isToken(node))return node}}function closestTextRight(node){while(node.nextSibling){node=node.nextSibling;if(!isToken(node))return node}}module.exports=React.createClass({mixins:[Focusable,DOMObserver],getTokens:function(){return textNodes(this.getDOMNode(),true)},getCaretPosition:function(){return contentEditableLineMetrics(this.getDOMNode())},getCaretOffset:function(withMarkup){var tokens=this.getTokens(),selection=document.getSelection(),node=selection.focusNode,offset=selection.focusOffset;if(!node)return;if(isToken(node.parentNode))node=node.parentNode;if(withMarkup){return node.__totalIndex+offset}else{if(isToken(node)){var text=closestTextLeft(node);if(text)return text.__index+text.__length;var text=closestTextRight(node);if(text)return text.__index;return 0}else{return node.__index+offset}}},restoreCaretOffset:function(){var tokens=this.getTokens(),offset=this.state.focusOffset||0;for(var i=0,length=tokens.length;i<length;i++){var token=tokens[i];if(offset>=token.__totalIndex&&offset<=token.__totalIndex+token.__length){offset=offset-token.__totalIndex;setSingleRange(token,offset);return}}var node=this.getDOMNode(),lastToken=tokens[tokens.length-1];if(lastToken){setSingleRange(lastToken,lastToken.__length)}else{setSingleRange(node,0)}},getContent:function(withMarkup){var content="";var tokens=this.getTokens();for(var i=0,length=tokens.length;i<length;i++){var token=tokens[i];if(token.dataset&&token.dataset.token!==undefined){if(withMarkup)content=content+token.textContent}else{content=content+token.textContent}}return content},getAnnotations:function(){var annotations=[];var tokens=this.getTokens();for(var i=0,length=tokens.length;i<length;i++){var token=tokens[i];if(token.dataset&&token.dataset.token!==undefined)continue;if(!token.parentNode)continue;var annotationType=token.parentNode.dataset.annotationType;if(annotationType&&token.__length>0)annotations.push({type:annotationType,range:[token.__index,token.__index+token.__length]})}return annotations},getInitialState:function(){return{content:this.props.content,annotations:this.props.annotations,focusOffset:this.props.focusOffset}},componentWillReceiveProps:function(props){this.state.content=props.content;this.state.annotations=props.annotations;this.state.focusOffset=props.focusOffset},componentDidUpdate:function(){if(this.props.focus)this.restoreCaretOffset()},componentDidMount:function(){this.parse()},onDOMChanges:function(){this.parse()},parse:function(){var content=this.getContent(true);if(this.props.onMarkupUpdate&&this.props.onMarkupUpdate(content))return;var update=parseInlineMarkup(content);if(this.props.onUpdate&&this.props.onUpdate({content:update.content,annotations:update.annotations,markdown:content,focusOffset:this.getCaretOffset(true)}))return;this.setState({content:update.content,annotations:update.annotations,focusOffset:this.getCaretOffset(true)})},onSelect:function(e){this.state.focusOffset=this.getCaretOffset(true);if(this.props.onSelect)this.props.onSelect(e);if(this.props.onCaretOffsetUpdate)this.props.onCaretOffsetUpdate(this.state.focusOffset)},onKeyDown:function(e){if(e.keyCode===keys.SPACE){var node=this.getDOMNode(),selection=document.getSelection(),tokens=this.getTokens(),lastToken=tokens[tokens.length-1],token=selection.focusNode;while(token!==node&&tokens.indexOf(token)===-1)token=token.parentNode;if(token===node){e.preventDefault();document.execCommand("insertText",false,"&nbsp;")}else if(token.__totalIndex+selection.focusOffset===lastToken.__totalIndex+lastToken.__length){e.preventDefault();document.execCommand("insertText",false,"&nbsp;")}}if(this.props.onKeyDown)this.props.onKeyDown(e)},renderAnnotatedContent:function(content){var text=this.state.content,annotations=this.state.annotations,nodes=[];if(annotations&&annotations.length>0){if(annotations[0].range[0]>0){nodes.push(genText(text.substring(0,annotations[0].range[0])))}var prev;for(var i=0,length=annotations.length;i<length;i++){var annotation=annotations[i];if(prev&&annotation.range[0]-prev.range[1]>=1){nodes.push(genText(text.substring(prev.range[1],annotation.range[0])))}nodes.push(genAnnotation({type:annotation.type,content:text.substring.apply(text,annotation.range)}));prev=annotation}var last=annotations[annotations.length-1].range;if(last[1]<text.length){nodes.push(genText(text.substring(last[1],text.length)))}}else{nodes.push(genText(text))}return nodes.join("")},render:function(){var content=this.renderAnnotatedContent();return this.transferPropsTo(React.DOM.div({contentEditable:"true",className:"Editor",onSelect:this.onSelect,onKeyDown:this.onKeyDown,dangerouslySetInnerHTML:{__html:content}}))}});function setSingleRange(node,offset){var rng=document.createRange();rng.setStart(node,offset);rng.collapse(true);var selection=document.getSelection();selection.removeAllRanges();selection.addRange(rng)}function genAnnotation(annotation){var inner;switch(annotation.type){case"em":inner=genToken("*")+annotation.content+genToken("*");break;case"strong":inner=genToken("*")+genToken("*")+annotation.content+genToken("*")+genToken("*");break;case"inlinecode":inner=genToken("`")+annotation.content+genToken("`");break;default:console.error("unknown annotation type")}return"<span"+' data-annotation-type="'+annotation.type+'"'+' class="Annotation '+annotation.type+'">'+inner+"</span>"}function genToken(token){return'<span class="token" data-token>'+token+"</span>"}function genText(text){return text.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{"../content-editable-line-metrics":"nHjK1j","../content-editable-text-nodes":"1PZSOf","../dom-observer":"4q2K4x","../focusable":"uY1u0W","../keys":"HhJo8C","../parser":"R+1zI3","react-tools/build/modules/React":"2aDVnh"}],K4kY80:[function(require,module,exports){var bind=require("lodash.bind"),identity=require("lodash.identity"),setBindData=require("lodash._setbinddata"),support=require("lodash.support");var reFuncName=/^function[ \n\r\t]+\w/;var reThis=/\bthis\b/;var fnToString=Function.prototype.toString;function baseCreateCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(typeof thisArg=="undefined"){return func}var bindData=func.__bindData__||support.funcNames&&!func.name;if(typeof bindData=="undefined"){var source=reThis&&fnToString.call(func);if(!support.funcNames&&source&&!reFuncName.test(source)){bindData=true}if(support.funcNames||!bindData){bindData=!support.funcDecomp||reThis.test(source);setBindData(func,bindData)}}if(bindData!==true&&bindData&&bindData[1]&1){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}module.exports=baseCreateCallback},{"lodash._setbinddata":"8toZNe","lodash.bind":"ufGkt7","lodash.identity":"JDY7nu","lodash.support":"eVrMpX"}],"KJs4c/":[function(require,module,exports){var shims=require("_shims");var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};shims.forEach(array,function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=shims.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=shims.getOwnPropertyNames(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}shims.forEach(keys,function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=shims.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(shims.indexOf(ctx.seen,desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=shims.reduce(output,function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return shims.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&objectToString(e)==="[object Error]"}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.binarySlice==="function"}exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=shims.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})};exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=shims.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}},{_shims:"KuhTx8"}],KMeScQ:[function(require,module,exports){var common;module.exports=common={getNames:function(arg){var names,regex,results;if(arg instanceof RegExp){return[]}regex=/:([^\/]+)/g;names=[];results=regex.exec(arg);while(results!=null){names.push(results[1]);results=regex.exec(arg)}return names},toRegexString:function(arg){common.getNames(arg).forEach(function(name){return arg=arg.replace(":"+name,"([^/]+)")});return"^"+arg.replace(/\*/g,".*")+"$"}}},{}],KR52p0:[function(require,module,exports){var arrayPool=[];module.exports=arrayPool},{}],Kk4FNr:[function(require,module,exports){var isObject=require("lodash.isobject"),reNative=require("lodash._renative"),shimKeys=require("lodash._shimkeys");var objectProto=Object.prototype;var nativeKeys=reNative.test(nativeKeys=Object.keys)&&nativeKeys;var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};module.exports=keys},{"lodash._renative":"0roR6l","lodash._shimkeys":"rLKzRi","lodash.isobject":"IX6p2j"}],KuhTx8:[function(require,module,exports){var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function isArray(xs){return toString.call(xs)==="[object Array]"}exports.isArray=typeof Array.isArray==="function"?Array.isArray:isArray;exports.indexOf=function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++){if(x===xs[i])return i}return-1};exports.filter=function filter(xs,fn){if(xs.filter)return xs.filter(fn);var res=[];for(var i=0;i<xs.length;i++){if(fn(xs[i],i,xs))res.push(xs[i])}return res};exports.forEach=function forEach(xs,fn,self){if(xs.forEach)return xs.forEach(fn,self);for(var i=0;i<xs.length;i++){fn.call(self,xs[i],i,xs)}};exports.map=function map(xs,fn){if(xs.map)return xs.map(fn);var out=new Array(xs.length);for(var i=0;i<xs.length;i++){out[i]=fn(xs[i],i,xs)}return out};exports.reduce=function reduce(array,callback,opt_initialValue){if(array.reduce)return array.reduce(callback,opt_initialValue);var value,isValueSet=false;if(2<arguments.length){value=opt_initialValue;isValueSet=true}for(var i=0,l=array.length;l>i;++i){if(array.hasOwnProperty(i)){if(isValueSet){value=callback(value,array[i],i,array)}else{value=array[i];isValueSet=true}}}return value};if("ab".substr(-1)!=="b"){exports.substr=function(str,start,length){if(start<0)start=str.length+start;return str.substr(start,length)}}else{exports.substr=function(str,start,length){return str.substr(start,length)}}exports.trim=function(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")};exports.bind=function(){var args=Array.prototype.slice.call(arguments);var fn=args.shift();if(fn.bind)return fn.bind.apply(fn,args);var self=args.shift();return function(){fn.apply(self,args.concat([Array.prototype.slice.call(arguments)]))
}};function create(prototype,properties){var object;if(prototype===null){object={__proto__:null}}else{if(typeof prototype!=="object"){throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'")}var Type=function(){};Type.prototype=prototype;object=new Type;object.__proto__=prototype}if(typeof properties!=="undefined"&&Object.defineProperties){Object.defineProperties(object,properties)}return object}exports.create=typeof Object.create==="function"?Object.create:create;function notObject(object){return typeof object!="object"&&typeof object!="function"||object===null}function keysShim(object){if(notObject(object)){throw new TypeError("Object.keys called on a non-object")}var result=[];for(var name in object){if(hasOwnProperty.call(object,name)){result.push(name)}}return result}function propertyShim(object){if(notObject(object)){throw new TypeError("Object.getOwnPropertyNames called on a non-object")}var result=keysShim(object);if(exports.isArray(object)&&exports.indexOf(object,"length")===-1){result.push("length")}return result}var keys=typeof Object.keys==="function"?Object.keys:keysShim;var getOwnPropertyNames=typeof Object.getOwnPropertyNames==="function"?Object.getOwnPropertyNames:propertyShim;if((new Error).hasOwnProperty("description")){var ERROR_PROPERTY_FILTER=function(obj,array){if(toString.call(obj)==="[object Error]"){array=exports.filter(array,function(name){return name!=="description"&&name!=="number"&&name!=="message"})}return array};exports.keys=function(object){return ERROR_PROPERTY_FILTER(object,keys(object))};exports.getOwnPropertyNames=function(object){return ERROR_PROPERTY_FILTER(object,getOwnPropertyNames(object))}}else{exports.keys=keys;exports.getOwnPropertyNames=getOwnPropertyNames}function valueObject(value,key){return{value:value[key]}}if(typeof Object.getOwnPropertyDescriptor==="function"){try{Object.getOwnPropertyDescriptor({a:1},"a");exports.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor}catch(e){exports.getOwnPropertyDescriptor=function(value,key){try{return Object.getOwnPropertyDescriptor(value,key)}catch(e){return valueObject(value,key)}}}}else{exports.getOwnPropertyDescriptor=valueObject}},{}],LOrUYJ:[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");var dangerousStyleValue=require("./dangerousStyleValue");var escapeTextForBrowser=require("./escapeTextForBrowser");var hyphenate=require("./hyphenate");var memoizeStringOnly=require("./memoizeStringOnly");var processStyleName=memoizeStringOnly(function(styleName){return escapeTextForBrowser(hyphenate(styleName))});var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}var styleValue=styles[styleName];if(styleValue!=null){serialized+=processStyleName(styleName)+":";serialized+=dangerousStyleValue(styleName,styleValue)+";"}}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleValue){style[styleName]=styleValue}else{var expansion=CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]=""}}else{style[styleName]=""}}}}};module.exports=CSSPropertyOperations},{"./CSSProperty":"BCegyd","./dangerousStyleValue":"W8GMDm","./escapeTextForBrowser":"2mRphX","./hyphenate":"exCkuA","./memoizeStringOnly":"AvgaT5"}],M2YzqV:[function(require,module,exports){var arrayPool=require("lodash._arraypool"),maxPoolSize=require("lodash._maxpoolsize");function releaseArray(array){array.length=0;if(arrayPool.length<maxPoolSize){arrayPool.push(array)}}module.exports=releaseArray},{"lodash._arraypool":"KR52p0","lodash._maxpoolsize":"AEwhyw"}],MSg7xV:[function(require,module,exports){"use strict";var forEachAccumulated=function(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope)}else if(arr){cb.call(scope,arr)}};module.exports=forEachAccumulated},{}],MY2M6d:[function(require,module,exports){var rangy;rangy=module.exports=rangy||function(){var OBJECT="object",FUNCTION="function",UNDEFINED="undefined";var domRangeProperties=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];var domRangeMethods=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"];var textRangeProperties=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"];var textRangeMethods=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function isHostMethod(o,p){var t=typeof o[p];return t==FUNCTION||!!(t==OBJECT&&o[p])||t=="unknown"}function isHostObject(o,p){return!!(typeof o[p]==OBJECT&&o[p])}function isHostProperty(o,p){return typeof o[p]!=UNDEFINED}function createMultiplePropertyTest(testFunc){return function(o,props){var i=props.length;while(i--){if(!testFunc(o,props[i])){return false}}return true}}var areHostMethods=createMultiplePropertyTest(isHostMethod);var areHostObjects=createMultiplePropertyTest(isHostObject);var areHostProperties=createMultiplePropertyTest(isHostProperty);function isTextRange(range){return range&&areHostMethods(range,textRangeMethods)&&areHostProperties(range,textRangeProperties)}function getBody(doc){return isHostObject(doc,"body")?doc.body:doc.getElementsByTagName("body")[0]}var modules={};var api={version:"1.3alpha.772",initialized:false,supported:true,util:{isHostMethod:isHostMethod,isHostObject:isHostObject,isHostProperty:isHostProperty,areHostMethods:areHostMethods,areHostObjects:areHostObjects,areHostProperties:areHostProperties,isTextRange:isTextRange,getBody:getBody},features:{},modules:modules,config:{alertOnFail:true,alertOnWarn:false,preferTextRange:false}};function consoleLog(msg){if(isHostObject(window,"console")&&isHostMethod(window.console,"log")){window.console.log(msg)}}function alertOrLog(msg,shouldAlert){if(shouldAlert){window.alert(msg)}else{consoleLog(msg)}}function fail(reason){api.initialized=true;api.supported=false;alertOrLog("Rangy is not supported on this page in your browser. Reason: "+reason,api.config.alertOnFail)}api.fail=fail;function warn(msg){alertOrLog("Rangy warning: "+msg,api.config.alertOnWarn)}api.warn=warn;if({}.hasOwnProperty){api.util.extend=function(obj,props,deep){var o,p;for(var i in props){if(props.hasOwnProperty(i)){o=obj[i];p=props[i];if(deep&&o!==null&&typeof o=="object"&&p!==null&&typeof p=="object"){api.util.extend(o,p,true)}obj[i]=p}}return obj}}else{fail("hasOwnProperty not supported")}(function(){var el=document.createElement("div");el.appendChild(document.createElement("span"));var slice=[].slice;var toArray;try{if(slice.call(el.childNodes,0)[0].nodeType==1){toArray=function(arrayLike){return slice.call(arrayLike,0)}}}catch(e){}if(!toArray){toArray=function(arrayLike){var arr=[];for(var i=0,len=arrayLike.length;i<len;++i){arr[i]=arrayLike[i]}return arr}}api.util.toArray=toArray})();var addListener;if(isHostMethod(document,"addEventListener")){addListener=function(obj,eventType,listener){obj.addEventListener(eventType,listener,false)}}else if(isHostMethod(document,"attachEvent")){addListener=function(obj,eventType,listener){obj.attachEvent("on"+eventType,listener)}}else{fail("Document does not have required addEventListener or attachEvent method")}api.util.addListener=addListener;var initListeners=[];function getErrorDesc(ex){return ex.message||ex.description||String(ex)}function init(){if(api.initialized){return}var testRange;var implementsDomRange=false,implementsTextRange=false;if(isHostMethod(document,"createRange")){testRange=document.createRange();if(areHostMethods(testRange,domRangeMethods)&&areHostProperties(testRange,domRangeProperties)){implementsDomRange=true}testRange.detach()}var body=getBody(document);if(!body||body.nodeName.toLowerCase()!="body"){fail("No body element found");return}if(body&&isHostMethod(body,"createTextRange")){testRange=body.createTextRange();if(isTextRange(testRange)){implementsTextRange=true}}if(!implementsDomRange&&!implementsTextRange){fail("Neither Range nor TextRange are available");return}api.initialized=true;api.features={implementsDomRange:implementsDomRange,implementsTextRange:implementsTextRange};var module,errorMessage;for(var moduleName in modules){if((module=modules[moduleName])instanceof Module){module.init()}}for(var i=0,len=initListeners.length;i<len;++i){try{initListeners[i](api)}catch(ex){errorMessage="Rangy init listener threw an exception. Continuing. Detail: "+getErrorDesc(ex);consoleLog(errorMessage)}}}api.init=init;api.addInitListener=function(listener){if(api.initialized){listener(api)}else{initListeners.push(listener)}};var createMissingNativeApiListeners=[];api.addCreateMissingNativeApiListener=function(listener){createMissingNativeApiListeners.push(listener)};function createMissingNativeApi(win){win=win||window;init();for(var i=0,len=createMissingNativeApiListeners.length;i<len;++i){createMissingNativeApiListeners[i](win)}}api.createMissingNativeApi=createMissingNativeApi;function Module(name,initializer){this.name=name;this.initialized=false;this.supported=false;this.init=initializer}Module.prototype={fail:function(reason){this.initialized=true;this.supported=false;throw new Error("Module '"+this.name+"' failed to load: "+reason)},warn:function(msg){api.warn("Module "+this.name+": "+msg)},deprecationNotice:function(deprecated,replacement){api.warn("DEPRECATED: "+deprecated+" in module "+this.name+"is deprecated. Please use "+replacement+" instead")},createError:function(msg){return new Error("Error in Rangy "+this.name+" module: "+msg)}};api.createModule=function(name,initFunc){var module=new Module(name,function(){if(!module.initialized){module.initialized=true;try{initFunc(api,module);module.supported=true}catch(ex){var errorMessage="Module '"+name+"' failed to load: "+getErrorDesc(ex);consoleLog(errorMessage)}}});modules[name]=module};api.requireModules=function(moduleNames){for(var i=0,len=moduleNames.length,module,moduleName;i<len;++i){moduleName=moduleNames[i];module=modules[moduleName];if(!module||!(module instanceof Module)){throw new Error("required module '"+moduleName+"' not found")}module.init();if(!module.supported){throw new Error("required module '"+moduleName+"' not supported")}}};var docReady=false;var loadHandler=function(e){if(!docReady){docReady=true;if(!api.initialized){init()}}};if(typeof window==UNDEFINED){fail("No window found");return}if(typeof document==UNDEFINED){fail("No document found");return}if(isHostMethod(document,"addEventListener")){document.addEventListener("DOMContentLoaded",loadHandler,false)}addListener(window,"load",loadHandler);return api}();rangy.createModule("DomUtil",function(api,module){var UNDEF="undefined";var util=api.util;if(!util.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])){module.fail("document missing a Node creation method")}if(!util.isHostMethod(document,"getElementsByTagName")){module.fail("document missing getElementsByTagName method")}var el=document.createElement("div");if(!util.areHostMethods(el,["insertBefore","appendChild","cloneNode"]||!util.areHostObjects(el,["previousSibling","nextSibling","childNodes","parentNode"]))){module.fail("Incomplete Element implementation")}if(!util.isHostProperty(el,"innerHTML")){module.fail("Element is missing innerHTML property")}var textNode=document.createTextNode("test");if(!util.areHostMethods(textNode,["splitText","deleteData","insertData","appendData","cloneNode"]||!util.areHostObjects(el,["previousSibling","nextSibling","childNodes","parentNode"])||!util.areHostProperties(textNode,["data"]))){module.fail("Incomplete Text Node implementation")}var arrayContains=function(arr,val){var i=arr.length;while(i--){if(arr[i]===val){return true}}return false};function isHtmlNamespace(node){var ns;return typeof node.namespaceURI==UNDEF||(ns=node.namespaceURI)===null||ns=="http://www.w3.org/1999/xhtml"}function parentElement(node){var parent=node.parentNode;return parent.nodeType==1?parent:null}function getNodeIndex(node){var i=0;while(node=node.previousSibling){++i}return i}function getNodeLength(node){switch(node.nodeType){case 7:case 10:return 0;case 3:case 8:return node.length;default:return node.childNodes.length}}function getCommonAncestor(node1,node2){var ancestors=[],n;for(n=node1;n;n=n.parentNode){ancestors.push(n)}for(n=node2;n;n=n.parentNode){if(arrayContains(ancestors,n)){return n}}return null}function isAncestorOf(ancestor,descendant,selfIsAncestor){var n=selfIsAncestor?descendant:descendant.parentNode;while(n){if(n===ancestor){return true}else{n=n.parentNode}}return false}function isOrIsAncestorOf(ancestor,descendant){return isAncestorOf(ancestor,descendant,true)}function getClosestAncestorIn(node,ancestor,selfIsAncestor){var p,n=selfIsAncestor?node:node.parentNode;while(n){p=n.parentNode;if(p===ancestor){return n}n=p}return null}function isCharacterDataNode(node){var t=node.nodeType;return t==3||t==4||t==8}function isTextOrCommentNode(node){if(!node){return false}var t=node.nodeType;return t==3||t==8}function insertAfter(node,precedingNode){var nextNode=precedingNode.nextSibling,parent=precedingNode.parentNode;if(nextNode){parent.insertBefore(node,nextNode)}else{parent.appendChild(node)}return node}function splitDataNode(node,index,positionsToPreserve){var newNode=node.cloneNode(false);newNode.deleteData(0,index);node.deleteData(index,node.length-index);insertAfter(newNode,node);if(positionsToPreserve){for(var i=0,position;position=positionsToPreserve[i++];){if(position.node==node&&position.offset>index){position.node=newNode;position.offset-=index}else if(position.node==node.parentNode&&position.offset>getNodeIndex(node)){++position.offset}}}return newNode}function getDocument(node){if(node.nodeType==9){return node}else if(typeof node.ownerDocument!=UNDEF){return node.ownerDocument}else if(typeof node.document!=UNDEF){return node.document}else if(node.parentNode){return getDocument(node.parentNode)}else{throw module.createError("getDocument: no document found for node")}}function getWindow(node){var doc=getDocument(node);if(typeof doc.defaultView!=UNDEF){return doc.defaultView}else if(typeof doc.parentWindow!=UNDEF){return doc.parentWindow}else{throw module.createError("Cannot get a window object for node")}}function getIframeDocument(iframeEl){if(typeof iframeEl.contentDocument!=UNDEF){return iframeEl.contentDocument}else if(typeof iframeEl.contentWindow!=UNDEF){return iframeEl.contentWindow.document}else{throw module.createError("getIframeDocument: No Document object found for iframe element")}}function getIframeWindow(iframeEl){if(typeof iframeEl.contentWindow!=UNDEF){return iframeEl.contentWindow}else if(typeof iframeEl.contentDocument!=UNDEF){return iframeEl.contentDocument.defaultView}else{throw module.createError("getIframeWindow: No Window object found for iframe element")}}function isWindow(obj){return obj&&util.isHostMethod(obj,"setTimeout")&&util.isHostObject(obj,"document")}function getContentDocument(obj,module,methodName){var doc;if(!obj){doc=document}else if(util.isHostProperty(obj,"nodeType")){doc=obj.nodeType==1&&obj.tagName.toLowerCase()=="iframe"?getIframeDocument(obj):getDocument(obj)}else if(isWindow(obj)){doc=obj.document}if(!doc){throw module.createError(methodName+"(): Parameter must be a Window object or DOM node")}return doc}function getRootContainer(node){var parent;while(parent=node.parentNode){node=parent}return node}function comparePoints(nodeA,offsetA,nodeB,offsetB){var nodeC,root,childA,childB,n;if(nodeA==nodeB){return offsetA===offsetB?0:offsetA<offsetB?-1:1}else if(nodeC=getClosestAncestorIn(nodeB,nodeA,true)){return offsetA<=getNodeIndex(nodeC)?-1:1}else if(nodeC=getClosestAncestorIn(nodeA,nodeB,true)){return getNodeIndex(nodeC)<offsetB?-1:1}else{root=getCommonAncestor(nodeA,nodeB);childA=nodeA===root?root:getClosestAncestorIn(nodeA,root,true);childB=nodeB===root?root:getClosestAncestorIn(nodeB,root,true);if(childA===childB){throw module.createError("comparePoints got to case 4 and childA and childB are the same!")}else{n=root.firstChild;while(n){if(n===childA){return-1}else if(n===childB){return 1}n=n.nextSibling}}}}var crashyTextNodes=false;function isBrokenNode(node){try{node.parentNode;return false}catch(e){return true}}(function(){var el=document.createElement("b");el.innerHTML="1";var textNode=el.firstChild;el.innerHTML="<br>";crashyTextNodes=isBrokenNode(textNode);api.features.crashyTextNodes=crashyTextNodes})();function inspectNode(node){if(!node){return"[No node]"}if(crashyTextNodes&&isBrokenNode(node)){return"[Broken node]"}if(isCharacterDataNode(node)){return'"'+node.data+'"'}if(node.nodeType==1){var idAttr=node.id?' id="'+node.id+'"':"";return"<"+node.nodeName+idAttr+">["+node.childNodes.length+"]["+node.innerHTML.slice(0,20)+"]"}return node.nodeName}function fragmentFromNodeChildren(node){var fragment=getDocument(node).createDocumentFragment(),child;while(child=node.firstChild){fragment.appendChild(child)}return fragment}var getComputedStyleProperty;if(typeof window.getComputedStyle!=UNDEF){getComputedStyleProperty=function(el,propName){return getWindow(el).getComputedStyle(el,null)[propName]}}else if(typeof document.documentElement.currentStyle!=UNDEF){getComputedStyleProperty=function(el,propName){return el.currentStyle[propName]}}else{module.fail("No means of obtaining computed style properties found")}function NodeIterator(root){this.root=root;this._next=root}NodeIterator.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var n=this._current=this._next;var child,next;if(this._current){child=n.firstChild;if(child){this._next=child}else{next=null;while(n!==this.root&&!(next=n.nextSibling)){n=n.parentNode}this._next=next}}return this._current},detach:function(){this._current=this._next=this.root=null}};function createIterator(root){return new NodeIterator(root)}function DomPosition(node,offset){this.node=node;this.offset=offset}DomPosition.prototype={equals:function(pos){return!!pos&&this.node===pos.node&&this.offset==pos.offset},inspect:function(){return"[DomPosition("+inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function DOMException(codeName){this.code=this[codeName];this.codeName=codeName;this.message="DOMException: "+this.codeName}DOMException.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};DOMException.prototype.toString=function(){return this.message};api.dom={arrayContains:arrayContains,isHtmlNamespace:isHtmlNamespace,parentElement:parentElement,getNodeIndex:getNodeIndex,getNodeLength:getNodeLength,getCommonAncestor:getCommonAncestor,isAncestorOf:isAncestorOf,isOrIsAncestorOf:isOrIsAncestorOf,getClosestAncestorIn:getClosestAncestorIn,isCharacterDataNode:isCharacterDataNode,isTextOrCommentNode:isTextOrCommentNode,insertAfter:insertAfter,splitDataNode:splitDataNode,getDocument:getDocument,getWindow:getWindow,getIframeWindow:getIframeWindow,getIframeDocument:getIframeDocument,getBody:util.getBody,isWindow:isWindow,getContentDocument:getContentDocument,getRootContainer:getRootContainer,comparePoints:comparePoints,isBrokenNode:isBrokenNode,inspectNode:inspectNode,getComputedStyleProperty:getComputedStyleProperty,fragmentFromNodeChildren:fragmentFromNodeChildren,createIterator:createIterator,DomPosition:DomPosition};api.DOMException=DOMException});rangy.createModule("DomRange",function(api,module){api.requireModules(["DomUtil"]);var dom=api.dom;var util=api.util;var DomPosition=dom.DomPosition;var DOMException=api.DOMException;var isCharacterDataNode=dom.isCharacterDataNode;var getNodeIndex=dom.getNodeIndex;var isOrIsAncestorOf=dom.isOrIsAncestorOf;var getDocument=dom.getDocument;var comparePoints=dom.comparePoints;var splitDataNode=dom.splitDataNode;var getClosestAncestorIn=dom.getClosestAncestorIn;var getNodeLength=dom.getNodeLength;var arrayContains=dom.arrayContains;var getRootContainer=dom.getRootContainer;var crashyTextNodes=api.features.crashyTextNodes;function isNonTextPartiallySelected(node,range){return node.nodeType!=3&&(isOrIsAncestorOf(node,range.startContainer)||isOrIsAncestorOf(node,range.endContainer))}function getRangeDocument(range){return range.document||getDocument(range.startContainer)}function getBoundaryBeforeNode(node){return new DomPosition(node.parentNode,getNodeIndex(node))}function getBoundaryAfterNode(node){return new DomPosition(node.parentNode,getNodeIndex(node)+1)}function insertNodeAtPosition(node,n,o){var firstNodeInserted=node.nodeType==11?node.firstChild:node;if(isCharacterDataNode(n)){if(o==n.length){dom.insertAfter(node,n)}else{n.parentNode.insertBefore(node,o==0?n:splitDataNode(n,o))}}else if(o>=n.childNodes.length){n.appendChild(node)}else{n.insertBefore(node,n.childNodes[o])}return firstNodeInserted}function rangesIntersect(rangeA,rangeB,touchingIsIntersecting){assertRangeValid(rangeA);assertRangeValid(rangeB);if(getRangeDocument(rangeB)!=getRangeDocument(rangeA)){throw new DOMException("WRONG_DOCUMENT_ERR")}var startComparison=comparePoints(rangeA.startContainer,rangeA.startOffset,rangeB.endContainer,rangeB.endOffset),endComparison=comparePoints(rangeA.endContainer,rangeA.endOffset,rangeB.startContainer,rangeB.startOffset);return touchingIsIntersecting?startComparison<=0&&endComparison>=0:startComparison<0&&endComparison>0}function cloneSubtree(iterator){var partiallySelected;for(var node,frag=getRangeDocument(iterator.range).createDocumentFragment(),subIterator;node=iterator.next();){partiallySelected=iterator.isPartiallySelectedSubtree();node=node.cloneNode(!partiallySelected);if(partiallySelected){subIterator=iterator.getSubtreeIterator();node.appendChild(cloneSubtree(subIterator));subIterator.detach(true)}if(node.nodeType==10){throw new DOMException("HIERARCHY_REQUEST_ERR")}frag.appendChild(node)}return frag}function iterateSubtree(rangeIterator,func,iteratorState){var it,n;iteratorState=iteratorState||{stop:false};for(var node,subRangeIterator;node=rangeIterator.next();){if(rangeIterator.isPartiallySelectedSubtree()){if(func(node)===false){iteratorState.stop=true;return}else{subRangeIterator=rangeIterator.getSubtreeIterator();iterateSubtree(subRangeIterator,func,iteratorState);subRangeIterator.detach(true);if(iteratorState.stop){return}}}else{it=dom.createIterator(node);while(n=it.next()){if(func(n)===false){iteratorState.stop=true;return}}}}}function deleteSubtree(iterator){var subIterator;while(iterator.next()){if(iterator.isPartiallySelectedSubtree()){subIterator=iterator.getSubtreeIterator();deleteSubtree(subIterator);subIterator.detach(true)}else{iterator.remove()}}}function extractSubtree(iterator){for(var node,frag=getRangeDocument(iterator.range).createDocumentFragment(),subIterator;node=iterator.next();){if(iterator.isPartiallySelectedSubtree()){node=node.cloneNode(false);subIterator=iterator.getSubtreeIterator();node.appendChild(extractSubtree(subIterator));subIterator.detach(true)}else{iterator.remove()}if(node.nodeType==10){throw new DOMException("HIERARCHY_REQUEST_ERR")}frag.appendChild(node)}return frag}function getNodesInRange(range,nodeTypes,filter){var filterNodeTypes=!!(nodeTypes&&nodeTypes.length),regex;var filterExists=!!filter;if(filterNodeTypes){regex=new RegExp("^("+nodeTypes.join("|")+")$")}var nodes=[];iterateSubtree(new RangeIterator(range,false),function(node){if((!filterNodeTypes||regex.test(node.nodeType))&&(!filterExists||filter(node))){nodes.push(node)}});return nodes}function inspect(range){var name=typeof range.getName=="undefined"?"Range":range.getName();return"["+name+"("+dom.inspectNode(range.startContainer)+":"+range.startOffset+", "+dom.inspectNode(range.endContainer)+":"+range.endOffset+")]"}function RangeIterator(range,clonePartiallySelectedTextNodes){this.range=range;this.clonePartiallySelectedTextNodes=clonePartiallySelectedTextNodes;if(!range.collapsed){this.sc=range.startContainer;this.so=range.startOffset;this.ec=range.endContainer;this.eo=range.endOffset;var root=range.commonAncestorContainer;if(this.sc===this.ec&&isCharacterDataNode(this.sc)){this.isSingleCharacterDataNode=true;this._first=this._last=this._next=this.sc}else{this._first=this._next=this.sc===root&&!isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:getClosestAncestorIn(this.sc,root,true);this._last=this.ec===root&&!isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:getClosestAncestorIn(this.ec,root,true)}}}RangeIterator.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var current=this._current=this._next;if(current){this._next=current!==this._last?current.nextSibling:null;if(isCharacterDataNode(current)&&this.clonePartiallySelectedTextNodes){if(current===this.ec){(current=current.cloneNode(true)).deleteData(this.eo,current.length-this.eo)}if(this._current===this.sc){(current=current.cloneNode(true)).deleteData(0,this.so)}}}return current},remove:function(){var current=this._current,start,end;if(isCharacterDataNode(current)&&(current===this.sc||current===this.ec)){start=current===this.sc?this.so:0;end=current===this.ec?this.eo:current.length;if(start!=end){current.deleteData(start,end-start)}}else{if(current.parentNode){current.parentNode.removeChild(current)}else{}}},isPartiallySelectedSubtree:function(){var current=this._current;return isNonTextPartiallySelected(current,this.range)},getSubtreeIterator:function(){var subRange;if(this.isSingleCharacterDataNode){subRange=this.range.cloneRange();subRange.collapse(false)}else{subRange=new Range(getRangeDocument(this.range));var current=this._current;var startContainer=current,startOffset=0,endContainer=current,endOffset=getNodeLength(current);if(isOrIsAncestorOf(current,this.sc)){startContainer=this.sc;startOffset=this.so}if(isOrIsAncestorOf(current,this.ec)){endContainer=this.ec;endOffset=this.eo}updateBoundaries(subRange,startContainer,startOffset,endContainer,endOffset)}return new RangeIterator(subRange,this.clonePartiallySelectedTextNodes)},detach:function(detachRange){if(detachRange){this.range.detach()}this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};function RangeException(codeName){this.code=this[codeName];this.codeName=codeName;this.message="RangeException: "+this.codeName}RangeException.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};RangeException.prototype.toString=function(){return this.message};var beforeAfterNodeTypes=[1,3,4,5,7,8,10];var rootContainerNodeTypes=[2,9,11];var readonlyNodeTypes=[5,6,10,12];var insertableNodeTypes=[1,3,4,5,7,8,10,11];var surroundNodeTypes=[1,3,4,5,7,8];function createAncestorFinder(nodeTypes){return function(node,selfIsAncestor){var t,n=selfIsAncestor?node:node.parentNode;while(n){t=n.nodeType;if(arrayContains(nodeTypes,t)){return n}n=n.parentNode}return null}}var getDocumentOrFragmentContainer=createAncestorFinder([9,11]);var getReadonlyAncestor=createAncestorFinder(readonlyNodeTypes);var getDocTypeNotationEntityAncestor=createAncestorFinder([6,10,12]);function assertNoDocTypeNotationEntityAncestor(node,allowSelf){if(getDocTypeNotationEntityAncestor(node,allowSelf)){throw new RangeException("INVALID_NODE_TYPE_ERR")}}function assertNotDetached(range){if(!range.startContainer){throw new DOMException("INVALID_STATE_ERR")}}function assertValidNodeType(node,invalidTypes){if(!arrayContains(invalidTypes,node.nodeType)){throw new RangeException("INVALID_NODE_TYPE_ERR")}}function assertValidOffset(node,offset){if(offset<0||offset>(isCharacterDataNode(node)?node.length:node.childNodes.length)){throw new DOMException("INDEX_SIZE_ERR")}}function assertSameDocumentOrFragment(node1,node2){if(getDocumentOrFragmentContainer(node1,true)!==getDocumentOrFragmentContainer(node2,true)){throw new DOMException("WRONG_DOCUMENT_ERR")}}function assertNodeNotReadOnly(node){if(getReadonlyAncestor(node,true)){throw new DOMException("NO_MODIFICATION_ALLOWED_ERR")}}function assertNode(node,codeName){if(!node){throw new DOMException(codeName)}}function isOrphan(node){return crashyTextNodes&&dom.isBrokenNode(node)||!arrayContains(rootContainerNodeTypes,node.nodeType)&&!getDocumentOrFragmentContainer(node,true)}function isValidOffset(node,offset){return offset<=(isCharacterDataNode(node)?node.length:node.childNodes.length)}function isRangeValid(range){return!!range.startContainer&&!!range.endContainer&&!isOrphan(range.startContainer)&&!isOrphan(range.endContainer)&&isValidOffset(range.startContainer,range.startOffset)&&isValidOffset(range.endContainer,range.endOffset)}function assertRangeValid(range){assertNotDetached(range);if(!isRangeValid(range)){throw new Error("Range error: Range is no longer valid after DOM mutation ("+range.inspect()+")")}}var styleEl=document.createElement("style");var htmlParsingConforms=false;try{styleEl.innerHTML="<b>x</b>";htmlParsingConforms=styleEl.firstChild.nodeType==3}catch(e){}api.features.htmlParsingConforms=htmlParsingConforms;var createContextualFragment=htmlParsingConforms?function(fragmentStr){var node=this.startContainer;var doc=getDocument(node);if(!node){throw new DOMException("INVALID_STATE_ERR")}var el=null;if(node.nodeType==1){el=node}else if(isCharacterDataNode(node)){el=dom.parentElement(node)}if(el===null||el.nodeName=="HTML"&&dom.isHtmlNamespace(getDocument(el).documentElement)&&dom.isHtmlNamespace(el)){el=doc.createElement("body")}else{el=el.cloneNode(false)}el.innerHTML=fragmentStr;return dom.fragmentFromNodeChildren(el)}:function(fragmentStr){assertNotDetached(this);var doc=getRangeDocument(this);var el=doc.createElement("body");el.innerHTML=fragmentStr;return dom.fragmentFromNodeChildren(el)};function splitRangeBoundaries(range,positionsToPreserve){assertRangeValid(range);var sc=range.startContainer,so=range.startOffset,ec=range.endContainer,eo=range.endOffset;var startEndSame=sc===ec;if(isCharacterDataNode(ec)&&eo>0&&eo<ec.length){splitDataNode(ec,eo,positionsToPreserve)}if(isCharacterDataNode(sc)&&so>0&&so<sc.length){sc=splitDataNode(sc,so,positionsToPreserve);if(startEndSame){eo-=so;ec=sc}else if(ec==sc.parentNode&&eo>=getNodeIndex(sc)){eo++}so=0}range.setStartAndEnd(sc,so,ec,eo)}var rangeProperties=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];var s2s=0,s2e=1,e2e=2,e2s=3;var n_b=0,n_a=1,n_b_a=2,n_i=3;function RangePrototype(){}RangePrototype.prototype={compareBoundaryPoints:function(how,range){assertRangeValid(this);assertSameDocumentOrFragment(this.startContainer,range.startContainer);var nodeA,offsetA,nodeB,offsetB;var prefixA=how==e2s||how==s2s?"start":"end";var prefixB=how==s2e||how==s2s?"start":"end";nodeA=this[prefixA+"Container"];offsetA=this[prefixA+"Offset"];nodeB=range[prefixB+"Container"];offsetB=range[prefixB+"Offset"];return comparePoints(nodeA,offsetA,nodeB,offsetB)},insertNode:function(node){assertRangeValid(this);assertValidNodeType(node,insertableNodeTypes);assertNodeNotReadOnly(this.startContainer);if(isOrIsAncestorOf(node,this.startContainer)){throw new DOMException("HIERARCHY_REQUEST_ERR")}var firstNodeInserted=insertNodeAtPosition(node,this.startContainer,this.startOffset);this.setStartBefore(firstNodeInserted)},cloneContents:function(){assertRangeValid(this);var clone,frag;if(this.collapsed){return getRangeDocument(this).createDocumentFragment()}else{if(this.startContainer===this.endContainer&&isCharacterDataNode(this.startContainer)){clone=this.startContainer.cloneNode(true);clone.data=clone.data.slice(this.startOffset,this.endOffset);
frag=getRangeDocument(this).createDocumentFragment();frag.appendChild(clone);return frag}else{var iterator=new RangeIterator(this,true);clone=cloneSubtree(iterator);iterator.detach()}return clone}},canSurroundContents:function(){assertRangeValid(this);assertNodeNotReadOnly(this.startContainer);assertNodeNotReadOnly(this.endContainer);var iterator=new RangeIterator(this,true);var boundariesInvalid=iterator._first&&isNonTextPartiallySelected(iterator._first,this)||iterator._last&&isNonTextPartiallySelected(iterator._last,this);iterator.detach();return!boundariesInvalid},surroundContents:function(node){assertValidNodeType(node,surroundNodeTypes);if(!this.canSurroundContents()){throw new RangeException("BAD_BOUNDARYPOINTS_ERR")}var content=this.extractContents();if(node.hasChildNodes()){while(node.lastChild){node.removeChild(node.lastChild)}}insertNodeAtPosition(node,this.startContainer,this.startOffset);node.appendChild(content);this.selectNode(node)},cloneRange:function(){assertRangeValid(this);var range=new Range(getRangeDocument(this));var i=rangeProperties.length,prop;while(i--){prop=rangeProperties[i];range[prop]=this[prop]}return range},toString:function(){assertRangeValid(this);var sc=this.startContainer;if(sc===this.endContainer&&isCharacterDataNode(sc)){return sc.nodeType==3||sc.nodeType==4?sc.data.slice(this.startOffset,this.endOffset):""}else{var textBits=[],iterator=new RangeIterator(this,true);iterateSubtree(iterator,function(node){if(node.nodeType==3||node.nodeType==4){textBits.push(node.data)}});iterator.detach();return textBits.join("")}},compareNode:function(node){assertRangeValid(this);var parent=node.parentNode;var nodeIndex=getNodeIndex(node);if(!parent){throw new DOMException("NOT_FOUND_ERR")}var startComparison=this.comparePoint(parent,nodeIndex),endComparison=this.comparePoint(parent,nodeIndex+1);if(startComparison<0){return endComparison>0?n_b_a:n_b}else{return endComparison>0?n_a:n_i}},comparePoint:function(node,offset){assertRangeValid(this);assertNode(node,"HIERARCHY_REQUEST_ERR");assertSameDocumentOrFragment(node,this.startContainer);if(comparePoints(node,offset,this.startContainer,this.startOffset)<0){return-1}else if(comparePoints(node,offset,this.endContainer,this.endOffset)>0){return 1}return 0},createContextualFragment:createContextualFragment,toHtml:function(){assertRangeValid(this);var container=this.commonAncestorContainer.parentNode.cloneNode(false);container.appendChild(this.cloneContents());return container.innerHTML},intersectsNode:function(node,touchingIsIntersecting){assertRangeValid(this);assertNode(node,"NOT_FOUND_ERR");if(getDocument(node)!==getRangeDocument(this)){return false}var parent=node.parentNode,offset=getNodeIndex(node);assertNode(parent,"NOT_FOUND_ERR");var startComparison=comparePoints(parent,offset,this.endContainer,this.endOffset),endComparison=comparePoints(parent,offset+1,this.startContainer,this.startOffset);return touchingIsIntersecting?startComparison<=0&&endComparison>=0:startComparison<0&&endComparison>0},isPointInRange:function(node,offset){assertRangeValid(this);assertNode(node,"HIERARCHY_REQUEST_ERR");assertSameDocumentOrFragment(node,this.startContainer);return comparePoints(node,offset,this.startContainer,this.startOffset)>=0&&comparePoints(node,offset,this.endContainer,this.endOffset)<=0},intersectsRange:function(range){return rangesIntersect(this,range,false)},intersectsOrTouchesRange:function(range){return rangesIntersect(this,range,true)},intersection:function(range){if(this.intersectsRange(range)){var startComparison=comparePoints(this.startContainer,this.startOffset,range.startContainer,range.startOffset),endComparison=comparePoints(this.endContainer,this.endOffset,range.endContainer,range.endOffset);var intersectionRange=this.cloneRange();if(startComparison==-1){intersectionRange.setStart(range.startContainer,range.startOffset)}if(endComparison==1){intersectionRange.setEnd(range.endContainer,range.endOffset)}return intersectionRange}return null},union:function(range){if(this.intersectsOrTouchesRange(range)){var unionRange=this.cloneRange();if(comparePoints(range.startContainer,range.startOffset,this.startContainer,this.startOffset)==-1){unionRange.setStart(range.startContainer,range.startOffset)}if(comparePoints(range.endContainer,range.endOffset,this.endContainer,this.endOffset)==1){unionRange.setEnd(range.endContainer,range.endOffset)}return unionRange}else{throw new RangeException("Ranges do not intersect")}},containsNode:function(node,allowPartial){if(allowPartial){return this.intersectsNode(node,false)}else{return this.compareNode(node)==n_i}},containsNodeContents:function(node){return this.comparePoint(node,0)>=0&&this.comparePoint(node,getNodeLength(node))<=0},containsRange:function(range){var intersection=this.intersection(range);return intersection!==null&&range.equals(intersection)},containsNodeText:function(node){var nodeRange=this.cloneRange();nodeRange.selectNode(node);var textNodes=nodeRange.getNodes([3]);if(textNodes.length>0){nodeRange.setStart(textNodes[0],0);var lastTextNode=textNodes.pop();nodeRange.setEnd(lastTextNode,lastTextNode.length);var contains=this.containsRange(nodeRange);nodeRange.detach();return contains}else{return this.containsNodeContents(node)}},getNodes:function(nodeTypes,filter){assertRangeValid(this);return getNodesInRange(this,nodeTypes,filter)},getDocument:function(){return getRangeDocument(this)},collapseBefore:function(node){assertNotDetached(this);this.setEndBefore(node);this.collapse(false)},collapseAfter:function(node){assertNotDetached(this);this.setStartAfter(node);this.collapse(true)},getBookmark:function(containerNode){var doc=getRangeDocument(this);var preSelectionRange=api.createRange(doc);containerNode=containerNode||dom.getBody(doc);preSelectionRange.selectNodeContents(containerNode);var range=this.intersection(preSelectionRange);var start=0,end=0;if(range){preSelectionRange.setEnd(range.startContainer,range.startOffset);start=preSelectionRange.toString().length;end=start+range.toString().length;preSelectionRange.detach()}return{start:start,end:end,containerNode:containerNode}},moveToBookmark:function(bookmark){var containerNode=bookmark.containerNode;var charIndex=0;this.setStart(containerNode,0);this.collapse(true);var nodeStack=[containerNode],node,foundStart=false,stop=false;var nextCharIndex,i,childNodes;while(!stop&&(node=nodeStack.pop())){if(node.nodeType==3){nextCharIndex=charIndex+node.length;if(!foundStart&&bookmark.start>=charIndex&&bookmark.start<=nextCharIndex){this.setStart(node,bookmark.start-charIndex);foundStart=true}if(foundStart&&bookmark.end>=charIndex&&bookmark.end<=nextCharIndex){this.setEnd(node,bookmark.end-charIndex);stop=true}charIndex=nextCharIndex}else{childNodes=node.childNodes;i=childNodes.length;while(i--){nodeStack.push(childNodes[i])}}}},getName:function(){return"DomRange"},equals:function(range){return Range.rangesEqual(this,range)},isValid:function(){return isRangeValid(this)},inspect:function(){return inspect(this)}};function copyComparisonConstantsToObject(obj){obj.START_TO_START=s2s;obj.START_TO_END=s2e;obj.END_TO_END=e2e;obj.END_TO_START=e2s;obj.NODE_BEFORE=n_b;obj.NODE_AFTER=n_a;obj.NODE_BEFORE_AND_AFTER=n_b_a;obj.NODE_INSIDE=n_i}function copyComparisonConstants(constructor){copyComparisonConstantsToObject(constructor);copyComparisonConstantsToObject(constructor.prototype)}function createRangeContentRemover(remover,boundaryUpdater){return function(){assertRangeValid(this);var sc=this.startContainer,so=this.startOffset,root=this.commonAncestorContainer;var iterator=new RangeIterator(this,true);var node,boundary;if(sc!==root){node=getClosestAncestorIn(sc,root,true);boundary=getBoundaryAfterNode(node);sc=boundary.node;so=boundary.offset}iterateSubtree(iterator,assertNodeNotReadOnly);iterator.reset();var returnValue=remover(iterator);iterator.detach();boundaryUpdater(this,sc,so,sc,so);return returnValue}}function createPrototypeRange(constructor,boundaryUpdater,detacher){function createBeforeAfterNodeSetter(isBefore,isStart){return function(node){assertNotDetached(this);assertValidNodeType(node,beforeAfterNodeTypes);assertValidNodeType(getRootContainer(node),rootContainerNodeTypes);var boundary=(isBefore?getBoundaryBeforeNode:getBoundaryAfterNode)(node);(isStart?setRangeStart:setRangeEnd)(this,boundary.node,boundary.offset)}}function setRangeStart(range,node,offset){var ec=range.endContainer,eo=range.endOffset;if(node!==range.startContainer||offset!==range.startOffset){if(getRootContainer(node)!=getRootContainer(ec)||comparePoints(node,offset,ec,eo)==1){ec=node;eo=offset}boundaryUpdater(range,node,offset,ec,eo)}}function setRangeEnd(range,node,offset){var sc=range.startContainer,so=range.startOffset;if(node!==range.endContainer||offset!==range.endOffset){if(getRootContainer(node)!=getRootContainer(sc)||comparePoints(node,offset,sc,so)==-1){sc=node;so=offset}boundaryUpdater(range,sc,so,node,offset)}}constructor.prototype=new RangePrototype;util.extend(constructor.prototype,{setStart:function(node,offset){assertNotDetached(this);assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);setRangeStart(this,node,offset)},setEnd:function(node,offset){assertNotDetached(this);assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);setRangeEnd(this,node,offset)},setStartAndEnd:function(){assertNotDetached(this);var args=arguments;var sc=args[0],so=args[1],ec=sc,eo=so;switch(args.length){case 3:eo=args[2];break;case 4:ec=args[2];eo=args[3];break}boundaryUpdater(this,sc,so,ec,eo)},setBoundary:function(node,offset,isStart){this["set"+(isStart?"Start":"End")](node,offset)},setStartBefore:createBeforeAfterNodeSetter(true,true),setStartAfter:createBeforeAfterNodeSetter(false,true),setEndBefore:createBeforeAfterNodeSetter(true,false),setEndAfter:createBeforeAfterNodeSetter(false,false),collapse:function(isStart){assertRangeValid(this);if(isStart){boundaryUpdater(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset)}else{boundaryUpdater(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)}},selectNodeContents:function(node){assertNotDetached(this);assertNoDocTypeNotationEntityAncestor(node,true);boundaryUpdater(this,node,0,node,getNodeLength(node))},selectNode:function(node){assertNotDetached(this);assertNoDocTypeNotationEntityAncestor(node,false);assertValidNodeType(node,beforeAfterNodeTypes);var start=getBoundaryBeforeNode(node),end=getBoundaryAfterNode(node);boundaryUpdater(this,start.node,start.offset,end.node,end.offset)},extractContents:createRangeContentRemover(extractSubtree,boundaryUpdater),deleteContents:createRangeContentRemover(deleteSubtree,boundaryUpdater),canSurroundContents:function(){assertRangeValid(this);assertNodeNotReadOnly(this.startContainer);assertNodeNotReadOnly(this.endContainer);var iterator=new RangeIterator(this,true);var boundariesInvalid=iterator._first&&isNonTextPartiallySelected(iterator._first,this)||iterator._last&&isNonTextPartiallySelected(iterator._last,this);iterator.detach();return!boundariesInvalid},detach:function(){detacher(this)},splitBoundaries:function(){splitRangeBoundaries(this)},splitBoundariesPreservingPositions:function(positionsToPreserve){splitRangeBoundaries(this,positionsToPreserve)},normalizeBoundaries:function(){assertRangeValid(this);var sc=this.startContainer,so=this.startOffset,ec=this.endContainer,eo=this.endOffset;var mergeForward=function(node){var sibling=node.nextSibling;if(sibling&&sibling.nodeType==node.nodeType){ec=node;eo=node.length;node.appendData(sibling.data);sibling.parentNode.removeChild(sibling)}};var mergeBackward=function(node){var sibling=node.previousSibling;if(sibling&&sibling.nodeType==node.nodeType){sc=node;var nodeLength=node.length;so=sibling.length;node.insertData(0,sibling.data);sibling.parentNode.removeChild(sibling);if(sc==ec){eo+=so;ec=sc}else if(ec==node.parentNode){var nodeIndex=getNodeIndex(node);if(eo==nodeIndex){ec=node;eo=nodeLength}else if(eo>nodeIndex){eo--}}}};var normalizeStart=true;if(isCharacterDataNode(ec)){if(ec.length==eo){mergeForward(ec)}}else{if(eo>0){var endNode=ec.childNodes[eo-1];if(endNode&&isCharacterDataNode(endNode)){mergeForward(endNode)}}normalizeStart=!this.collapsed}if(normalizeStart){if(isCharacterDataNode(sc)){if(so==0){mergeBackward(sc)}}else{if(so<sc.childNodes.length){var startNode=sc.childNodes[so];if(startNode&&isCharacterDataNode(startNode)){mergeBackward(startNode)}}}}else{sc=ec;so=eo}boundaryUpdater(this,sc,so,ec,eo)},collapseToPoint:function(node,offset){assertNotDetached(this);assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);this.setStartAndEnd(node,offset)}});copyComparisonConstants(constructor)}function updateCollapsedAndCommonAncestor(range){range.collapsed=range.startContainer===range.endContainer&&range.startOffset===range.endOffset;range.commonAncestorContainer=range.collapsed?range.startContainer:dom.getCommonAncestor(range.startContainer,range.endContainer)}function updateBoundaries(range,startContainer,startOffset,endContainer,endOffset){range.startContainer=startContainer;range.startOffset=startOffset;range.endContainer=endContainer;range.endOffset=endOffset;range.document=dom.getDocument(startContainer);updateCollapsedAndCommonAncestor(range)}function detach(range){assertNotDetached(range);range.startContainer=range.startOffset=range.endContainer=range.endOffset=range.document=null;range.collapsed=range.commonAncestorContainer=null}function Range(doc){this.startContainer=doc;this.startOffset=0;this.endContainer=doc;this.endOffset=0;this.document=doc;updateCollapsedAndCommonAncestor(this)}createPrototypeRange(Range,updateBoundaries,detach);api.rangePrototype=RangePrototype.prototype;util.extend(Range,{rangeProperties:rangeProperties,RangeIterator:RangeIterator,copyComparisonConstants:copyComparisonConstants,createPrototypeRange:createPrototypeRange,inspect:inspect,getRangeDocument:getRangeDocument,rangesEqual:function(r1,r2){return r1.startContainer===r2.startContainer&&r1.startOffset===r2.startOffset&&r1.endContainer===r2.endContainer&&r1.endOffset===r2.endOffset}});api.DomRange=Range;api.RangeException=RangeException});rangy.createModule("WrappedRange",function(api,module){api.requireModules(["DomUtil","DomRange"]);var WrappedRange,WrappedTextRange;var dom=api.dom;var util=api.util;var DomPosition=dom.DomPosition;var DomRange=api.DomRange;var getBody=dom.getBody;var getContentDocument=dom.getContentDocument;var isCharacterDataNode=dom.isCharacterDataNode;if(api.features.implementsDomRange){(function(){var rangeProto;var rangeProperties=DomRange.rangeProperties;function updateRangeProperties(range){var i=rangeProperties.length,prop;while(i--){prop=rangeProperties[i];range[prop]=range.nativeRange[prop]}range.collapsed=range.startContainer===range.endContainer&&range.startOffset===range.endOffset}function updateNativeRange(range,startContainer,startOffset,endContainer,endOffset){var startMoved=range.startContainer!==startContainer||range.startOffset!=startOffset;var endMoved=range.endContainer!==endContainer||range.endOffset!=endOffset;var nativeRangeDifferent=!range.equals(range.nativeRange);if(startMoved||endMoved||nativeRangeDifferent){range.setEnd(endContainer,endOffset);range.setStart(startContainer,startOffset)}}function detach(range){range.nativeRange.detach();range.detached=true;var i=rangeProperties.length;while(i--){range[rangeProperties[i]]=null}}var createBeforeAfterNodeSetter;WrappedRange=function(range){if(!range){throw module.createError("WrappedRange: Range must be specified")}this.nativeRange=range;updateRangeProperties(this)};DomRange.createPrototypeRange(WrappedRange,updateNativeRange,detach);rangeProto=WrappedRange.prototype;rangeProto.selectNode=function(node){this.nativeRange.selectNode(node);updateRangeProperties(this)};rangeProto.cloneContents=function(){return this.nativeRange.cloneContents()};rangeProto.surroundContents=function(node){this.nativeRange.surroundContents(node);updateRangeProperties(this)};rangeProto.collapse=function(isStart){this.nativeRange.collapse(isStart);updateRangeProperties(this)};rangeProto.cloneRange=function(){return new WrappedRange(this.nativeRange.cloneRange())};rangeProto.refresh=function(){updateRangeProperties(this)};rangeProto.toString=function(){return this.nativeRange.toString()};var testTextNode=document.createTextNode("test");getBody(document).appendChild(testTextNode);var range=document.createRange();range.setStart(testTextNode,0);range.setEnd(testTextNode,0);try{range.setStart(testTextNode,1);rangeProto.setStart=function(node,offset){this.nativeRange.setStart(node,offset);updateRangeProperties(this)};rangeProto.setEnd=function(node,offset){this.nativeRange.setEnd(node,offset);updateRangeProperties(this)};createBeforeAfterNodeSetter=function(name){return function(node){this.nativeRange[name](node);updateRangeProperties(this)}}}catch(ex){rangeProto.setStart=function(node,offset){try{this.nativeRange.setStart(node,offset)}catch(ex){this.nativeRange.setEnd(node,offset);this.nativeRange.setStart(node,offset)}updateRangeProperties(this)};rangeProto.setEnd=function(node,offset){try{this.nativeRange.setEnd(node,offset)}catch(ex){this.nativeRange.setStart(node,offset);this.nativeRange.setEnd(node,offset)}updateRangeProperties(this)};createBeforeAfterNodeSetter=function(name,oppositeName){return function(node){try{this.nativeRange[name](node)}catch(ex){this.nativeRange[oppositeName](node);this.nativeRange[name](node)}updateRangeProperties(this)}}}rangeProto.setStartBefore=createBeforeAfterNodeSetter("setStartBefore","setEndBefore");rangeProto.setStartAfter=createBeforeAfterNodeSetter("setStartAfter","setEndAfter");rangeProto.setEndBefore=createBeforeAfterNodeSetter("setEndBefore","setStartBefore");rangeProto.setEndAfter=createBeforeAfterNodeSetter("setEndAfter","setStartAfter");range.selectNodeContents(testTextNode);if(range.startContainer==testTextNode&&range.endContainer==testTextNode&&range.startOffset==0&&range.endOffset==testTextNode.length){rangeProto.selectNodeContents=function(node){this.nativeRange.selectNodeContents(node);updateRangeProperties(this)}}else{rangeProto.selectNodeContents=function(node){this.setStartAndEnd(node,0,dom.getNodeLength(node))}}range.selectNodeContents(testTextNode);range.setEnd(testTextNode,3);var range2=document.createRange();range2.selectNodeContents(testTextNode);range2.setEnd(testTextNode,4);range2.setStart(testTextNode,2);if(range.compareBoundaryPoints(range.START_TO_END,range2)==-1&&range.compareBoundaryPoints(range.END_TO_START,range2)==1){rangeProto.compareBoundaryPoints=function(type,range){range=range.nativeRange||range;if(type==range.START_TO_END){type=range.END_TO_START}else if(type==range.END_TO_START){type=range.START_TO_END}return this.nativeRange.compareBoundaryPoints(type,range)}}else{rangeProto.compareBoundaryPoints=function(type,range){return this.nativeRange.compareBoundaryPoints(type,range.nativeRange||range)}}var el=document.createElement("div");el.innerHTML="123";var textNode=el.firstChild;var body=getBody(document);body.appendChild(el);range.setStart(textNode,1);range.setEnd(textNode,2);range.deleteContents();if(textNode.data=="13"){rangeProto.deleteContents=function(){this.nativeRange.deleteContents();updateRangeProperties(this)};rangeProto.extractContents=function(){var frag=this.nativeRange.extractContents();updateRangeProperties(this);return frag}}else{}body.removeChild(el);body=null;if(util.isHostMethod(range,"createContextualFragment")){rangeProto.createContextualFragment=function(fragmentStr){return this.nativeRange.createContextualFragment(fragmentStr)}}getBody(document).removeChild(testTextNode);range.detach();range2.detach();rangeProto.getName=function(){return"WrappedRange"};api.WrappedRange=WrappedRange;api.createNativeRange=function(doc){doc=getContentDocument(doc,module,"createNativeRange");return doc.createRange()}})()}if(api.features.implementsTextRange){var getTextRangeContainerElement=function(textRange){var parentEl=textRange.parentElement();var range=textRange.duplicate();range.collapse(true);var startEl=range.parentElement();range=textRange.duplicate();range.collapse(false);var endEl=range.parentElement();var startEndContainer=startEl==endEl?startEl:dom.getCommonAncestor(startEl,endEl);return startEndContainer==parentEl?startEndContainer:dom.getCommonAncestor(parentEl,startEndContainer)};var textRangeIsCollapsed=function(textRange){return textRange.compareEndPoints("StartToEnd",textRange)==0};var getTextRangeBoundaryPosition=function(textRange,wholeRangeContainerElement,isStart,isCollapsed,startInfo){var workingRange=textRange.duplicate();workingRange.collapse(isStart);var containerElement=workingRange.parentElement();if(!dom.isOrIsAncestorOf(wholeRangeContainerElement,containerElement)){containerElement=wholeRangeContainerElement}if(!containerElement.canHaveHTML){var pos=new DomPosition(containerElement.parentNode,dom.getNodeIndex(containerElement));return{boundaryPosition:pos,nodeInfo:{nodeIndex:pos.offset,containerElement:pos.node}}}var workingNode=dom.getDocument(containerElement).createElement("span");if(workingNode.parentNode){workingNode.parentNode.removeChild(workingNode)}var comparison,workingComparisonType=isStart?"StartToStart":"StartToEnd";var previousNode,nextNode,boundaryPosition,boundaryNode;var start=startInfo&&startInfo.containerElement==containerElement?startInfo.nodeIndex:0;var childNodeCount=containerElement.childNodes.length;var end=childNodeCount;var nodeIndex=end;while(true){if(nodeIndex==childNodeCount){containerElement.appendChild(workingNode)}else{containerElement.insertBefore(workingNode,containerElement.childNodes[nodeIndex])}workingRange.moveToElementText(workingNode);comparison=workingRange.compareEndPoints(workingComparisonType,textRange);if(comparison==0||start==end){break}else if(comparison==-1){if(end==start+1){break}else{start=nodeIndex}}else{end=end==start+1?start:nodeIndex}nodeIndex=Math.floor((start+end)/2);containerElement.removeChild(workingNode)}boundaryNode=workingNode.nextSibling;if(comparison==-1&&boundaryNode&&isCharacterDataNode(boundaryNode)){workingRange.setEndPoint(isStart?"EndToStart":"EndToEnd",textRange);var offset;if(/[\r\n]/.test(boundaryNode.data)){var tempRange=workingRange.duplicate();var rangeLength=tempRange.text.replace(/\r\n/g,"\r").length;offset=tempRange.moveStart("character",rangeLength);while((comparison=tempRange.compareEndPoints("StartToEnd",tempRange))==-1){offset++;tempRange.moveStart("character",1)}}else{offset=workingRange.text.length}boundaryPosition=new DomPosition(boundaryNode,offset)}else{previousNode=(isCollapsed||!isStart)&&workingNode.previousSibling;nextNode=(isCollapsed||isStart)&&workingNode.nextSibling;if(nextNode&&isCharacterDataNode(nextNode)){boundaryPosition=new DomPosition(nextNode,0)}else if(previousNode&&isCharacterDataNode(previousNode)){boundaryPosition=new DomPosition(previousNode,previousNode.data.length)}else{boundaryPosition=new DomPosition(containerElement,dom.getNodeIndex(workingNode))}}workingNode.parentNode.removeChild(workingNode);return{boundaryPosition:boundaryPosition,nodeInfo:{nodeIndex:nodeIndex,containerElement:containerElement}}};var createBoundaryTextRange=function(boundaryPosition,isStart){var boundaryNode,boundaryParent,boundaryOffset=boundaryPosition.offset;var doc=dom.getDocument(boundaryPosition.node);var workingNode,childNodes,workingRange=getBody(doc).createTextRange();var nodeIsDataNode=isCharacterDataNode(boundaryPosition.node);if(nodeIsDataNode){boundaryNode=boundaryPosition.node;boundaryParent=boundaryNode.parentNode}else{childNodes=boundaryPosition.node.childNodes;boundaryNode=boundaryOffset<childNodes.length?childNodes[boundaryOffset]:null;boundaryParent=boundaryPosition.node}workingNode=doc.createElement("span");workingNode.innerHTML="&#feff;";if(boundaryNode){boundaryParent.insertBefore(workingNode,boundaryNode)}else{boundaryParent.appendChild(workingNode)}workingRange.moveToElementText(workingNode);workingRange.collapse(!isStart);boundaryParent.removeChild(workingNode);if(nodeIsDataNode){workingRange[isStart?"moveStart":"moveEnd"]("character",boundaryOffset)}return workingRange};WrappedTextRange=function(textRange){this.textRange=textRange;this.refresh()};WrappedTextRange.prototype=new DomRange(document);WrappedTextRange.prototype.refresh=function(){var start,end,startBoundary;var rangeContainerElement=getTextRangeContainerElement(this.textRange);if(textRangeIsCollapsed(this.textRange)){end=start=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,true,true).boundaryPosition}else{startBoundary=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,true,false);start=startBoundary.boundaryPosition;end=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,false,false,startBoundary.nodeInfo).boundaryPosition}this.setStart(start.node,start.offset);this.setEnd(end.node,end.offset)};WrappedTextRange.prototype.getName=function(){return"WrappedTextRange"};DomRange.copyComparisonConstants(WrappedTextRange);WrappedTextRange.rangeToTextRange=function(range){if(range.collapsed){return createBoundaryTextRange(new DomPosition(range.startContainer,range.startOffset),true)}else{var startRange=createBoundaryTextRange(new DomPosition(range.startContainer,range.startOffset),true);var endRange=createBoundaryTextRange(new DomPosition(range.endContainer,range.endOffset),false);var textRange=getBody(DomRange.getRangeDocument(range)).createTextRange();textRange.setEndPoint("StartToStart",startRange);textRange.setEndPoint("EndToEnd",endRange);return textRange}};api.WrappedTextRange=WrappedTextRange;if(!api.features.implementsDomRange||api.config.preferTextRange){var globalObj=function(){return this}();if(typeof globalObj.Range=="undefined"){globalObj.Range=WrappedTextRange}api.createNativeRange=function(doc){doc=getContentDocument(doc,module,"createNativeRange");return getBody(doc).createTextRange()};api.WrappedRange=WrappedTextRange}}api.createRange=function(doc){doc=getContentDocument(doc,module,"createRange");return new api.WrappedRange(api.createNativeRange(doc))};api.createRangyRange=function(doc){doc=getContentDocument(doc,module,"createRangyRange");return new DomRange(doc)};api.createIframeRange=function(iframeEl){module.deprecationNotice("createIframeRange()","createRange(iframeEl)");return api.createRange(iframeEl)};api.createIframeRangyRange=function(iframeEl){module.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)");return api.createRangyRange(iframeEl)};api.addCreateMissingNativeApiListener(function(win){var doc=win.document;if(typeof doc.createRange=="undefined"){doc.createRange=function(){return api.createRange(doc)}}doc=win=null})});rangy.createModule("WrappedSelection",function(api,module){api.requireModules(["DomUtil","DomRange","WrappedRange"]);api.config.checkSelectionRanges=true;var BOOLEAN="boolean";var dom=api.dom;var util=api.util;var isHostMethod=util.isHostMethod;var DomRange=api.DomRange;var WrappedRange=api.WrappedRange;var DOMException=api.DOMException;var DomPosition=dom.DomPosition;var getNativeSelection;var selectionIsCollapsed;var features=api.features;var CONTROL="Control";var getDocument=dom.getDocument;var getBody=dom.getBody;var rangesEqual=DomRange.rangesEqual;function isDirectionBackward(dir){return typeof dir=="string"?dir=="backward":!!dir}function getWindow(win,methodName){if(!win){return window}else if(dom.isWindow(win)){return win}else if(win instanceof WrappedSelection){return win.win}else{var doc=dom.getContentDocument(win,module,methodName);return dom.getWindow(doc)}}function getWinSelection(winParam){return getWindow(winParam,"getWinSelection").getSelection()}function getDocSelection(winParam){return getWindow(winParam,"getDocSelection").document.selection}var implementsWinGetSelection=isHostMethod(window,"getSelection"),implementsDocSelection=util.isHostObject(document,"selection");features.implementsWinGetSelection=implementsWinGetSelection;features.implementsDocSelection=implementsDocSelection;var useDocumentSelection=implementsDocSelection&&(!implementsWinGetSelection||api.config.preferTextRange);if(useDocumentSelection){getNativeSelection=getDocSelection;api.isSelectionValid=function(winParam){var doc=getWindow(winParam,"isSelectionValid").document,nativeSel=doc.selection;return nativeSel.type!="None"||getDocument(nativeSel.createRange().parentElement())==doc}}else if(implementsWinGetSelection){getNativeSelection=getWinSelection;api.isSelectionValid=function(){return true}}else{module.fail("Neither document.selection or window.getSelection() detected.")}api.getNativeSelection=getNativeSelection;var testSelection=getNativeSelection();var testRange=api.createNativeRange(document);var body=getBody(document);var selectionHasAnchorAndFocus=util.areHostProperties(testSelection,["anchorNode","focusNode","anchorOffset","focusOffset"]);features.selectionHasAnchorAndFocus=selectionHasAnchorAndFocus;var selectionHasExtend=isHostMethod(testSelection,"extend");features.selectionHasExtend=selectionHasExtend;var selectionHasRangeCount=typeof testSelection.rangeCount=="number";features.selectionHasRangeCount=selectionHasRangeCount;var selectionSupportsMultipleRanges=false;var collapsedNonEditableSelectionsSupported=true;if(util.areHostMethods(testSelection,["addRange","getRangeAt","removeAllRanges"])&&typeof testSelection.rangeCount=="number"&&features.implementsDomRange){(function(){var sel=window.getSelection();if(sel){var body=getBody(document);var testEl=body.appendChild(document.createElement("div"));testEl.contentEditable="false";var textNode=testEl.appendChild(document.createTextNode(""));var r1=document.createRange();r1.setStart(textNode,1);r1.collapse(true);sel.addRange(r1);collapsedNonEditableSelectionsSupported=sel.rangeCount==1;sel.removeAllRanges();var r2=r1.cloneRange();r1.setStart(textNode,0);r2.setEnd(textNode,3);r2.setStart(textNode,2);sel.addRange(r1);sel.addRange(r2);selectionSupportsMultipleRanges=sel.rangeCount==2;body.removeChild(testEl);sel.removeAllRanges();r1.detach();r2.detach()}})()}features.selectionSupportsMultipleRanges=selectionSupportsMultipleRanges;features.collapsedNonEditableSelectionsSupported=collapsedNonEditableSelectionsSupported;var implementsControlRange=false,testControlRange;if(body&&isHostMethod(body,"createControlRange")){testControlRange=body.createControlRange();if(util.areHostProperties(testControlRange,["item","add"])){implementsControlRange=true}}features.implementsControlRange=implementsControlRange;if(selectionHasAnchorAndFocus){selectionIsCollapsed=function(sel){return sel.anchorNode===sel.focusNode&&sel.anchorOffset===sel.focusOffset}}else{selectionIsCollapsed=function(sel){return sel.rangeCount?sel.getRangeAt(sel.rangeCount-1).collapsed:false}}function updateAnchorAndFocusFromRange(sel,range,backward){var anchorPrefix=backward?"end":"start",focusPrefix=backward?"start":"end";sel.anchorNode=range[anchorPrefix+"Container"];sel.anchorOffset=range[anchorPrefix+"Offset"];sel.focusNode=range[focusPrefix+"Container"];sel.focusOffset=range[focusPrefix+"Offset"]}function updateAnchorAndFocusFromNativeSelection(sel){var nativeSel=sel.nativeSelection;sel.anchorNode=nativeSel.anchorNode;sel.anchorOffset=nativeSel.anchorOffset;sel.focusNode=nativeSel.focusNode;sel.focusOffset=nativeSel.focusOffset}function updateEmptySelection(sel){sel.anchorNode=sel.focusNode=null;sel.anchorOffset=sel.focusOffset=0;sel.rangeCount=0;sel.isCollapsed=true;sel._ranges.length=0}function getNativeRange(range){var nativeRange;if(range instanceof DomRange){nativeRange=api.createNativeRange(range.getDocument());nativeRange.setEnd(range.endContainer,range.endOffset);nativeRange.setStart(range.startContainer,range.startOffset)}else if(range instanceof WrappedRange){nativeRange=range.nativeRange}else if(features.implementsDomRange&&range instanceof dom.getWindow(range.startContainer).Range){nativeRange=range}return nativeRange}function rangeContainsSingleElement(rangeNodes){if(!rangeNodes.length||rangeNodes[0].nodeType!=1){return false
}for(var i=1,len=rangeNodes.length;i<len;++i){if(!dom.isAncestorOf(rangeNodes[0],rangeNodes[i])){return false}}return true}function getSingleElementFromRange(range){var nodes=range.getNodes();if(!rangeContainsSingleElement(nodes)){throw module.createError("getSingleElementFromRange: range "+range.inspect()+" did not consist of a single element")}return nodes[0]}function isTextRange(range){return!!range&&typeof range.text!="undefined"}function updateFromTextRange(sel,range){var wrappedRange=new WrappedRange(range);sel._ranges=[wrappedRange];updateAnchorAndFocusFromRange(sel,wrappedRange,false);sel.rangeCount=1;sel.isCollapsed=wrappedRange.collapsed}function updateControlSelection(sel){sel._ranges.length=0;if(sel.docSelection.type=="None"){updateEmptySelection(sel)}else{var controlRange=sel.docSelection.createRange();if(isTextRange(controlRange)){updateFromTextRange(sel,controlRange)}else{sel.rangeCount=controlRange.length;var range,doc=getDocument(controlRange.item(0));for(var i=0;i<sel.rangeCount;++i){range=api.createRange(doc);range.selectNode(controlRange.item(i));sel._ranges.push(range)}sel.isCollapsed=sel.rangeCount==1&&sel._ranges[0].collapsed;updateAnchorAndFocusFromRange(sel,sel._ranges[sel.rangeCount-1],false)}}}function addRangeToControlSelection(sel,range){var controlRange=sel.docSelection.createRange();var rangeElement=getSingleElementFromRange(range);var doc=getDocument(controlRange.item(0));var newControlRange=getBody(doc).createControlRange();for(var i=0,len=controlRange.length;i<len;++i){newControlRange.add(controlRange.item(i))}try{newControlRange.add(rangeElement)}catch(ex){throw module.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}newControlRange.select();updateControlSelection(sel)}var getSelectionRangeAt;if(isHostMethod(testSelection,"getRangeAt")){getSelectionRangeAt=function(sel,index){try{return sel.getRangeAt(index)}catch(ex){return null}}}else if(selectionHasAnchorAndFocus){getSelectionRangeAt=function(sel){var doc=getDocument(sel.anchorNode);var range=api.createRange(doc);range.setStartAndEnd(sel.anchorNode,sel.anchorOffset,sel.focusNode,sel.focusOffset);if(range.collapsed!==this.isCollapsed){range.setStartAndEnd(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset)}return range}}function WrappedSelection(selection,docSelection,win){this.nativeSelection=selection;this.docSelection=docSelection;this._ranges=[];this.win=win;this.refresh()}function deleteProperties(sel){sel.win=sel.anchorNode=sel.focusNode=sel._ranges=null;sel.rangeCount=sel.anchorOffset=sel.focusOffset=0;sel.detached=true}var cachedRangySelections=[];function findCachedSelection(win,action){var i=cachedRangySelections.length,cached,sel;while(i--){cached=cachedRangySelections[i];sel=cached.selection;if(action=="deleteAll"){deleteProperties(sel)}else if(cached.win==win){if(action=="delete"){cachedRangySelections.splice(i,1);return true}else{return sel}}}if(action=="deleteAll"){cachedRangySelections.length=0}return null}var getSelection=function(win){if(win&&win instanceof WrappedSelection){win.refresh();return win}win=getWindow(win,"getNativeSelection");var sel=findCachedSelection(win);var nativeSel=getNativeSelection(win),docSel=implementsDocSelection?getDocSelection(win):null;if(sel){sel.nativeSelection=nativeSel;sel.docSelection=docSel;sel.refresh()}else{sel=new WrappedSelection(nativeSel,docSel,win);cachedRangySelections.push({win:win,selection:sel})}return sel};api.getSelection=getSelection;api.getIframeSelection=function(iframeEl){module.deprecationNotice("getIframeSelection()","getSelection(iframeEl)");return api.getSelection(dom.getIframeWindow(iframeEl))};var selProto=WrappedSelection.prototype;function createControlSelection(sel,ranges){var doc=getDocument(ranges[0].startContainer);var controlRange=getBody(doc).createControlRange();for(var i=0,el;i<rangeCount;++i){el=getSingleElementFromRange(ranges[i]);try{controlRange.add(el)}catch(ex){throw module.createError("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}controlRange.select();updateControlSelection(sel)}if(!useDocumentSelection&&selectionHasAnchorAndFocus&&util.areHostMethods(testSelection,["removeAllRanges","addRange"])){selProto.removeAllRanges=function(){this.nativeSelection.removeAllRanges();updateEmptySelection(this)};var addRangeBackward=function(sel,range){var doc=DomRange.getRangeDocument(range);var endRange=api.createRange(doc);endRange.collapseToPoint(range.endContainer,range.endOffset);sel.nativeSelection.addRange(getNativeRange(endRange));sel.nativeSelection.extend(range.startContainer,range.startOffset);sel.refresh()};if(selectionHasRangeCount){selProto.addRange=function(range,direction){if(implementsControlRange&&implementsDocSelection&&this.docSelection.type==CONTROL){addRangeToControlSelection(this,range)}else{if(isDirectionBackward(direction)&&selectionHasExtend){addRangeBackward(this,range)}else{var previousRangeCount;if(selectionSupportsMultipleRanges){previousRangeCount=this.rangeCount}else{this.removeAllRanges();previousRangeCount=0}this.nativeSelection.addRange(getNativeRange(range).cloneRange());this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==previousRangeCount+1){if(api.config.checkSelectionRanges){var nativeRange=getSelectionRangeAt(this.nativeSelection,this.rangeCount-1);if(nativeRange&&!rangesEqual(nativeRange,range)){range=new WrappedRange(nativeRange)}}this._ranges[this.rangeCount-1]=range;updateAnchorAndFocusFromRange(this,range,selectionIsBackward(this.nativeSelection));this.isCollapsed=selectionIsCollapsed(this)}else{this.refresh()}}}}}else{selProto.addRange=function(range,direction){if(isDirectionBackward(direction)&&selectionHasExtend){addRangeBackward(this,range)}else{this.nativeSelection.addRange(getNativeRange(range));this.refresh()}}}selProto.setRanges=function(ranges){if(implementsControlRange&&ranges.length>1){createControlSelection(this,ranges)}else{this.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){this.addRange(ranges[i])}}}}else if(isHostMethod(testSelection,"empty")&&isHostMethod(testRange,"select")&&implementsControlRange&&useDocumentSelection){selProto.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var doc;if(this.anchorNode){doc=getDocument(this.anchorNode)}else if(this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();if(controlRange.length){doc=getDocument(controlRange.item(0))}}if(doc){var textRange=getBody(doc).createTextRange();textRange.select();this.docSelection.empty()}}}catch(ex){}updateEmptySelection(this)};selProto.addRange=function(range){if(this.docSelection.type==CONTROL){addRangeToControlSelection(this,range)}else{WrappedRange.rangeToTextRange(range).select();this._ranges[0]=range;this.rangeCount=1;this.isCollapsed=this._ranges[0].collapsed;updateAnchorAndFocusFromRange(this,range,false)}};selProto.setRanges=function(ranges){this.removeAllRanges();var rangeCount=ranges.length;if(rangeCount>1){createControlSelection(this,ranges)}else if(rangeCount){this.addRange(ranges[0])}}}else{module.fail("No means of selecting a Range or TextRange was found");return false}selProto.getRangeAt=function(index){if(index<0||index>=this.rangeCount){throw new DOMException("INDEX_SIZE_ERR")}else{return this._ranges[index].cloneRange()}};var refreshSelection;if(useDocumentSelection){refreshSelection=function(sel){var range;if(api.isSelectionValid(sel.win)){range=sel.docSelection.createRange()}else{range=getBody(sel.win.document).createTextRange();range.collapse(true)}if(sel.docSelection.type==CONTROL){updateControlSelection(sel)}else if(isTextRange(range)){updateFromTextRange(sel,range)}else{updateEmptySelection(sel)}}}else if(isHostMethod(testSelection,"getRangeAt")&&typeof testSelection.rangeCount=="number"){refreshSelection=function(sel){if(implementsControlRange&&implementsDocSelection&&sel.docSelection.type==CONTROL){updateControlSelection(sel)}else{sel._ranges.length=sel.rangeCount=sel.nativeSelection.rangeCount;if(sel.rangeCount){for(var i=0,len=sel.rangeCount;i<len;++i){sel._ranges[i]=new api.WrappedRange(sel.nativeSelection.getRangeAt(i))}updateAnchorAndFocusFromRange(sel,sel._ranges[sel.rangeCount-1],selectionIsBackward(sel.nativeSelection));sel.isCollapsed=selectionIsCollapsed(sel)}else{updateEmptySelection(sel)}}}}else if(selectionHasAnchorAndFocus&&typeof testSelection.isCollapsed==BOOLEAN&&typeof testRange.collapsed==BOOLEAN&&features.implementsDomRange){refreshSelection=function(sel){var range,nativeSel=sel.nativeSelection;if(nativeSel.anchorNode){range=getSelectionRangeAt(nativeSel,0);sel._ranges=[range];sel.rangeCount=1;updateAnchorAndFocusFromNativeSelection(sel);sel.isCollapsed=selectionIsCollapsed(sel)}else{updateEmptySelection(sel)}}}else{module.fail("No means of obtaining a Range or TextRange from the user's selection was found");return false}selProto.refresh=function(checkForChanges){var oldRanges=checkForChanges?this._ranges.slice(0):null;var oldAnchorNode=this.anchorNode,oldAnchorOffset=this.anchorOffset;refreshSelection(this);if(checkForChanges){var i=oldRanges.length;if(i!=this._ranges.length){return true}if(this.anchorNode!=oldAnchorNode||this.anchorOffset!=oldAnchorOffset){return true}while(i--){if(!rangesEqual(oldRanges[i],this._ranges[i])){return true}}return false}};var removeRangeManually=function(sel,range){var ranges=sel.getAllRanges();sel.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){if(!api.rangesEqual(range,ranges[i])){sel.addRange(ranges[i])}}if(!sel.rangeCount){updateEmptySelection(sel)}};if(implementsControlRange){selProto.removeRange=function(range){if(this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();var rangeElement=getSingleElementFromRange(range);var doc=getDocument(controlRange.item(0));var newControlRange=getBody(doc).createControlRange();var el,removed=false;for(var i=0,len=controlRange.length;i<len;++i){el=controlRange.item(i);if(el!==rangeElement||removed){newControlRange.add(controlRange.item(i))}else{removed=true}}newControlRange.select();updateControlSelection(this)}else{removeRangeManually(this,range)}}}else{selProto.removeRange=function(range){removeRangeManually(this,range)}}var selectionIsBackward;if(!useDocumentSelection&&selectionHasAnchorAndFocus&&features.implementsDomRange){selectionIsBackward=function(sel){var backward=false;if(sel.anchorNode){backward=dom.comparePoints(sel.anchorNode,sel.anchorOffset,sel.focusNode,sel.focusOffset)==1}return backward};selProto.isBackward=function(){return selectionIsBackward(this)}}else{selectionIsBackward=selProto.isBackward=function(){return false}}selProto.isBackwards=selProto.isBackward;selProto.toString=function(){var rangeTexts=[];for(var i=0,len=this.rangeCount;i<len;++i){rangeTexts[i]=""+this._ranges[i]}return rangeTexts.join("")};function assertNodeInSameDocument(sel,node){if(sel.win.document!=getDocument(node)){throw new DOMException("WRONG_DOCUMENT_ERR")}}selProto.collapse=function(node,offset){assertNodeInSameDocument(this,node);var range=api.createRange(node);range.collapseToPoint(node,offset);this.setSingleRange(range);this.isCollapsed=true};selProto.collapseToStart=function(){if(this.rangeCount){var range=this._ranges[0];this.collapse(range.startContainer,range.startOffset)}else{throw new DOMException("INVALID_STATE_ERR")}};selProto.collapseToEnd=function(){if(this.rangeCount){var range=this._ranges[this.rangeCount-1];this.collapse(range.endContainer,range.endOffset)}else{throw new DOMException("INVALID_STATE_ERR")}};selProto.selectAllChildren=function(node){assertNodeInSameDocument(this,node);var range=api.createRange(node);range.selectNodeContents(node);this.removeAllRanges();this.addRange(range)};selProto.deleteFromDocument=function(){if(implementsControlRange&&implementsDocSelection&&this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();var element;while(controlRange.length){element=controlRange.item(0);controlRange.remove(element);element.parentNode.removeChild(element)}this.refresh()}else if(this.rangeCount){var ranges=this.getAllRanges();if(ranges.length){this.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){ranges[i].deleteContents()}this.addRange(ranges[len-1])}}};selProto.eachRange=function(func,returnValue){for(var i=0,len=this._ranges.length;i<len;++i){if(func(this.getRangeAt(i))){return returnValue}}};selProto.getAllRanges=function(){var ranges=[];this.eachRange(function(range){ranges.push(range)});return ranges};selProto.setSingleRange=function(range,direction){this.removeAllRanges();this.addRange(range,direction)};selProto.callMethodOnEachRange=function(methodName,params){var results=[];this.eachRange(function(range){results.push(range[methodName].apply(range,params))});return results};function createStartOrEndSetter(isStart){return function(node,offset){var range;if(this.rangeCount){range=this.getRangeAt(0);range["set"+(isStart?"Start":"End")](node,offset)}else{range=api.createRange(this.win.document);range.setStartAndEnd(node,offset)}this.setSingleRange(range,this.isBackward())}}selProto.setStart=createStartOrEndSetter(true);selProto.setEnd=createStartOrEndSetter(false);api.rangePrototype.select=function(direction){getSelection(this.getDocument()).setSingleRange(this,direction)};selProto.changeEachRange=function(func){var ranges=[];var backward=this.isBackward();this.eachRange(function(range){func(range);ranges.push(range)});this.removeAllRanges();if(backward&&ranges.length==1){this.addRange(ranges[0],"backward")}else{this.setRanges(ranges)}};selProto.containsNode=function(node,allowPartial){return this.eachRange(function(range){return range.containsNode(node,allowPartial)},true)};selProto.getBookmark=function(containerNode){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[containerNode])}};selProto.moveToBookmark=function(bookmark){var selRanges=[];for(var i=0,rangeBookmark,range;rangeBookmark=bookmark.rangeBookmarks[i++];){range=api.createRange(this.win);range.moveToBookmark(rangeBookmark);selRanges.push(range)}if(bookmark.backward){this.setSingleRange(selRanges[0],"backward")}else{this.setRanges(selRanges)}};selProto.toHtml=function(){return this.callMethodOnEachRange("toHtml").join("")};function inspect(sel){var rangeInspects=[];var anchor=new DomPosition(sel.anchorNode,sel.anchorOffset);var focus=new DomPosition(sel.focusNode,sel.focusOffset);var name=typeof sel.getName=="function"?sel.getName():"Selection";if(typeof sel.rangeCount!="undefined"){for(var i=0,len=sel.rangeCount;i<len;++i){rangeInspects[i]=DomRange.inspect(sel.getRangeAt(i))}}return"["+name+"(Ranges: "+rangeInspects.join(", ")+")(anchor: "+anchor.inspect()+", focus: "+focus.inspect()+"]"}selProto.getName=function(){return"WrappedSelection"};selProto.inspect=function(){return inspect(this)};selProto.detach=function(){findCachedSelection(this.win,"delete");deleteProperties(this)};WrappedSelection.detachAll=function(){findCachedSelection(null,"deleteAll")};WrappedSelection.inspect=inspect;WrappedSelection.isDirectionBackward=isDirectionBackward;api.Selection=WrappedSelection;api.selectionPrototype=selProto;api.addCreateMissingNativeApiListener(function(win){if(typeof win.getSelection=="undefined"){win.getSelection=function(){return getSelection(win)}}win=null})})},{}],MaLMT3:[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction");var invariant=require("./invariant");var joinClasses=require("./joinClasses");var merge=require("./merge");function createTransferStrategy(mergeStrategy){return function(props,key,value){if(!props.hasOwnProperty(key)){props[key]=value}else{props[key]=mergeStrategy(props[key],value)}}}var TransferStrategies={children:emptyFunction,className:createTransferStrategy(joinClasses),ref:emptyFunction,style:createTransferStrategy(merge)};var ReactPropTransferer={TransferStrategies:TransferStrategies,Mixin:{transferPropsTo:function(component){invariant(component.props.__owner__===this);var props={};for(var thatKey in component.props){if(component.props.hasOwnProperty(thatKey)){props[thatKey]=component.props[thatKey]}}for(var thisKey in this.props){if(!this.props.hasOwnProperty(thisKey)){continue}var transferStrategy=TransferStrategies[thisKey];if(transferStrategy){transferStrategy(props,thisKey,this.props[thisKey])}else if(!props.hasOwnProperty(thisKey)){props[thisKey]=this.props[thisKey]}}component.props=props;return component}}};module.exports=ReactPropTransferer},{"./emptyFunction":"B70uQ1","./invariant":"A8YiG2","./joinClasses":"oaZOFL","./merge":"D67bCH"}],Mh8Ufb:[function(require,module,exports){"use strict";var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactReconcileTransaction=require("./ReactReconcileTransaction");var ReactInstanceHandles=require("./ReactInstanceHandles");function renderComponentToString(component,callback){var id=ReactInstanceHandles.createReactRootID();var transaction=ReactReconcileTransaction.getPooled();transaction.reinitializeTransaction();try{transaction.perform(function(){var markup=component.mountComponent(id,transaction,0);markup=ReactMarkupChecksum.addChecksumToMarkup(markup);callback(markup)},null)}finally{ReactReconcileTransaction.release(transaction)}}module.exports={renderComponentToString:renderComponentToString}},{"./ReactInstanceHandles":"YemHRk","./ReactMarkupChecksum":"b3rcxo","./ReactReconcileTransaction":"GtiY+O"}],"N1z+cF":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS;var DefaultDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,autoComplete:null,autoFocus:HAS_BOOLEAN_VALUE,autoPlay:HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,className:MUST_USE_PROPERTY,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,data:null,dateTime:MUST_USE_ATTRIBUTE,dir:null,disabled:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,href:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,label:null,lang:null,list:null,max:null,maxLength:MUST_USE_ATTRIBUTE,method:null,min:null,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rowSpan:null,scrollLeft:MUST_USE_PROPERTY,scrollTop:MUST_USE_PROPERTY,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,size:null,spellCheck:null,src:null,step:null,style:null,tabIndex:null,target:null,title:null,type:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,autoCapitalize:null,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNames:{className:"class",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",htmlFor:"for",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeLinecap:"stroke-linecap",strokeWidth:"stroke-width",viewBox:"viewBox"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",radioGroup:"radiogroup",spellCheck:"spellcheck"},DOMMutationMethods:{className:function(node,value){node.className=value||""}}};module.exports=DefaultDOMPropertyConfig},{"./DOMProperty":"Fjhu7o"}],"N6+za1":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var SyntheticClipboardEvent=require("./SyntheticClipboardEvent");var SyntheticEvent=require("./SyntheticEvent");var SyntheticFocusEvent=require("./SyntheticFocusEvent");var SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var SyntheticTouchEvent=require("./SyntheticTouchEvent");var SyntheticUIEvent=require("./SyntheticUIEvent");var SyntheticWheelEvent=require("./SyntheticWheelEvent");var invariant=require("./invariant");var keyOf=require("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topBlur:eventTypes.blur,topClick:eventTypes.click,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topScroll:eventTypes.scroll,topSubmit:eventTypes.submit,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topWheel:eventTypes.wheel};var SimpleEventPlugin={eventTypes:eventTypes,executeDispatch:function(event,listener,domID){var returnValue=listener(event,domID);if(returnValue===false){event.stopPropagation();event.preventDefault()}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null}var EventConstructor;switch(topLevelType){case topLevelTypes.topInput:case topLevelTypes.topSubmit:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyPress:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null}case topLevelTypes.topDoubleClick:case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break}invariant(EventConstructor);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event}};module.exports=SimpleEventPlugin},{"./EventConstants":"SE1Big","./EventPropagators":"SOC163","./SyntheticClipboardEvent":"AfE2V/","./SyntheticEvent":"cExfNQ","./SyntheticFocusEvent":"8Ovull","./SyntheticKeyboardEvent":"Cd3fK8","./SyntheticMouseEvent":"hXX1Q/","./SyntheticTouchEvent":"S96F9X","./SyntheticUIEvent":"0ofNfe","./SyntheticWheelEvent":"f2N6JH","./invariant":"A8YiG2","./keyOf":"2m/F8p"}],OQwL87:[function(require,module,exports){var ex=function(errorMessage){var args=Array.prototype.slice.call(arguments).map(function(arg){return String(arg)});var expectedLength=errorMessage.split("%s").length-1;if(expectedLength!==args.length-1){return ex("ex args number mismatch: %s",JSON.stringify(args))}return ex._prefix+JSON.stringify(args)+ex._suffix};ex._prefix="<![EX[";ex._suffix="]]>";module.exports=ex},{}],OS9fTy:[function(require,module,exports){(function(expose){var Markdown=expose.Markdown=function(dialect){switch(typeof dialect){case"undefined":this.dialect=Markdown.dialects.Gruber;break;case"object":this.dialect=dialect;break;default:if(dialect in Markdown.dialects){this.dialect=Markdown.dialects[dialect]}else{throw new Error("Unknown Markdown dialect '"+String(dialect)+"'")}break}this.em_state=[];this.strong_state=[];this.debug_indent=""};expose.parse=function(source,dialect){var md=new Markdown(dialect);return md.toTree(source)};expose.toHTML=function toHTML(source,dialect,options){var input=expose.toHTMLTree(source,dialect,options);return expose.renderJsonML(input)};expose.toHTMLTree=function toHTMLTree(input,dialect,options){if(typeof input==="string")input=this.parse(input,dialect);var attrs=extract_attr(input),refs={};if(attrs&&attrs.references){refs=attrs.references}var html=convert_tree_to_html(input,refs,options);merge_text_nodes(html);return html};function mk_block_toSource(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function mk_block_inspect(){var util=require("util");return"Markdown.mk_block( "+util.inspect(this.toString())+", "+util.inspect(this.trailing)+", "+util.inspect(this.lineNumber)+" )"}var mk_block=Markdown.mk_block=function(block,trail,line){if(arguments.length==1)trail="\n\n";var s=new String(block);s.trailing=trail;s.inspect=mk_block_inspect;s.toSource=mk_block_toSource;if(line!=undefined)s.lineNumber=line;return s};function count_lines(str){var n=0,i=-1;while((i=str.indexOf("\n",i+1))!==-1)n++;return n}Markdown.prototype.split_blocks=function splitBlocks(input,startLine){input=input.replace(/(\r\n|\n|\r)/g,"\n");var re=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,blocks=[],m;var line_no=1;if((m=/^(\s*\n)/.exec(input))!=null){line_no+=count_lines(m[0]);re.lastIndex=m[0].length}while((m=re.exec(input))!==null){if(m[2]=="\n#"){m[2]="\n";re.lastIndex--}blocks.push(mk_block(m[1],m[2],line_no));line_no+=count_lines(m[0])}return blocks};Markdown.prototype.processBlock=function processBlock(block,next){var cbs=this.dialect.block,ord=cbs.__order__;if("__call__"in cbs){return cbs.__call__.call(this,block,next)}for(var i=0;i<ord.length;i++){var res=cbs[ord[i]].call(this,block,next);if(res){if(!isArray(res)||res.length>0&&!isArray(res[0]))this.debug(ord[i],"didn't return a proper array");return res}}return[]};Markdown.prototype.processInline=function processInline(block){return this.dialect.inline.__call__.call(this,String(block))};Markdown.prototype.toTree=function toTree(source,custom_root){var blocks=source instanceof Array?source:this.split_blocks(source);var old_tree=this.tree;try{this.tree=custom_root||this.tree||["markdown"];blocks:while(blocks.length){var b=this.processBlock(blocks.shift(),blocks);if(!b.length)continue blocks;this.tree.push.apply(this.tree,b)}return this.tree}finally{if(custom_root){this.tree=old_tree}}};Markdown.prototype.debug=function(){var args=Array.prototype.slice.call(arguments);args.unshift(this.debug_indent);if(typeof print!=="undefined")print.apply(print,args);if(typeof console!=="undefined"&&typeof console.log!=="undefined")console.log.apply(null,args)};Markdown.prototype.loop_re_over_block=function(re,block,cb){var m,b=block.valueOf();while(b.length&&(m=re.exec(b))!=null){b=b.substr(m[0].length);cb.call(this,m)}return b};Markdown.dialects={};Markdown.dialects.Gruber={block:{atxHeader:function atxHeader(block,next){var m=block.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!m)return undefined;var header=["header",{level:m[1].length}];Array.prototype.push.apply(header,this.processInline(m[2]));if(m[0].length<block.length)next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2));return[header]},setextHeader:function setextHeader(block,next){var m=block.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);
if(!m)return undefined;var level=m[2]==="="?1:2;var header=["header",{level:level},m[1]];if(m[0].length<block.length)next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2));return[header]},code:function code(block,next){var ret=[],re=/^(?: {0,3}\t| {4})(.*)\n?/,lines;if(!block.match(re))return undefined;block_search:do{var b=this.loop_re_over_block(re,block.valueOf(),function(m){ret.push(m[1])});if(b.length){next.unshift(mk_block(b,block.trailing));break block_search}else if(next.length){if(!next[0].match(re))break block_search;ret.push(block.trailing.replace(/[^\n]/g,"").substring(2));block=next.shift()}else{break block_search}}while(true);return[["code_block",ret.join("\n")]]},horizRule:function horizRule(block,next){var m=block.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!m){return undefined}var jsonml=[["hr"]];if(m[1]){jsonml.unshift.apply(jsonml,this.processBlock(m[1],[]))}if(m[3]){next.unshift(mk_block(m[3]))}return jsonml},lists:function(){var any_list="[*+-]|\\d+\\.",bullet_list=/[*+-]/,number_list=/\d+\./,is_list_re=new RegExp("^( {0,3})("+any_list+")[ 	]+"),indent_re="(?: {0,3}\\t| {4})";function regex_for_depth(depth){return new RegExp("(?:^("+indent_re+"{0,"+depth+"} {0,3})("+any_list+")\\s+)|"+"(^"+indent_re+"{0,"+(depth-1)+"}[ ]{0,4})")}function expand_tab(input){return input.replace(/ {0,3}\t/g,"    ")}function add(li,loose,inline,nl){if(loose){li.push(["para"].concat(inline));return}var add_to=li[li.length-1]instanceof Array&&li[li.length-1][0]=="para"?li[li.length-1]:li;if(nl&&li.length>1)inline.unshift(nl);for(var i=0;i<inline.length;i++){var what=inline[i],is_str=typeof what=="string";if(is_str&&add_to.length>1&&typeof add_to[add_to.length-1]=="string"){add_to[add_to.length-1]+=what}else{add_to.push(what)}}}function get_contained_blocks(depth,blocks){var re=new RegExp("^("+indent_re+"{"+depth+"}.*?\\n?)*$"),replace=new RegExp("^"+indent_re+"{"+depth+"}","gm"),ret=[];while(blocks.length>0){if(re.exec(blocks[0])){var b=blocks.shift(),x=b.replace(replace,"");ret.push(mk_block(x,b.trailing,b.lineNumber))}else{break}}return ret}function paragraphify(s,i,stack){var list=s.list;var last_li=list[list.length-1];if(last_li[1]instanceof Array&&last_li[1][0]=="para"){return}if(i+1==stack.length){last_li.push(["para"].concat(last_li.splice(1,last_li.length-1)))}else{var sublist=last_li.pop();last_li.push(["para"].concat(last_li.splice(1,last_li.length-1)),sublist)}}return function(block,next){var m=block.match(is_list_re);if(!m)return undefined;function make_list(m){var list=bullet_list.exec(m[2])?["bulletlist"]:["numberlist"];stack.push({list:list,indent:m[1]});return list}var stack=[],list=make_list(m),last_li,loose=false,ret=[stack[0].list],i;loose_search:while(true){var lines=block.split(/(?=\n)/);var li_accumulate="";tight_search:for(var line_no=0;line_no<lines.length;line_no++){var nl="",l=lines[line_no].replace(/^\n/,function(n){nl=n;return""});var line_re=regex_for_depth(stack.length);m=l.match(line_re);if(m[1]!==undefined){if(li_accumulate.length){add(last_li,loose,this.processInline(li_accumulate),nl);loose=false;li_accumulate=""}m[1]=expand_tab(m[1]);var wanted_depth=Math.floor(m[1].length/4)+1;if(wanted_depth>stack.length){list=make_list(m);last_li.push(list);last_li=list[1]=["listitem"]}else{var found=false;for(i=0;i<stack.length;i++){if(stack[i].indent!=m[1])continue;list=stack[i].list;stack.splice(i+1,stack.length-(i+1));found=true;break}if(!found){wanted_depth++;if(wanted_depth<=stack.length){stack.splice(wanted_depth,stack.length-wanted_depth);list=stack[wanted_depth-1].list}else{list=make_list(m);last_li.push(list)}}last_li=["listitem"];list.push(last_li)}nl=""}if(l.length>m[0].length){li_accumulate+=nl+l.substr(m[0].length)}}if(li_accumulate.length){add(last_li,loose,this.processInline(li_accumulate),nl);loose=false;li_accumulate=""}var contained=get_contained_blocks(stack.length,next);if(contained.length>0){forEach(stack,paragraphify,this);last_li.push.apply(last_li,this.toTree(contained,[]))}var next_block=next[0]&&next[0].valueOf()||"";if(next_block.match(is_list_re)||next_block.match(/^ /)){block=next.shift();var hr=this.dialect.block.horizRule(block,next);if(hr){ret.push.apply(ret,hr);break}forEach(stack,paragraphify,this);loose=true;continue loose_search}break}return ret}}(),blockquote:function blockquote(block,next){if(!block.match(/^>/m))return undefined;var jsonml=[];if(block[0]!=">"){var lines=block.split(/\n/),prev=[],line_no=block.lineNumber;while(lines.length&&lines[0][0]!=">"){prev.push(lines.shift());line_no++}var abutting=mk_block(prev.join("\n"),"\n",block.lineNumber);jsonml.push.apply(jsonml,this.processBlock(abutting,[]));block=mk_block(lines.join("\n"),block.trailing,line_no)}while(next.length&&next[0][0]==">"){var b=next.shift();block=mk_block(block+block.trailing+b,b.trailing,block.lineNumber)}var input=block.replace(/^> ?/gm,""),old_tree=this.tree,processedBlock=this.toTree(input,["blockquote"]),attr=extract_attr(processedBlock);if(attr&&attr.references){delete attr.references;if(isEmpty(attr)){processedBlock.splice(1,1)}}jsonml.push(processedBlock);return jsonml},referenceDefn:function referenceDefn(block,next){var re=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!block.match(re))return undefined;if(!extract_attr(this.tree)){this.tree.splice(1,0,{})}var attrs=extract_attr(this.tree);if(attrs.references===undefined){attrs.references={}}var b=this.loop_re_over_block(re,block,function(m){if(m[2]&&m[2][0]=="<"&&m[2][m[2].length-1]==">")m[2]=m[2].substring(1,m[2].length-1);var ref=attrs.references[m[1].toLowerCase()]={href:m[2]};if(m[4]!==undefined)ref.title=m[4];else if(m[5]!==undefined)ref.title=m[5]});if(b.length)next.unshift(mk_block(b,block.trailing));return[]},para:function para(block,next){return[["para"].concat(this.processInline(block))]}}};Markdown.dialects.Gruber.inline={__oneElement__:function oneElement(text,patterns_or_re,previous_nodes){var m,res,lastIndex=0;patterns_or_re=patterns_or_re||this.dialect.inline.__patterns__;var re=new RegExp("([\\s\\S]*?)("+(patterns_or_re.source||patterns_or_re)+")");m=re.exec(text);if(!m){return[text.length,text]}else if(m[1]){return[m[1].length,m[1]]}var res;if(m[2]in this.dialect.inline){res=this.dialect.inline[m[2]].call(this,text.substr(m.index),m,previous_nodes||[])}res=res||[m[2].length,m[2]];return res},__call__:function inline(text,patterns){var out=[],res;function add(x){if(typeof x=="string"&&typeof out[out.length-1]=="string")out[out.length-1]+=x;else out.push(x)}while(text.length>0){res=this.dialect.inline.__oneElement__.call(this,text,patterns,out);text=text.substr(res.shift());forEach(res,add)}return out},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function escaped(text){if(this.dialect.inline.__escape__.exec(text))return[2,text.charAt(1)];else return[1,"\\"]},"![":function image(text){var m=text.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(m){if(m[2]&&m[2][0]=="<"&&m[2][m[2].length-1]==">")m[2]=m[2].substring(1,m[2].length-1);m[2]=this.dialect.inline.__call__.call(this,m[2],/\\/)[0];var attrs={alt:m[1],href:m[2]||""};if(m[4]!==undefined)attrs.title=m[4];return[m[0].length,["img",attrs]]}m=text.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/);if(m){return[m[0].length,["img_ref",{alt:m[1],ref:m[2].toLowerCase(),original:m[0]}]]}return[2,"!["]},"[":function link(text){var orig=String(text);var res=Markdown.DialectHelpers.inline_until_char.call(this,text.substr(1),"]");if(!res)return[1,"["];var consumed=1+res[0],children=res[1],link,attrs;text=text.substr(consumed);var m=text.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(m){var url=m[1];consumed+=m[0].length;if(url&&url[0]=="<"&&url[url.length-1]==">")url=url.substring(1,url.length-1);if(!m[3]){var open_parens=1;for(var len=0;len<url.length;len++){switch(url[len]){case"(":open_parens++;break;case")":if(--open_parens==0){consumed-=url.length-len;url=url.substring(0,len)}break}}}url=this.dialect.inline.__call__.call(this,url,/\\/)[0];attrs={href:url||""};if(m[3]!==undefined)attrs.title=m[3];link=["link",attrs].concat(children);return[consumed,link]}m=text.match(/^\s*\[(.*?)\]/);if(m){consumed+=m[0].length;attrs={ref:(m[1]||String(children)).toLowerCase(),original:orig.substr(0,consumed)};link=["link_ref",attrs].concat(children);return[consumed,link]}if(children.length==1&&typeof children[0]=="string"){attrs={ref:children[0].toLowerCase(),original:orig.substr(0,consumed)};link=["link_ref",attrs,children[0]];return[consumed,link]}return[1,"["]},"<":function autoLink(text){var m;if((m=text.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null){if(m[3]){return[m[0].length,["link",{href:"mailto:"+m[3]},m[3]]]}else if(m[2]=="mailto"){return[m[0].length,["link",{href:m[1]},m[1].substr("mailto:".length)]]}else return[m[0].length,["link",{href:m[1]},m[1]]]}return[1,"<"]},"`":function inlineCode(text){var m=text.match(/(`+)(([\s\S]*?)\1)/);if(m&&m[2])return[m[1].length+m[2].length,["inlinecode",m[3]]];else{return[1,"`"]}},"  \n":function lineBreak(text){return[3,["linebreak"]]}};function strong_em(tag,md){var state_slot=tag+"_state",other_slot=tag=="strong"?"em_state":"strong_state";function CloseTag(len){this.len_after=len;this.name="close_"+md}return function(text,orig_match){if(this[state_slot][0]==md){this[state_slot].shift();return[text.length,new CloseTag(text.length-md.length)]}else{var other=this[other_slot].slice(),state=this[state_slot].slice();this[state_slot].unshift(md);var res=this.processInline(text.substr(md.length));var last=res[res.length-1];var check=this[state_slot].shift();if(last instanceof CloseTag){res.pop();var consumed=text.length-last.len_after;return[consumed,[tag].concat(res)]}else{this[other_slot]=other;this[state_slot]=state;return[md.length,md]}}}}Markdown.dialects.Gruber.inline["**"]=strong_em("strong","**");Markdown.dialects.Gruber.inline["__"]=strong_em("strong","__");Markdown.dialects.Gruber.inline["*"]=strong_em("em","*");Markdown.dialects.Gruber.inline["_"]=strong_em("em","_");Markdown.buildBlockOrder=function(d){var ord=[];for(var i in d){if(i=="__order__"||i=="__call__")continue;ord.push(i)}d.__order__=ord};Markdown.buildInlinePatterns=function(d){var patterns=[];for(var i in d){if(i.match(/^__.*__$/))continue;var l=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");patterns.push(i.length==1?l:"(?:"+l+")")}patterns=patterns.join("|");d.__patterns__=patterns;var fn=d.__call__;d.__call__=function(text,pattern){if(pattern!=undefined){return fn.call(this,text,pattern)}else{return fn.call(this,text,patterns)}}};Markdown.DialectHelpers={};Markdown.DialectHelpers.inline_until_char=function(text,want){var consumed=0,nodes=[];while(true){if(text.charAt(consumed)==want){consumed++;return[consumed,nodes]}if(consumed>=text.length){return null}var res=this.dialect.inline.__oneElement__.call(this,text.substr(consumed));consumed+=res[0];nodes.push.apply(nodes,res.slice(1))}};Markdown.subclassDialect=function(d){function Block(){}Block.prototype=d.block;function Inline(){}Inline.prototype=d.inline;return{block:new Block,inline:new Inline}};Markdown.buildBlockOrder(Markdown.dialects.Gruber.block);Markdown.buildInlinePatterns(Markdown.dialects.Gruber.inline);Markdown.dialects.Maruku=Markdown.subclassDialect(Markdown.dialects.Gruber);Markdown.dialects.Maruku.processMetaHash=function processMetaHash(meta_string){var meta=split_meta_hash(meta_string),attr={};for(var i=0;i<meta.length;++i){if(/^#/.test(meta[i])){attr.id=meta[i].substring(1)}else if(/^\./.test(meta[i])){if(attr["class"]){attr["class"]=attr["class"]+meta[i].replace(/./," ")}else{attr["class"]=meta[i].substring(1)}}else if(/\=/.test(meta[i])){var s=meta[i].split(/\=/);attr[s[0]]=s[1]}}return attr};function split_meta_hash(meta_string){var meta=meta_string.split(""),parts=[""],in_quotes=false;while(meta.length){var letter=meta.shift();switch(letter){case" ":if(in_quotes){parts[parts.length-1]+=letter}else{parts.push("")}break;case"'":case'"':in_quotes=!in_quotes;break;case"\\":letter=meta.shift();default:parts[parts.length-1]+=letter;break}}return parts}Markdown.dialects.Maruku.block.document_meta=function document_meta(block,next){if(block.lineNumber>1)return undefined;if(!block.match(/^(?:\w+:.*\n)*\w+:.*$/))return undefined;if(!extract_attr(this.tree)){this.tree.splice(1,0,{})}var pairs=block.split(/\n/);for(p in pairs){var m=pairs[p].match(/(\w+):\s*(.*)$/),key=m[1].toLowerCase(),value=m[2];this.tree[1][key]=value}return[]};Markdown.dialects.Maruku.block.block_meta=function block_meta(block,next){var m=block.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!m)return undefined;var attr=this.dialect.processMetaHash(m[2]);var hash;if(m[1]===""){var node=this.tree[this.tree.length-1];hash=extract_attr(node);if(typeof node==="string")return undefined;if(!hash){hash={};node.splice(1,0,hash)}for(a in attr){hash[a]=attr[a]}return[]}var b=block.replace(/\n.*$/,""),result=this.processBlock(b,[]);hash=extract_attr(result[0]);if(!hash){hash={};result[0].splice(1,0,hash)}for(a in attr){hash[a]=attr[a]}return result};Markdown.dialects.Maruku.block.definition_list=function definition_list(block,next){var tight=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,list=["dl"],i,m;if(m=block.match(tight)){var blocks=[block];while(next.length&&tight.exec(next[0])){blocks.push(next.shift())}for(var b=0;b<blocks.length;++b){var m=blocks[b].match(tight),terms=m[1].replace(/\n$/,"").split(/\n/),defns=m[2].split(/\n:\s+/);for(i=0;i<terms.length;++i){list.push(["dt",terms[i]])}for(i=0;i<defns.length;++i){list.push(["dd"].concat(this.processInline(defns[i].replace(/(\n)\s+/,"$1"))))}}}else{return undefined}return[list]};Markdown.dialects.Maruku.block.table=function table(block,next){var _split_on_unescaped=function(s,ch){ch=ch||"\\s";if(ch.match(/^[\\|\[\]{}?*.+^$]$/)){ch="\\"+ch}var res=[],r=new RegExp("^((?:\\\\.|[^\\\\"+ch+"])*)"+ch+"(.*)"),m;while(m=s.match(r)){res.push(m[1]);s=m[2]}res.push(s);return res};var leading_pipe=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,no_leading_pipe=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/,i,m;if(m=block.match(leading_pipe)){m[3]=m[3].replace(/^\s*\|/gm,"")}else if(!(m=block.match(no_leading_pipe))){return undefined}var table=["table",["thead",["tr"]],["tbody"]];m[2]=m[2].replace(/\|\s*$/,"").split("|");var html_attrs=[];forEach(m[2],function(s){if(s.match(/^\s*-+:\s*$/))html_attrs.push({align:"right"});else if(s.match(/^\s*:-+\s*$/))html_attrs.push({align:"left"});else if(s.match(/^\s*:-+:\s*$/))html_attrs.push({align:"center"});else html_attrs.push({})});m[1]=_split_on_unescaped(m[1].replace(/\|\s*$/,""),"|");for(i=0;i<m[1].length;i++){table[1][1].push(["th",html_attrs[i]||{}].concat(this.processInline(m[1][i].trim())))}forEach(m[3].replace(/\|\s*$/gm,"").split("\n"),function(row){var html_row=["tr"];row=_split_on_unescaped(row,"|");for(i=0;i<row.length;i++){html_row.push(["td",html_attrs[i]||{}].concat(this.processInline(row[i].trim())))}table[2].push(html_row)},this);return[table]};Markdown.dialects.Maruku.inline["{:"]=function inline_meta(text,matches,out){if(!out.length){return[2,"{:"]}var before=out[out.length-1];if(typeof before==="string"){return[2,"{:"]}var m=text.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!m){return[2,"{:"]}var meta=this.dialect.processMetaHash(m[1]),attr=extract_attr(before);if(!attr){attr={};before.splice(1,0,attr)}for(var k in meta){attr[k]=meta[k]}return[m[0].length,""]};Markdown.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/;Markdown.buildBlockOrder(Markdown.dialects.Maruku.block);Markdown.buildInlinePatterns(Markdown.dialects.Maruku.inline);var isArray=Array.isArray||function(obj){return Object.prototype.toString.call(obj)=="[object Array]"};var forEach;if(Array.prototype.forEach){forEach=function(arr,cb,thisp){return arr.forEach(cb,thisp)}}else{forEach=function(arr,cb,thisp){for(var i=0;i<arr.length;i++){cb.call(thisp||arr,arr[i],i,arr)}}}var isEmpty=function(obj){for(var key in obj){if(hasOwnProperty.call(obj,key)){return false}}return true};function extract_attr(jsonml){return isArray(jsonml)&&jsonml.length>1&&typeof jsonml[1]==="object"&&!isArray(jsonml[1])?jsonml[1]:undefined}expose.renderJsonML=function(jsonml,options){options=options||{};options.root=options.root||false;var content=[];if(options.root){content.push(render_tree(jsonml))}else{jsonml.shift();if(jsonml.length&&typeof jsonml[0]==="object"&&!(jsonml[0]instanceof Array)){jsonml.shift()}while(jsonml.length){content.push(render_tree(jsonml.shift()))}}return content.join("\n\n")};function escapeHTML(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function render_tree(jsonml){if(typeof jsonml==="string"){return escapeHTML(jsonml)}var tag=jsonml.shift(),attributes={},content=[];if(jsonml.length&&typeof jsonml[0]==="object"&&!(jsonml[0]instanceof Array)){attributes=jsonml.shift()}while(jsonml.length){content.push(render_tree(jsonml.shift()))}var tag_attrs="";for(var a in attributes){tag_attrs+=" "+a+'="'+escapeHTML(attributes[a])+'"'}if(tag=="img"||tag=="br"||tag=="hr"){return"<"+tag+tag_attrs+"/>"}else{return"<"+tag+tag_attrs+">"+content.join("")+"</"+tag+">"}}function convert_tree_to_html(tree,references,options){var i;options=options||{};var jsonml=tree.slice(0);if(typeof options.preprocessTreeNode==="function"){jsonml=options.preprocessTreeNode(jsonml,references)}var attrs=extract_attr(jsonml);if(attrs){jsonml[1]={};for(i in attrs){jsonml[1][i]=attrs[i]}attrs=jsonml[1]}if(typeof jsonml==="string"){return jsonml}switch(jsonml[0]){case"header":jsonml[0]="h"+jsonml[1].level;delete jsonml[1].level;break;case"bulletlist":jsonml[0]="ul";break;case"numberlist":jsonml[0]="ol";break;case"listitem":jsonml[0]="li";break;case"para":jsonml[0]="p";break;case"markdown":jsonml[0]="html";if(attrs)delete attrs.references;break;case"code_block":jsonml[0]="pre";i=attrs?2:1;var code=["code"];code.push.apply(code,jsonml.splice(i,jsonml.length-i));jsonml[i]=code;break;case"inlinecode":jsonml[0]="code";break;case"img":jsonml[1].src=jsonml[1].href;delete jsonml[1].href;break;case"linebreak":jsonml[0]="br";break;case"link":jsonml[0]="a";break;case"link_ref":jsonml[0]="a";var ref=references[attrs.ref];if(ref){delete attrs.ref;attrs.href=ref.href;if(ref.title){attrs.title=ref.title}delete attrs.original}else{return attrs.original}break;case"img_ref":jsonml[0]="img";var ref=references[attrs.ref];if(ref){delete attrs.ref;attrs.src=ref.href;if(ref.title){attrs.title=ref.title}delete attrs.original}else{return attrs.original}break}i=1;if(attrs){for(var key in jsonml[1]){i=2;break}if(i===1){jsonml.splice(i,1)}}for(;i<jsonml.length;++i){jsonml[i]=convert_tree_to_html(jsonml[i],references,options)}return jsonml}function merge_text_nodes(jsonml){var i=extract_attr(jsonml)?2:1;while(i<jsonml.length){if(typeof jsonml[i]==="string"){if(i+1<jsonml.length&&typeof jsonml[i+1]==="string"){jsonml[i]+=jsonml.splice(i+1,1)[0]}else{++i}}else{merge_text_nodes(jsonml[i]);++i}}}})(function(){if(typeof exports==="undefined"){window.markdown={};return window.markdown}else{return exports}}())},{util:"KJs4c/"}],OUFt5j:[function(require,module,exports){var createObject=require("lodash._createobject"),isFunction=require("lodash.isfunction"),isObject=require("lodash.isobject"),reNative=require("lodash._renative"),setBindData=require("lodash._setbinddata"),support=require("lodash.support");var arrayRef=[];var objectProto=Object.prototype;var push=arrayRef.push,toString=objectProto.toString,unshift=arrayRef.unshift;var nativeBind=reNative.test(nativeBind=toString.bind)&&nativeBind,nativeSlice=arrayRef.slice;function createBound(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,isPartial=bitmask&16,isPartialRight=bitmask&32,key=func;if(!isBindKey&&!isFunction(func)){throw new TypeError}if(isPartial&&!partialArgs.length){bitmask&=~16;isPartial=partialArgs=false}if(isPartialRight&&!partialRightArgs.length){bitmask&=~32;isPartialRight=partialRightArgs=false}var bindData=func&&func.__bindData__;if(bindData){if(isBind&&!(bindData[1]&1)){bindData[4]=thisArg}if(!isBind&&bindData[1]&1){bitmask|=8}if(isCurry&&!(bindData[1]&4)){bindData[5]=arity}if(isPartial){push.apply(bindData[2]||(bindData[2]=[]),partialArgs)}if(isPartialRight){push.apply(bindData[3]||(bindData[3]=[]),partialRightArgs)}bindData[1]|=bitmask;return createBound.apply(null,bindData)}if(isBind&&!(isBindKey||isCurry||isPartialRight)&&(support.fastBind||nativeBind&&isPartial)){if(isPartial){var args=[thisArg];push.apply(args,partialArgs)}var bound=isPartial?nativeBind.apply(func,args):nativeBind.call(func,thisArg)}else{bound=function(){var args=arguments,thisBinding=isBind?thisArg:this;if(isCurry||isPartial||isPartialRight){args=nativeSlice.call(args);if(isPartial){unshift.apply(args,partialArgs)}if(isPartialRight){push.apply(args,partialRightArgs)}if(isCurry&&args.length<arity){bitmask|=16&~32;return createBound(func,isCurryBound?bitmask:bitmask&~3,args,null,thisArg,arity)}}if(isBindKey){func=thisBinding[key]}if(this instanceof bound){thisBinding=createObject(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}}setBindData(bound,nativeSlice.call(arguments));return bound}module.exports=createBound},{"lodash._createobject":"b7Omgg","lodash._renative":"v3mvuN","lodash._setbinddata":"8toZNe","lodash.isfunction":"INrnE/","lodash.isobject":"Un0e1X","lodash.support":"eVrMpX"}],PpNVRq:[function(require,module,exports){"use strict";var invariant=require("./invariant");var dirtyComponents=[];var batchingStrategy=null;function ensureBatchingStrategy(){invariant(batchingStrategy)}function batchedUpdates(callback,param){ensureBatchingStrategy();batchingStrategy.batchedUpdates(callback,param)}function mountDepthComparator(c1,c2){return c1._mountDepth-c2._mountDepth}function runBatchedUpdates(){dirtyComponents.sort(mountDepthComparator);for(var i=0;i<dirtyComponents.length;i++){var component=dirtyComponents[i];if(component.isMounted()){var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;component.performUpdateIfNecessary();if(callbacks){for(var j=0;j<callbacks.length;j++){callbacks[j].call(component)}}}}}function clearDirtyComponents(){dirtyComponents.length=0}function flushBatchedUpdates(){try{runBatchedUpdates()}catch(e){throw e}finally{clearDirtyComponents()}}function enqueueUpdate(component,callback){invariant(!callback||typeof callback==="function");ensureBatchingStrategy();if(!batchingStrategy.isBatchingUpdates){component.performUpdateIfNecessary();callback&&callback();return}dirtyComponents.push(component);if(callback){if(component._pendingCallbacks){component._pendingCallbacks.push(callback)}else{component._pendingCallbacks=[callback]}}}var ReactUpdatesInjection={injectBatchingStrategy:function(_batchingStrategy){invariant(_batchingStrategy);invariant(typeof _batchingStrategy.batchedUpdates==="function");invariant(typeof _batchingStrategy.isBatchingUpdates==="boolean");batchingStrategy=_batchingStrategy}};var ReactUpdates={batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection};module.exports=ReactUpdates},{"./invariant":"A8YiG2"}],QcYmKM:[function(require,module,exports){var EventListener={listen:function(el,handlerBaseName,cb){if(el.addEventListener){el.addEventListener(handlerBaseName,cb,false)}else if(el.attachEvent){el.attachEvent("on"+handlerBaseName,cb)}},capture:function(el,handlerBaseName,cb){if(!el.addEventListener){return}else{el.addEventListener(handlerBaseName,cb,true)}}};module.exports=EventListener},{}],"Qw0VB+":[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),keys=require("lodash.keys"),objectTypes=require("lodash._objecttypes");var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===false)return result}return result};module.exports=forOwn},{"lodash._basecreatecallback":"K4kY80","lodash._objecttypes":"ZQrYgH","lodash.keys":"S3Vhu3"}],"R+1zI3":[function(require,module,exports){var markdown=require("markdown").markdown,utils=require("lodash");function flatten(nodes){var content="";for(var i=0,length=nodes.length;i<length;i++){content=content+(Array.isArray(nodes[i])?nodes[i][1]:nodes[i])}return content}function walk(ast){var doc=[];ast.slice(1).forEach(function(block){switch(block[0]){case"header":doc.push({type:"heading",level:block[1].level,content:flatten(block.slice(2))});break;case"para":var inline=walkInlineMarkup(block.slice(1));doc.push({type:"paragraph",content:inline.content,annotations:inline.annotations});break;case"bulletlist":doc=doc.concat(walk(block));break;case"listitem":doc.push({type:"listitem",content:flatten(block.slice(1))});break;case"code_block":doc.push({type:"code",content:flatten(block.slice(1))});break;default:doc.push({type:"paragraph",content:flatten(block.slice(1))})}});return doc}function walkInlineMarkup(nodes){var idx=0,content=flatten(nodes),annotations=[];while(nodes.length>0){var node=nodes.shift();if(utils.isString(node)){idx=idx+node.length}else{switch(node[0]){case"em":case"strong":case"inlinecode":annotations.push({type:node[0],range:[idx,idx+node[1].length]});idx=idx+node[1].length;break;default:idx=idx+node[1].length}}}return{content:content,annotations:annotations}}function parseInlineMarkup(src){var ast=markdown.parse(src);if(!ast[1])return{content:"",annotations:[]};if(ast[1][0]==="header")return walkInlineMarkup(ast[1].slice(2));return walkInlineMarkup(ast[1].slice(1))}module.exports=function(src){var ast=markdown.parse(src);return walk(ast)};module.exports.parseInlineMarkup=parseInlineMarkup},{lodash:"rhzjCI",markdown:"InGls5"}],RQMXmj:[function(require,module,exports){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations");var LinkedValueMixin=require("./LinkedValueMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var invariant=require("./invariant");var merge=require("./merge");var textarea=ReactDOM.textarea;var ReactDOMTextarea=ReactCompositeComponent.createClass({mixins:[LinkedValueMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;var children=this.props.children;if(children!=null){invariant(defaultValue==null);if(Array.isArray(children)){invariant(children.length<=1);children=children[0]}defaultValue=""+children}if(defaultValue==null){defaultValue=""}var value=this.getValue();return{initialValue:""+(value!=null?value:defaultValue),value:defaultValue}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props);var value=this.getValue();invariant(props.dangerouslySetInnerHTML==null);props.defaultValue=null;props.value=value!=null?value:this.state.value;props.onChange=this._handleChange;return textarea(props,this.state.initialValue)},componentDidUpdate:function(prevProps,prevState,rootNode){var value=this.getValue();if(value!=null){DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)}},_handleChange:function(event){var returnValue;var onChange=this.getOnChange();if(onChange){this._isChanging=true;returnValue=onChange(event);this._isChanging=false}this.setState({value:event.target.value});return returnValue}});module.exports=ReactDOMTextarea},{"./DOMPropertyOperations":"1rfYoz","./LinkedValueMixin":"oH5sxN","./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj","./invariant":"A8YiG2","./merge":"D67bCH"}],S3Vhu3:[function(require,module,exports){var isObject=require("lodash.isobject"),reNative=require("lodash._renative"),shimKeys=require("lodash._shimkeys");var objectProto=Object.prototype;var nativeKeys=reNative.test(nativeKeys=Object.keys)&&nativeKeys;var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};module.exports=keys},{"lodash._renative":"nTbwix","lodash._shimkeys":"AktVFG","lodash.isobject":"IX6p2j"}],S4nECj:[function(require,module,exports){var objectPool=[];module.exports=objectPool},{}],S96F9X:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":"0ofNfe"}],SE1Big:[function(require,module,exports){"use strict";var keyMirror=require("./keyMirror");var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"./keyMirror":"D33hUR"}],SOC163:[function(require,module,exports){"use strict";var CallbackRegistry=require("./CallbackRegistry");var EventConstants=require("./EventConstants");var accumulate=require("./accumulate");var forEachAccumulated=require("./forEachAccumulated");var getListener=CallbackRegistry.getListener;var PropagationPhases=EventConstants.PropagationPhases;var injection={InstanceHandle:null,injectInstanceHandle:function(InjectedInstanceHandle){injection.InstanceHandle=InjectedInstanceHandle},validate:function(){var invalid=!injection.InstanceHandle||!injection.InstanceHandle.traverseTwoPhase||!injection.InstanceHandle.traverseEnterLeave;if(invalid){throw new Error("InstanceHandle not injected before use!")}}};function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(domID,event,phase);if(listener){event._dispatchListeners=accumulate(event._dispatchListeners,listener);event._dispatchIDs=accumulate(event._dispatchIDs,domID)}}function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){injection.InstanceHandle.traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(id,registrationName);if(listener){event._dispatchListeners=accumulate(event._dispatchListeners,listener);event._dispatchIDs=accumulate(event._dispatchIDs,id)}}}function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event.dispatchMarker,null,event)
}}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){injection.InstanceHandle.traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches,injection:injection};module.exports=EventPropagators},{"./CallbackRegistry":"zXdfSL","./EventConstants":"SE1Big","./accumulate":"jWptpb","./forEachAccumulated":"MSg7xV"}],Sli70e:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var SyntheticEvent=require("./SyntheticEvent");var getActiveElement=require("./getActiveElement");var isEventSupported=require("./isEventSupported");var isTextInputElement=require("./isTextInputElement");var keyOf=require("./keyOf");var shallowEqual=require("./shallowEqual");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})}}};var useSelectionChange=false;var useSelect=false;if(ExecutionEnvironment.canUseDOM){useSelectionChange="onselectionchange"in document;useSelect=isEventSupported("select")}var activeElement=null;var activeElementID=null;var activeNativeEvent=null;var lastSelection=null;var mouseDown=false;function getSelection(node){if("selectionStart"in node){return{start:node.selectionStart,end:node.selectionEnd}}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}else{var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}}function constructSelectEvent(nativeEvent){if(mouseDown||activeElement!=getActiveElement()){return}var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent);syntheticEvent.type="select";syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent}}function dispatchDeferredSelectEvent(){if(!activeNativeEvent){return}var syntheticEvent=constructSelectEvent(activeNativeEvent);activeNativeEvent=null;if(syntheticEvent){EventPluginHub.enqueueEvents(syntheticEvent);EventPluginHub.processEventQueue()}}var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==="true"){activeElement=topLevelTarget;activeElementID=topLevelTargetID;lastSelection=null;mouseDown=false}break;case topLevelTypes.topBlur:activeElement=null;activeElementID=null;lastSelection=null;mouseDown=false;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent);case topLevelTypes.topSelectionChange:return constructSelectEvent(nativeEvent);case topLevelTypes.topKeyDown:if(!useSelectionChange){activeNativeEvent=nativeEvent;setTimeout(dispatchDeferredSelectEvent,0)}break}}};module.exports=SelectEventPlugin},{"./EventConstants":"SE1Big","./EventPluginHub":"EcUY+6","./EventPropagators":"SOC163","./ExecutionEnvironment":"VcPYgO","./SyntheticEvent":"cExfNQ","./getActiveElement":"I2X1gF","./isEventSupported":"4aumfS","./isTextInputElement":"/iZpMr","./keyOf":"2m/F8p","./shallowEqual":"2LsUWR"}],T5PDBc:[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var flattenChildren=require("./flattenChildren");function shouldUpdateChild(curChild,newChild){return curChild&&newChild&&curChild.constructor===newChild.constructor}var updateDepth=0;var updateQueue=[];var markupQueue=[];function enqueueMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,fromIndex:null,textContent:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,textContent:textContent,fromIndex:null,toIndex:null})}function processQueue(){if(updateQueue.length){ReactComponent.DOMIDOperations.dangerouslyProcessChildrenUpdates(updateQueue,markupQueue);clearQueue()}}function clearQueue(){updateQueue.length=0;markupQueue.length=0}var ReactMultiChild={Mixin:{mountChildren:function(nestedChildren,transaction){var children=flattenChildren(nestedChildren);var mountImages=[];var index=0;this._renderedChildren=children;for(var name in children){var child=children[name];if(children.hasOwnProperty(name)&&child){var rootID=this._rootNodeID+"."+name;var mountImage=child.mountComponent(rootID,transaction,this._mountDepth+1);child._mountImage=mountImage;child._mountIndex=index;mountImages.push(mountImage);index++}}return mountImages},updateTextContent:function(nextContent){updateDepth++;try{var prevChildren=this._renderedChildren;for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)&&prevChildren[name]){this._unmountChildByName(prevChildren[name],name)}}this.setTextContent(nextContent)}catch(error){updateDepth--;updateDepth||clearQueue();throw error}updateDepth--;updateDepth||processQueue()},updateChildren:function(nextNestedChildren,transaction){updateDepth++;try{this._updateChildren(nextNestedChildren,transaction)}catch(error){updateDepth--;updateDepth||clearQueue();throw error}updateDepth--;updateDepth||processQueue()},_updateChildren:function(nextNestedChildren,transaction){var nextChildren=flattenChildren(nextNestedChildren);var prevChildren=this._renderedChildren;if(!nextChildren&&!prevChildren){return}var name;var lastIndex=0;var nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}var prevChild=prevChildren&&prevChildren[name];var nextChild=nextChildren[name];if(shouldUpdateChild(prevChild,nextChild)){this.moveChild(prevChild,nextIndex,lastIndex);lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild.receiveProps(nextChild.props,transaction);prevChild._mountIndex=nextIndex}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex);this._unmountChildByName(prevChild,name)}if(nextChild){this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction)}}if(nextChild){nextIndex++}}for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&prevChildren[name]&&!(nextChildren&&nextChildren[name])){this._unmountChildByName(prevChildren[name],name)}}},unmountChildren:function(){var renderedChildren=this._renderedChildren;for(var name in renderedChildren){var renderedChild=renderedChildren[name];if(renderedChild&&renderedChild.unmountComponent){renderedChild.unmountComponent()}}this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){if(child._mountIndex<lastIndex){enqueueMove(this._rootNodeID,child._mountIndex,toIndex)}},createChild:function(child){enqueueMarkup(this._rootNodeID,child._mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},_mountChildByNameAtIndex:function(child,name,index,transaction){var rootID=this._rootNodeID+"."+name;var mountImage=child.mountComponent(rootID,transaction,this._mountDepth+1);child._mountImage=mountImage;child._mountIndex=index;this.createChild(child);this._renderedChildren=this._renderedChildren||{};this._renderedChildren[name]=child},_unmountChildByName:function(child,name){if(ReactComponent.isValidComponent(child)){this.removeChild(child);child._mountImage=null;child._mountIndex=null;child.unmountComponent();delete this._renderedChildren[name]}}}};module.exports=ReactMultiChild},{"./ReactComponent":"s3ydQp","./ReactMultiChildUpdateTypes":"0Y+zg+","./flattenChildren":"rKqRTl"}],T5TpzL:[function(require,module,exports){"use strict";var invariant=require("./invariant");var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==="function"&&typeof object.detachRef==="function")},addComponentAsRefTo:function(component,ref,owner){invariant(ReactOwner.isValidOwner(owner));owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){invariant(ReactOwner.isValidOwner(owner));if(owner.refs[ref]===component){owner.detachRef(ref)}},Mixin:{attachRef:function(ref,component){invariant(component.isOwnedBy(this));var refs=this.refs||(this.refs={});refs[ref]=component},detachRef:function(ref){delete this.refs[ref]}}};module.exports=ReactOwner},{"./invariant":"A8YiG2"}],UNz4Va:[function(require,module,exports){var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};module.exports=objectTypes},{}],"UYjr/Y":[function(require,module,exports){"use strict";var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var keyMirror=require("./keyMirror");var button=ReactDOM.button;var mouseListenerNames=keyMirror({onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true});var ReactDOMButton=ReactCompositeComponent.createClass({render:function(){var props={};for(var key in this.props){if(this.props.hasOwnProperty(key)&&(!this.props.disabled||!mouseListenerNames[key])){props[key]=this.props[key]}}return button(props,this.props.children)}});module.exports=ReactDOMButton},{"./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj","./keyMirror":"D33hUR"}],UcljHa:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),keys=require("lodash.keys"),objectTypes=require("lodash._objecttypes");var assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;if(argsLength>3&&typeof args[argsLength-2]=="function"){var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2)}else if(argsLength>2&&typeof args[argsLength-1]=="function"){callback=args[--argsLength]}while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}}return result};module.exports=assign},{"lodash._basecreatecallback":"K4kY80","lodash._objecttypes":"aZSdDb","lodash.keys":"Kk4FNr"}],Un0e1X:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");function isObject(value){return!!(value&&objectTypes[typeof value])}module.exports=isObject},{"lodash._objecttypes":"UNz4Va"}],UuaTvm:[function(require,module,exports){"use strict";var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMChildrenOperations=require("./DOMChildrenOperations");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactMount=require("./ReactMount");var getTextContentAccessor=require("./getTextContentAccessor");var invariant=require("./invariant");var INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."};var textContentAccessor=getTextContentAccessor()||"NA";var LEADING_SPACE=/^ /;var ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name));if(value!=null){DOMPropertyOperations.setValueForProperty(node,name,value)}else{DOMPropertyOperations.deleteValueForProperty(node,name)}},deletePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name));DOMPropertyOperations.deleteValueForProperty(node,name,value)},updatePropertiesByID:function(id,properties){for(var name in properties){if(!properties.hasOwnProperty(name)){continue}ReactDOMIDOperations.updatePropertiesByID(id,name,properties[name])}},updateStylesByID:function(id,styles){var node=ReactMount.getNode(id);CSSPropertyOperations.setValueForStyles(node,styles)},updateInnerHTMLByID:function(id,html){var node=ReactMount.getNode(id);node.innerHTML=html.replace(LEADING_SPACE,"&nbsp;")},updateTextContentByID:function(id,content){var node=ReactMount.getNode(id);node[textContentAccessor]=content},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++){updates[i].parentNode=ReactMount.getNode(updates[i].parentID)}DOMChildrenOperations.processUpdates(updates,markup)}};module.exports=ReactDOMIDOperations},{"./CSSPropertyOperations":"LOrUYJ","./DOMChildrenOperations":"37YtTd","./DOMPropertyOperations":"1rfYoz","./ReactMount":"7KU6qp","./getTextContentAccessor":"9B+0c5","./invariant":"A8YiG2"}],"V/gJHt":[function(require,module,exports){var maxPoolSize=40;module.exports=maxPoolSize},{}],VRZe2C:[function(require,module,exports){"use strict";var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMProperty=require("./DOMProperty");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactComponent=require("./ReactComponent");var ReactEventEmitter=require("./ReactEventEmitter");var ReactMultiChild=require("./ReactMultiChild");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var escapeTextForBrowser=require("./escapeTextForBrowser");var invariant=require("./invariant");var keyOf=require("./keyOf");var merge=require("./merge");var mixInto=require("./mixInto");var putListener=ReactEventEmitter.putListener;var deleteListener=ReactEventEmitter.deleteListener;var registrationNames=ReactEventEmitter.registrationNames;var CONTENT_TYPES={string:true,number:true};var STYLE=keyOf({style:null});function assertValidProps(props){if(!props){return}invariant(props.children==null||props.dangerouslySetInnerHTML==null);invariant(props.style==null||typeof props.style==="object")}function ReactDOMComponent(tag,omitClose){this._tagOpen="<"+tag;this._tagClose=omitClose?"":"</"+tag+">";this.tagName=tag.toUpperCase()}ReactDOMComponent.Mixin={mountComponent:ReactPerf.measure("ReactDOMComponent","mountComponent",function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);assertValidProps(this.props);return this._createOpenTagMarkup()+this._createContentMarkup(transaction)+this._tagClose}),_createOpenTagMarkup:function(){var props=this.props;var ret=this._tagOpen;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue}var propValue=props[propKey];if(propValue==null){continue}if(registrationNames[propKey]){putListener(this._rootNodeID,propKey,propValue)}else{if(propKey===STYLE){if(propValue){propValue=props.style=merge(props.style)}propValue=CSSPropertyOperations.createMarkupForStyles(propValue)}var markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue);if(markup){ret+=" "+markup}}}var escapedID=escapeTextForBrowser(this._rootNodeID);return ret+" "+ReactMount.ATTR_NAME+'="'+escapedID+'">'},_createContentMarkup:function(transaction){var innerHTML=this.props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){return innerHTML.__html}}else{var contentToUse=CONTENT_TYPES[typeof this.props.children]?this.props.children:null;var childrenToUse=contentToUse!=null?null:this.props.children;if(contentToUse!=null){return escapeTextForBrowser(contentToUse)}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction);return mountImages.join("")}}return""},receiveProps:function(nextProps,transaction){assertValidProps(nextProps);ReactComponent.Mixin.receiveProps.call(this,nextProps,transaction)},updateComponent:ReactPerf.measure("ReactDOMComponent","updateComponent",function(transaction,prevProps){ReactComponent.Mixin.updateComponent.call(this,transaction,prevProps);this._updateDOMProperties(prevProps);this._updateDOMChildren(prevProps,transaction)}),_updateDOMProperties:function(lastProps){var nextProps=this.props;var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)){continue}if(propKey===STYLE){var lastStyle=lastProps[propKey];for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}}else if(registrationNames[propKey]){deleteListener(this._rootNodeID,propKey)}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.DOMIDOperations.deletePropertyByID(this._rootNodeID,propKey)}}for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp){continue}if(propKey===STYLE){if(nextProp){nextProp=nextProps.style=merge(nextProp)}if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&!nextProp.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName]}}}else{styleUpdates=nextProp}}else if(registrationNames[propKey]){putListener(this._rootNodeID,propKey,nextProp)}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.DOMIDOperations.updatePropertyByID(this._rootNodeID,propKey,nextProp)}}if(styleUpdates){ReactComponent.DOMIDOperations.updateStylesByID(this._rootNodeID,styleUpdates)}},_updateDOMChildren:function(lastProps,transaction){var nextProps=this.props;var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction)}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent("")}if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(""+nextContent)}}else if(nextHtml!=null){if(lastHtml!==nextHtml){ReactComponent.DOMIDOperations.updateInnerHTMLByID(this._rootNodeID,nextHtml)}}else if(nextChildren!=null){this.updateChildren(nextChildren,transaction)}},unmountComponent:function(){ReactEventEmitter.deleteAllListeners(this._rootNodeID);ReactComponent.Mixin.unmountComponent.call(this);this.unmountChildren()}};mixInto(ReactDOMComponent,ReactComponent.Mixin);mixInto(ReactDOMComponent,ReactDOMComponent.Mixin);mixInto(ReactDOMComponent,ReactMultiChild.Mixin);module.exports=ReactDOMComponent},{"./CSSPropertyOperations":"LOrUYJ","./DOMProperty":"Fjhu7o","./DOMPropertyOperations":"1rfYoz","./ReactComponent":"s3ydQp","./ReactEventEmitter":"xVoVjD","./ReactMount":"7KU6qp","./ReactMultiChild":"T5PDBc","./ReactPerf":"3kUGkJ","./escapeTextForBrowser":"2mRphX","./invariant":"A8YiG2","./keyOf":"2m/F8p","./merge":"D67bCH","./mixInto":"kPNYuv"}],VcPYgO:[function(require,module,exports){"use strict";var canUseDOM=typeof window!=="undefined";var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=="undefined",isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],W2uhSI:[function(require,module,exports){"use strict";var invariant=require("./invariant");var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(!this.wrapperInitData){this.wrapperInitData=[]}else{this.wrapperInitData.length=0}if(!this.timingMetrics){this.timingMetrics={}}this.timingMetrics.methodInvocationTime=0;if(!this.timingMetrics.wrapperInitTimes){this.timingMetrics.wrapperInitTimes=[]}else{this.timingMetrics.wrapperInitTimes.length=0}if(!this.timingMetrics.wrapperCloseTimes){this.timingMetrics.wrapperCloseTimes=[]}else{this.timingMetrics.wrapperCloseTimes.length=0}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){invariant(!this.isInTransaction());var memberStart=Date.now();var errorToThrow=null;var ret;try{this.initializeAll();ret=method.call(scope,a,b,c,d,e,f)}finally{var memberEnd=Date.now();this.methodInvocationTime+=memberEnd-memberStart;this.closeAll()}return ret},initializeAll:function(){this._isInTransaction=true;var transactionWrappers=this.transactionWrappers;var wrapperInitTimes=this.timingMetrics.wrapperInitTimes;var errorToThrow=null;for(var i=0;i<transactionWrappers.length;i++){var initStart=Date.now();var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}catch(initError){errorToThrow=errorToThrow||initError;this.wrapperInitData[i]=Transaction.OBSERVED_ERROR}finally{var curInitTime=wrapperInitTimes[i];var initEnd=Date.now();wrapperInitTimes[i]=(curInitTime||0)+(initEnd-initStart)}}if(errorToThrow){throw errorToThrow}},closeAll:function(){invariant(this.isInTransaction());var transactionWrappers=this.transactionWrappers;var wrapperCloseTimes=this.timingMetrics.wrapperCloseTimes;var errorToThrow=null;for(var i=0;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var closeStart=Date.now();var initData=this.wrapperInitData[i];try{if(initData!==Transaction.OBSERVED_ERROR){wrapper.close&&wrapper.close.call(this,initData)}}finally{var closeEnd=Date.now();var curCloseTime=wrapperCloseTimes[i];wrapperCloseTimes[i]=(curCloseTime||0)+(closeEnd-closeStart)}}this.wrapperInitData.length=0;this._isInTransaction=false}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{"./invariant":"A8YiG2"}],W5so5p:[function(require,module,exports){var Block={split:function(block,idx){var original={annotations:[]},splitted={annotations:[]};original.content=block.content.substring(0,idx);splitted.content=block.content.substring(idx);if(block.annotations){block.annotations.forEach(function(a){if(a.range[1]<idx){original.annotations.push(a)}else if(a.range[0]>=idx){splitted.annotations.push({type:a.type,range:[a.range[0]-idx,a.range[1]-idx]})}else{original.annotations.push({type:a.type,range:[a.range[0],idx]});if(a.range[1]-idx>0)splitted.annotations.push({type:a.type,range:[0,a.range[1]-idx]})}})}return{original:original,splitted:splitted}},merge:function(a,b,insertSpace){var needSuffix=insertSpace&&a.content.length>0,offset=needSuffix?a.content.length+1:a.content.length,merged={content:a.content+(needSuffix?" ":"")+b.content,annotations:a.annotations?a.annotations.slice(0):[]};if(b.annotations){b.annotations.forEach(function(a){merged.annotations.push({type:a.type,range:[a.range[0]+offset,a.range[1]+offset]})})}return merged},drop:function(block,idx){return Block.split(block,idx).splitted}};module.exports=Block},{}],W8GMDm:[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");function dangerousStyleValue(styleName,value){var isEmpty=value==null||typeof value==="boolean"||value==="";if(isEmpty){return""}var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||CSSProperty.isUnitlessNumber[styleName]){return""+value}return value+"px"}module.exports=dangerousStyleValue},{"./CSSProperty":"BCegyd"}],WOuHCR:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),forOwn=require("lodash.forown");function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=="number"){while(++index<length){if(callback(collection[index],index,collection)===false){break}}}else{forOwn(collection,callback)}return collection}module.exports=forEach},{"lodash._basecreatecallback":"K4kY80","lodash.forown":"Qw0VB+"}],"WWSXc/":[function(require,module,exports){var ge=require("./ge");var ex=require("./ex");function $(id){var element=ge(id);if(!element){throw new Error(ex('Tried to get element with id of "%s" but it is not present on the page.',id))}return element}module.exports=$},{"./ex":"OQwL87","./ge":"8/UjTK"}],WZOHZG:[function(require,module,exports){var reNative=require("lodash._renative");var arrayClass="[object Array]";var objectProto=Object.prototype;var toString=objectProto.toString;var nativeIsArray=reNative.test(nativeIsArray=Array.isArray)&&nativeIsArray;var isArray=nativeIsArray||function(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==arrayClass||false};module.exports=isArray},{"lodash._renative":"ljbH/5"}],Ws1Uhn:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var invariant=require("./invariant");var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}var validateEventDispatches;function forEachEventDispatch(event,cb){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}cb(event,dispatchListeners[i],dispatchIDs[i])}}else if(dispatchListeners){cb(event,dispatchListeners,dispatchIDs)}}function executeDispatch(event,listener,domID){listener(event,domID)}function executeDispatchesInOrder(event,executeDispatch){forEachEventDispatch(event,executeDispatch);event._dispatchListeners=null;event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrue(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}if(dispatchListeners[i](event,dispatchIDs[i])){return dispatchIDs[i]}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchIDs)){return dispatchIDs}}return null}function executeDirectDispatch(event){var dispatchListener=event._dispatchListeners;var dispatchID=event._dispatchIDs;invariant(!Array.isArray(dispatchListener));var res=dispatchListener?dispatchListener(event,dispatchID):null;event._dispatchListeners=null;event._dispatchIDs=null;return res}function hasDispatches(event){return!!event._dispatchListeners}var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,executeDirectDispatch:executeDirectDispatch,hasDispatches:hasDispatches,executeDispatch:executeDispatch};module.exports=EventPluginUtils},{"./EventConstants":"SE1Big","./invariant":"A8YiG2"}],Xz43eN:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var createNodesFromMarkup=require("./createNodesFromMarkup");var emptyFunction=require("./emptyFunction");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var mutateHTMLNodeWithMarkup=require("./mutateHTMLNodeWithMarkup");var OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/;var RESULT_INDEX_ATTR="data-danger-index";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var Danger={dangerouslyRenderMarkup:function(markupList){invariant(ExecutionEnvironment.canUseDOM);var nodeName;var markupByNodeName={};for(var i=0;i<markupList.length;i++){invariant(markupList[i]);nodeName=getNodeName(markupList[i]);nodeName=getMarkupWrap(nodeName)?nodeName:"*";markupByNodeName[nodeName]=markupByNodeName[nodeName]||[];markupByNodeName[nodeName][i]=markupList[i]}var resultList=[];var resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName)){continue}var markupListByNodeName=markupByNodeName[nodeName];for(var resultIndex in markupListByNodeName){if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}}var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction);for(i=0;i<renderNodes.length;++i){var renderNode=renderNodes[i];if(renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)){resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR);renderNode.removeAttribute(RESULT_INDEX_ATTR);invariant(!resultList.hasOwnProperty(resultIndex));resultList[resultIndex]=renderNode;resultListAssignmentCount+=1}}}invariant(resultListAssignmentCount===resultList.length);invariant(resultList.length===markupList.length);return resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){invariant(ExecutionEnvironment.canUseDOM);invariant(markup);if(oldChild.tagName.toLowerCase()==="html"){mutateHTMLNodeWithMarkup(oldChild,markup);return}var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{"./ExecutionEnvironment":"VcPYgO","./createNodesFromMarkup":"dVa7bW","./emptyFunction":"B70uQ1","./getMarkupWrap":"ZcCOUy","./invariant":"A8YiG2","./mutateHTMLNodeWithMarkup":"+FFAD6"}],YB4SiS:[function(require,module,exports){var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};module.exports=objectTypes},{}],YemHRk:[function(require,module,exports){"use strict";var invariant=require("./invariant");var SEPARATOR=".";var SEPARATOR_LENGTH=SEPARATOR.length;var MAX_TREE_DEPTH=100;var GLOBAL_MOUNT_POINT_MAX=9999999;function getReactRootIDString(index){return SEPARATOR+"r["+index.toString(36)+"]"}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return id===""||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length)
}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){invariant(isValidID(ancestorID)&&isValidID(destinationID));invariant(isAncestorIDOf(ancestorID,destinationID));if(ancestorID===destinationID){return ancestorID}var start=ancestorID.length+SEPARATOR_LENGTH;for(var i=start;i<destinationID.length;i++){if(isBoundary(destinationID,i)){break}}return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0){return""}var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++){if(isBoundary(oneID,i)&&isBoundary(twoID,i)){lastCommonMarkerIndex=i}else if(oneID.charAt(i)!==twoID.charAt(i)){break}}var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);invariant(isValidID(longestCommonID));return longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"";stop=stop||"";invariant(start!==stop);var traverseUp=isAncestorIDOf(stop,start);invariant(traverseUp||isAncestorIDOf(start,stop));var depth=0;var traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){if((!skipFirst||id!==start)&&(!skipLast||id!==stop)){cb(id,traverseUp,arg)}if(id===stop){break}invariant(depth++<MAX_TREE_DEPTH)}}var ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX))},createReactID:function(rootID,name){return rootID+SEPARATOR+name},getReactRootIDFromNodeID:function(id){var regexResult=/\.r\[[^\]]+\]/.exec(id);return regexResult&&regexResult[0]},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);if(ancestorID!==leaveID){traverseParentPath(leaveID,ancestorID,cb,upArg,false,true)}if(ancestorID!==enterID){traverseParentPath(ancestorID,enterID,cb,downArg,true,false)}},traverseTwoPhase:function(targetID,cb,arg){if(targetID){traverseParentPath("",targetID,cb,arg,true,false);traverseParentPath(targetID,"",cb,arg,false,true)}},_getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{"./invariant":"A8YiG2"}],ZQrYgH:[function(require,module,exports){var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};module.exports=objectTypes},{}],ZcCOUy:[function(require,module,exports){var ExecutionEnvironment=require("./ExecutionEnvironment");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var shouldWrap={circle:true,g:true,line:true,path:true,polyline:true,rect:true,text:true};var selectWrap=[1,'<select multiple="true">',"</select>"];var tableWrap=[1,"<table>","</table>"];var trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"];var svgWrap=[1,"<svg>","</svg>"];var markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap,circle:svgWrap,g:svgWrap,line:svgWrap,path:svgWrap,polyline:svgWrap,rect:svgWrap,text:svgWrap};function getMarkupWrap(nodeName){invariant(!!dummyNode);if(!markupWrap.hasOwnProperty(nodeName)){nodeName="*"}if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==="*"){dummyNode.innerHTML="<link />"}else{dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">"}shouldWrap[nodeName]=!dummyNode.firstChild}return shouldWrap[nodeName]?markupWrap[nodeName]:null}module.exports=getMarkupWrap},{"./ExecutionEnvironment":"VcPYgO","./invariant":"A8YiG2"}],ZuL8gj:[function(require,module,exports){(function(exports){"use strict";var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw"Invalid string. Length must be a multiple of 4"}placeHolders=b64.indexOf("=");placeHolders=placeHolders>0?b64.length-placeHolders:0;arr=[];l=placeHolders>0?b64.length-4:b64.length;for(i=0,j=0;i<l;i+=4,j+=3){tmp=lookup.indexOf(b64[i])<<18|lookup.indexOf(b64[i+1])<<12|lookup.indexOf(b64[i+2])<<6|lookup.indexOf(b64[i+3]);arr.push((tmp&16711680)>>16);arr.push((tmp&65280)>>8);arr.push(tmp&255)}if(placeHolders===2){tmp=lookup.indexOf(b64[i])<<2|lookup.indexOf(b64[i+1])>>4;arr.push(tmp&255)}else if(placeHolders===1){tmp=lookup.indexOf(b64[i])<<10|lookup.indexOf(b64[i+1])<<4|lookup.indexOf(b64[i+2])>>2;arr.push(tmp>>8&255);arr.push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=lookup[temp>>2];output+=lookup[temp<<4&63];output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=lookup[temp>>10];output+=lookup[temp>>4&63];output+=lookup[temp<<2&63];output+="=";break}return output}module.exports.toByteArray=b64ToByteArray;module.exports.fromByteArray=uint8ToBase64})()},{}],__dummy__:[function(require,module,exports){},{}],aVPSSa:[function(require,module,exports){function copyProperties(obj,a,b,c,d,e,f){obj=obj||{};var args=[a,b,c,d,e];var ii=0,v;while(args[ii]){v=args[ii++];for(var k in v){obj[k]=v[k]}if(v.hasOwnProperty&&v.hasOwnProperty("toString")&&typeof v.toString!="undefined"&&obj.toString!==v.toString){obj.toString=v.toString}}return obj}module.exports=copyProperties},{}],aZSdDb:[function(require,module,exports){var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};module.exports=objectTypes},{}],abtj3u:[function(require,module,exports){var arrayPool=require("lodash._arraypool");function getArray(){return arrayPool.pop()||[]}module.exports=getArray},{"lodash._arraypool":"zfD+4S"}],b3rcxo:[function(require,module,exports){"use strict";var adler32=require("./adler32");var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(">"," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'">')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":"wCx3sI"}],b7Omgg:[function(require,module,exports){var isObject=require("lodash.isobject"),noop=require("lodash._noop"),reNative=require("lodash._renative");var objectProto=Object.prototype;var nativeCreate=reNative.test(nativeCreate=Object.create)&&nativeCreate;function createObject(prototype){return isObject(prototype)?nativeCreate(prototype):{}}module.exports=createObject},{"lodash._noop":"sSdxuv","lodash._renative":"v3mvuN","lodash.isobject":"Un0e1X"}],c1UTpj:[function(require,module,exports){"use strict";var ReactDOMComponent=require("./ReactDOMComponent");var mergeInto=require("./mergeInto");var objMapKeyVal=require("./objMapKeyVal");function createDOMComponentClass(tag,omitClose){var Constructor=function(){};Constructor.prototype=new ReactDOMComponent(tag,omitClose);Constructor.prototype.constructor=Constructor;Constructor.displayName=tag;var ConvenienceConstructor=function(props,children){var instance=new Constructor;instance.construct.apply(instance,arguments);return instance};ConvenienceConstructor.componentConstructor=Constructor;return ConvenienceConstructor}var ReactDOM=objMapKeyVal({a:false,abbr:false,address:false,area:false,article:false,aside:false,audio:false,b:false,base:false,bdi:false,bdo:false,big:false,blockquote:false,body:false,br:true,button:false,canvas:false,caption:false,cite:false,code:false,col:true,colgroup:false,data:false,datalist:false,dd:false,del:false,details:false,dfn:false,div:false,dl:false,dt:false,em:false,embed:true,fieldset:false,figcaption:false,figure:false,footer:false,form:false,h1:false,h2:false,h3:false,h4:false,h5:false,h6:false,head:false,header:false,hr:true,html:false,i:false,iframe:false,img:true,input:true,ins:false,kbd:false,keygen:true,label:false,legend:false,li:false,link:false,main:false,map:false,mark:false,menu:false,menuitem:false,meta:true,meter:false,nav:false,noscript:false,object:false,ol:false,optgroup:false,option:false,output:false,p:false,param:true,pre:false,progress:false,q:false,rp:false,rt:false,ruby:false,s:false,samp:false,script:false,section:false,select:false,small:false,source:false,span:false,strong:false,style:false,sub:false,summary:false,sup:false,table:false,tbody:false,td:false,textarea:false,tfoot:false,th:false,thead:false,time:false,title:false,tr:false,track:true,u:false,ul:false,"var":false,video:false,wbr:false,circle:false,g:false,line:false,path:false,polyline:false,rect:false,svg:false,text:false},createDOMComponentClass);var injection={injectComponentClasses:function(componentClasses){mergeInto(ReactDOM,componentClasses)}};ReactDOM.injection=injection;module.exports=ReactDOM},{"./ReactDOMComponent":"VRZe2C","./mergeInto":"d22rvi","./objMapKeyVal":"/IGsXC"}],cExfNQ:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var emptyFunction=require("./emptyFunction");var getEventTarget=require("./getEventTarget");var merge=require("./merge");var mergeInto=require("./mergeInto");var EventInterface={type:null,target:getEventTarget,currentTarget:null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent){this.dispatchConfig=dispatchConfig;this.dispatchMarker=dispatchMarker;this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue}var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent)}else{this[propName]=nativeEvent[propName]}}if(nativeEvent.defaultPrevented||nativeEvent.returnValue===false){this.isDefaultPrevented=emptyFunction.thatReturnsTrue}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse}this.isPropagationStopped=emptyFunction.thatReturnsFalse}mergeInto(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;event.preventDefault?event.preventDefault():event.returnValue=false;this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;event.stopPropagation?event.stopPropagation():event.cancelBubble=true;this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){this[propName]=null}this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null}});SyntheticEvent.Interface=EventInterface;SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var prototype=Object.create(Super.prototype);mergeInto(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=merge(Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.threeArgumentPooler)};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.threeArgumentPooler);module.exports=SyntheticEvent},{"./PooledClass":"J6a26b","./emptyFunction":"B70uQ1","./getEventTarget":"pVdP6F","./merge":"D67bCH","./mergeInto":"d22rvi"}],d22rvi:[function(require,module,exports){"use strict";var mergeHelpers=require("./mergeHelpers");var checkMergeObjectArg=mergeHelpers.checkMergeObjectArg;function mergeInto(one,two){checkMergeObjectArg(one);if(two!=null){checkMergeObjectArg(two);for(var key in two){if(!two.hasOwnProperty(key)){continue}one[key]=two[key]}}}module.exports=mergeInto},{"./mergeHelpers":"n1I/Z3"}],dVa7bW:[function(require,module,exports){var ExecutionEnvironment=require("./ExecutionEnvironment");var createArrayFrom=require("./createArrayFrom");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;invariant(!!dummyNode);var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){node=node.lastChild}}else{node.innerHTML=markup}var scripts=node.getElementsByTagName("script");if(scripts.length){invariant(handleScript);createArrayFrom(scripts).forEach(handleScript)}var nodes=createArrayFrom(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild)}return nodes}module.exports=createNodesFromMarkup},{"./ExecutionEnvironment":"VcPYgO","./createArrayFrom":"3h/cXc","./getMarkupWrap":"ZcCOUy","./invariant":"A8YiG2"}],eD19uj:[function(require,module,exports){"use strict";var EventPluginHub=require("./EventPluginHub");var ReactUpdates=require("./ReactUpdates");function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue()}var ReactEventEmitterMixin={_isListening:false,ensureListening:function(config){if(!config.contentDocument._reactIsListening){this.listenAtTopLevel(config.touchNotMouse,config.contentDocument);config.contentDocument._reactIsListening=true}},handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);ReactUpdates.batchedUpdates(runEventQueueInBatch,events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":"EcUY+6","./ReactUpdates":"PpNVRq"}],"eS+SMx":[function(require,module,exports){var React=require("react-tools/build/modules/React"),BlockMixin=require("../block-mixin"),Focusable=require("../focusable"),keys=require("../keys");var Line=React.createClass({displayName:"Line",mixins:[Focusable],render:function(){return this.transferPropsTo(React.DOM.div({tabIndex:"0"},"***"))}});module.exports=React.createClass({mixins:[BlockMixin],render:function(){var className="Block Line"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},Line({focus:this.props.focus,onFocus:this.props.editor.updateFocus.bind(null,this.props.block),onKeyDown:this.onKeyDown}))}})},{"../block-mixin":"40JTBG","../focusable":"uY1u0W","../keys":"HhJo8C","react-tools/build/modules/React":"2aDVnh"}],eVrMpX:[function(require,module,exports){var reNative=require("lodash._renative");var reThis=/\bthis\b/;var objectProto=Object.prototype;var toString=objectProto.toString;var nativeBind=reNative.test(nativeBind=toString.bind)&&nativeBind;var isIeOpera=reNative.test(global.attachEvent),isV8=nativeBind&&!/\n|true/.test(nativeBind+isIeOpera);var support={};support.fastBind=nativeBind&&!isV8;support.funcDecomp=!reNative.test(global.WinRTError)&&reThis.test(function(){return this});support.funcNames=typeof Function.name=="string";module.exports=support},{"lodash._renative":"h6t4st"}],exCkuA:[function(require,module,exports){var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}module.exports=hyphenate},{}],f2N6JH:[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?-event.deltaY:"wheelDeltaY"in event?event.wheelDeltaY:"wheelDelta"in event?event.wheelData:0},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":"hXX1Q/"}],h6t4st:[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],"hXX1Q/":[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var ViewportMetrics=require("./ViewportMetrics");var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:function(event){var button=event.button;if("which"in event){return button}return button===2?2:button===4?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":"0ofNfe","./ViewportMetrics":"xQj/+/"}],"irD+EV":[function(require,module,exports){"use strict";var ReactDOM=require("./ReactDOM");var ReactDOMButton=require("./ReactDOMButton");var ReactDOMForm=require("./ReactDOMForm");var ReactDOMInput=require("./ReactDOMInput");var ReactDOMOption=require("./ReactDOMOption");var ReactDOMSelect=require("./ReactDOMSelect");var ReactDOMTextarea=require("./ReactDOMTextarea");var ReactEventEmitter=require("./ReactEventEmitter");var ReactEventTopLevelCallback=require("./ReactEventTopLevelCallback");var ReactPerf=require("./ReactPerf");var DefaultDOMPropertyConfig=require("./DefaultDOMPropertyConfig");var DOMProperty=require("./DOMProperty");var ChangeEventPlugin=require("./ChangeEventPlugin");var CompositionEventPlugin=require("./CompositionEventPlugin");var DefaultEventPluginOrder=require("./DefaultEventPluginOrder");var EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin");var EventPluginHub=require("./EventPluginHub");var MobileSafariClickEventPlugin=require("./MobileSafariClickEventPlugin");var ReactInstanceHandles=require("./ReactInstanceHandles");var SelectEventPlugin=require("./SelectEventPlugin");var SimpleEventPlugin=require("./SimpleEventPlugin");var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy");var ReactUpdates=require("./ReactUpdates");function inject(){ReactEventEmitter.TopLevelCallbackCreator=ReactEventTopLevelCallback;EventPluginHub.injection.injectEventPluginOrder(DefaultEventPluginOrder);EventPluginHub.injection.injectInstanceHandle(ReactInstanceHandles);EventPluginHub.injection.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,CompositionEventPlugin:CompositionEventPlugin,MobileSafariClickEventPlugin:MobileSafariClickEventPlugin,SelectEventPlugin:SelectEventPlugin});ReactDOM.injection.injectComponentClasses({button:ReactDOMButton,form:ReactDOMForm,input:ReactDOMInput,option:ReactDOMOption,select:ReactDOMSelect,textarea:ReactDOMTextarea});DOMProperty.injection.injectDOMPropertyConfig(DefaultDOMPropertyConfig);ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}module.exports={inject:inject}},{"./ChangeEventPlugin":"jKVIKR","./CompositionEventPlugin":"s25ewP","./DOMProperty":"Fjhu7o","./DefaultDOMPropertyConfig":"N1z+cF","./DefaultEventPluginOrder":"IdiAKq","./EnterLeaveEventPlugin":"lWVsOT","./EventPluginHub":"EcUY+6","./MobileSafariClickEventPlugin":"Cng8OX","./ReactDOM":"c1UTpj","./ReactDOMButton":"UYjr/Y","./ReactDOMForm":"8Wxd6S","./ReactDOMInput":"CobQPb","./ReactDOMOption":"n+9RZ7","./ReactDOMSelect":"/Ll390","./ReactDOMTextarea":"RQMXmj","./ReactDefaultBatchingStrategy":"pkbOEi","./ReactEventEmitter":"xVoVjD","./ReactEventTopLevelCallback":"2uldAL","./ReactInstanceHandles":"YemHRk","./ReactPerf":"3kUGkJ","./ReactUpdates":"PpNVRq","./SelectEventPlugin":"Sli70e","./SimpleEventPlugin":"N6+za1"}],jKVIKR:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var SyntheticEvent=require("./SyntheticEvent");var isEventSupported=require("./isEventSupported");var isTextInputElement=require("./isTextInputElement");var keyOf=require("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})}}};var activeElement=null;var activeElementID=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){return elem.nodeName==="SELECT"||elem.nodeName==="INPUT"&&elem.type==="file"}var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8)}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue()}function startWatchingForChangeEventIE8(target,targetID){activeElement=target;activeElementID=targetID;activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){if(!activeElement){return}activeElement.detachEvent("onchange",manualDispatchChangeEvent);activeElement=null;activeElementID=null}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange){return topLevelTargetID}}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8()}}var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9)}var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val;activeElementValueProp.set.call(this,val)}};function startWatchingForValueChange(target,targetID){activeElement=target;activeElementID=targetID;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value");Object.defineProperty(activeElement,"value",newValueProp);activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){if(!activeElement){return}delete activeElement.value;activeElement.detachEvent("onpropertychange",handlePropertyChange);activeElement=null;activeElementID=null;activeElementValue=null;activeElementValueProp=null}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=="value"){return}var value=nativeEvent.srcElement.value;if(value===activeElementValue){return}activeElementValue=value;manualDispatchChangeEvent(nativeEvent)}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput){return topLevelTargetID}}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange()}}function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementID}}}function shouldUseClickEvent(elem){return elem.nodeName==="INPUT"&&(elem.type==="checkbox"||elem.type==="radio")}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick){return topLevelTargetID}}var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)){if(doesChangeEventBubble){getTargetIDFunc=getTargetIDForChangeEvent}else{handleEventFunc=handleEventsForChangeEventIE8}}else if(isTextInputElement(topLevelTarget)){if(isInputEventSupported){getTargetIDFunc=getTargetIDForInputEvent}else{getTargetIDFunc=getTargetIDForInputEventIE;handleEventFunc=handleEventsForInputEventIE}}else if(shouldUseClickEvent(topLevelTarget)){getTargetIDFunc=getTargetIDForClickEvent}if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event}}if(handleEventFunc){handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}}};module.exports=ChangeEventPlugin},{"./EventConstants":"SE1Big","./EventPluginHub":"EcUY+6","./EventPropagators":"SOC163","./ExecutionEnvironment":"VcPYgO","./SyntheticEvent":"cExfNQ","./isEventSupported":"4aumfS","./isTextInputElement":"/iZpMr","./keyOf":"2m/F8p"}],jPzimz:[function(require,module,exports){var markdown=require("markdown").markdown;function toAst(doc){var ast=["markdown"];doc.forEach(function(block){switch(block.type){case"paragraph":ast.push(["para",block.content]);break;case"heading":ast.push(["header",{level:block.level},block.content]);break;case"code":ast.push(["code_block",block.content]);break;case"listitem":ast.push(["listitem",block.content]);break;default:ast.push(["para",block.content||""])}});return ast}module.exports=function(doc){var ast=toAst(doc);return markdown.renderJsonML(markdown.toHTMLTree(ast))};module.exports.toMarkdown=function(doc){var ast=toAst(doc);return markdown.renderJsonML(ast)}},{markdown:"InGls5"}],jWptpb:[function(require,module,exports){"use strict";var invariant=require("./invariant");function accumulate(current,next){invariant(next!=null);if(current==null){return next}else{var currentIsArray=Array.isArray(current);var nextIsArray=Array.isArray(next);if(currentIsArray){return current.concat(next)}else{if(nextIsArray){return[current].concat(next)}else{return[current,next]}}}}module.exports=accumulate},{"./invariant":"A8YiG2"}],kPNYuv:[function(require,module,exports){"use strict";var mixInto=function(constructor,methodBag){var methodName;for(methodName in methodBag){if(!methodBag.hasOwnProperty(methodName)){continue}constructor.prototype[methodName]=methodBag[methodName]}};module.exports=mixInto},{}],l6nLtk:[function(require,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],lP6s9v:[function(require,module,exports){var QueryString=exports;var util=require("util");var shims=require("_shims");var Buffer=require("buffer").Buffer;function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function charCode(c){return c.charCodeAt(0)}QueryString.unescapeBuffer=function(s,decodeSpaces){var out=new Buffer(s.length);var state="CHAR";var n,m,hexchar;for(var inIndex=0,outIndex=0;inIndex<=s.length;inIndex++){var c=s.charCodeAt(inIndex);switch(state){case"CHAR":switch(c){case charCode("%"):n=0;m=0;state="HEX0";break;case charCode("+"):if(decodeSpaces)c=charCode(" ");default:out[outIndex++]=c;break}break;case"HEX0":state="HEX1";hexchar=c;if(charCode("0")<=c&&c<=charCode("9")){n=c-charCode("0")}else if(charCode("a")<=c&&c<=charCode("f")){n=c-charCode("a")+10}else if(charCode("A")<=c&&c<=charCode("F")){n=c-charCode("A")+10}else{out[outIndex++]=charCode("%");out[outIndex++]=c;state="CHAR";break}break;case"HEX1":state="CHAR";if(charCode("0")<=c&&c<=charCode("9")){m=c-charCode("0")}else if(charCode("a")<=c&&c<=charCode("f")){m=c-charCode("a")+10}else if(charCode("A")<=c&&c<=charCode("F")){m=c-charCode("A")+10}else{out[outIndex++]=charCode("%");out[outIndex++]=hexchar;out[outIndex++]=c;break}out[outIndex++]=16*n+m;break}}return out.slice(0,outIndex-1)};QueryString.unescape=function(s,decodeSpaces){return QueryString.unescapeBuffer(s,decodeSpaces).toString()};QueryString.escape=function(str){return encodeURIComponent(str)};var stringifyPrimitive=function(v){if(util.isString(v))return v;if(util.isBoolean(v))return v?"true":"false";if(util.isNumber(v))return isFinite(v)?v:"";return""};QueryString.stringify=QueryString.encode=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(util.isNull(obj)){obj=undefined}if(util.isObject(obj)){return shims.map(shims.keys(obj),function(k){var ks=QueryString.escape(stringifyPrimitive(k))+eq;if(util.isArray(obj[k])){return shims.map(obj[k],function(v){return ks+QueryString.escape(stringifyPrimitive(v))}).join(sep)}else{return ks+QueryString.escape(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return QueryString.escape(stringifyPrimitive(name))+eq+QueryString.escape(stringifyPrimitive(obj))};QueryString.parse=QueryString.decode=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(!util.isString(qs)||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&util.isNumber(options.maxKeys)){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}try{k=decodeURIComponent(kstr);v=decodeURIComponent(vstr)}catch(e){k=QueryString.unescape(kstr,true);v=QueryString.unescape(vstr,true)}if(!hasOwnProperty(obj,k)){obj[k]=v}else if(util.isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj}},{_shims:"KuhTx8",buffer:"lt/q//",util:"KJs4c/"}],lWVsOT:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var ReactMount=require("./ReactMount");var keyOf=require("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var getFirstReactDOM=ReactMount.getFirstReactDOM;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null})},mouseLeave:{registrationName:keyOf({onMouseLeave:null})}};var extractedEvents=[null,null];var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null}if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null}var from,to;if(topLevelType===topLevelTypes.topMouseOut){from=topLevelTarget;to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement)||window}else{from=window;to=topLevelTarget}if(from===to){return null
}var fromID=from?ReactMount.getID(from):"";var toID=to?ReactMount.getID(to):"";var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent);var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent);EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID);extractedEvents[0]=leave;extractedEvents[1]=enter;return extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":"SE1Big","./EventPropagators":"SOC163","./ReactMount":"7KU6qp","./SyntheticMouseEvent":"hXX1Q/","./keyOf":"2m/F8p"}],lWzWwS:[function(require,module,exports){function noop(){}module.exports=noop},{}],"ljbH/5":[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],lkCbNb:[function(require,module,exports){var common,pattern;common=require("./common");pattern={match:function(url){var bound,captured,i,match,_i,_ref;match=this.regex.exec(url);if(match==null){return null}captured=match.slice(1);if(this.isRegex){return captured}bound={};for(i=_i=0,_ref=captured.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){bound[this.names[i]]=captured[i]}return bound}};module.exports=function(arg){var isRegex,p;isRegex=arg instanceof RegExp;if(!("string"===typeof arg||isRegex)){throw new TypeError("argument must be a regex or a string")}p=Object.create(pattern);p.isRegex=isRegex;p.regex=isRegex?arg:new RegExp(common.toRegexString(arg));if(!isRegex){p.names=common.getNames(arg)}return p}},{"./common":"KMeScQ"}],"lt/q//":[function(require,module,exports){var assert;exports.Buffer=Buffer;exports.SlowBuffer=Buffer;Buffer.poolSize=8192;exports.INSPECT_MAX_BYTES=50;function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function Buffer(subject,encoding,offset){if(!assert)assert=require("assert");if(!(this instanceof Buffer)){return new Buffer(subject,encoding,offset)}this.parent=this;this.offset=0;if(encoding=="base64"&&typeof subject=="string"){subject=stringtrim(subject);while(subject.length%4!=0){subject=subject+"="}}var type;if(typeof offset==="number"){this.length=coerce(encoding);for(var i=0;i<this.length;i++){this[i]=subject.get(i+offset)}}else{switch(type=typeof subject){case"number":this.length=coerce(subject);break;case"string":this.length=Buffer.byteLength(subject,encoding);break;case"object":this.length=coerce(subject.length);break;default:throw new Error("First argument needs to be a number, "+"array or string.")}if(isArrayIsh(subject)){for(var i=0;i<this.length;i++){if(subject instanceof Buffer){this[i]=subject.readUInt8(i)}else{this[i]=subject[i]}}}else if(type=="string"){this.length=this.write(subject,0,encoding)}else if(type==="number"){for(var i=0;i<this.length;i++){this[i]=0}}}}Buffer.prototype.get=function get(i){if(i<0||i>=this.length)throw new Error("oob");return this[i]};Buffer.prototype.set=function set(i,v){if(i<0||i>=this.length)throw new Error("oob");return this[i]=v};Buffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case"hex":return str.length/2;case"utf8":case"utf-8":return utf8ToBytes(str).length;case"ascii":case"binary":return str.length;case"base64":return base64ToBytes(str).length;default:throw new Error("Unknown encoding")}};Buffer.prototype.utf8Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length)};Buffer.prototype.asciiWrite=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length)};Buffer.prototype.binaryWrite=Buffer.prototype.asciiWrite;Buffer.prototype.base64Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length)};Buffer.prototype.base64Slice=function(start,end){var bytes=Array.prototype.slice.apply(this,arguments);return require("base64-js").fromByteArray(bytes)};Buffer.prototype.utf8Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var res="";var tmp="";var i=0;while(i<bytes.length){if(bytes[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]);tmp=""}else tmp+="%"+bytes[i].toString(16);i++}return res+decodeUtf8Char(tmp)};Buffer.prototype.asciiSlice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var ret="";for(var i=0;i<bytes.length;i++)ret+=String.fromCharCode(bytes[i]);return ret};Buffer.prototype.binarySlice=Buffer.prototype.asciiSlice;Buffer.prototype.inspect=function(){var out=[],len=this.length;for(var i=0;i<len;i++){out[i]=toHex(this[i]);if(i==exports.INSPECT_MAX_BYTES){out[i+1]="...";break}}return"<Buffer "+out.join(" ")+">"};Buffer.prototype.hexSlice=function(start,end){var len=this.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(this[i])}return out};Buffer.prototype.toString=function(encoding,start,end){encoding=String(encoding||"utf8").toLowerCase();start=+start||0;if(typeof end=="undefined")end=this.length;if(+end==start){return""}switch(encoding){case"hex":return this.hexSlice(start,end);case"utf8":case"utf-8":return this.utf8Slice(start,end);case"ascii":return this.asciiSlice(start,end);case"binary":return this.binarySlice(start,end);case"base64":return this.base64Slice(start,end);case"ucs2":case"ucs-2":return this.ucs2Slice(start,end);default:throw new Error("Unknown encoding")}};Buffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=+length;if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2){throw new Error("Invalid hex string")}if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var byte=parseInt(string.substr(i*2,2),16);if(isNaN(byte))throw new Error("Invalid hex string");this[offset+i]=byte}Buffer._charsWritten=i*2;return i};Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=+length;if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();switch(encoding){case"hex":return this.hexWrite(string,offset,length);case"utf8":case"utf-8":return this.utf8Write(string,offset,length);case"ascii":return this.asciiWrite(string,offset,length);case"binary":return this.binaryWrite(string,offset,length);case"base64":return this.base64Write(string,offset,length);case"ucs2":case"ucs-2":return this.ucs2Write(string,offset,length);default:throw new Error("Unknown encoding")}};function clamp(index,len,defaultValue){if(typeof index!=="number")return defaultValue;index=~~index;if(index>=len)return len;if(index>=0)return index;index+=len;if(index>=0)return index;return 0}Buffer.prototype.slice=function(start,end){var len=this.length;start=clamp(start,len,0);end=clamp(end,len,len);return new Buffer(this,end-start,+start)};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;start||(start=0);if(end===undefined||isNaN(end)){end=this.length}target_start||(target_start=0);if(end<start)throw new Error("sourceEnd < sourceStart");if(end===start)return 0;if(target.length==0||source.length==0)return 0;if(target_start<0||target_start>=target.length){throw new Error("targetStart out of bounds")}if(start<0||start>=source.length){throw new Error("sourceStart out of bounds")}if(end<0||end>source.length){throw new Error("sourceEnd out of bounds")}if(end>this.length){end=this.length}if(target.length-target_start<end-start){end=target.length-target_start+start}var temp=[];for(var i=start;i<end;i++){assert.ok(typeof this[i]!=="undefined","copying undefined buffer bytes!");temp.push(this[i])}for(var i=target_start;i<target_start+temp.length;i++){target[i]=temp[i-target_start]}};Buffer.prototype.fill=function fill(value,start,end){value||(value=0);start||(start=0);end||(end=this.length);if(typeof value==="string"){value=value.charCodeAt(0)}if(!(typeof value==="number")||isNaN(value)){throw new Error("value is not a number")}if(end<start)throw new Error("end < start");if(end===start)return 0;if(this.length==0)return 0;if(start<0||start>=this.length){throw new Error("start out of bounds")}if(end<0||end>this.length){throw new Error("end out of bounds")}for(var i=start;i<end;i++){this[i]=value}};Buffer.isBuffer=function isBuffer(b){return b instanceof Buffer||b instanceof Buffer};Buffer.concat=function(list,totalLength){if(!isArray(list)){throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.")}if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}if(typeof totalLength!=="number"){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length}}var buffer=new Buffer(totalLength);var pos=0;for(var i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos);pos+=buf.length}return buffer};Buffer.isEncoding=function(encoding){switch((encoding+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function coerce(length){length=~~Math.ceil(+length);return length<0?0:length}function isArray(subject){return(Array.isArray||function(subject){return{}.toString.apply(subject)=="[object Array]"})(subject)}function isArrayIsh(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++)if(str.charCodeAt(i)<=127)byteArray.push(str.charCodeAt(i));else{var h=encodeURIComponent(str.charAt(i)).substr(1).split("%");for(var j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}return byteArray}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++)byteArray.push(str.charCodeAt(i)&255);return byteArray}function base64ToBytes(str){return require("base64-js").toByteArray(str)}function blitBuffer(src,dst,offset,length){var pos,i=0;while(i<length){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i];i++}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset<buffer.length,"Trying to read beyond buffer length")}if(offset>=buffer.length)return;return buffer[offset]};function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")}if(offset>=buffer.length)return 0;if(isBigEndian){val=buffer[offset]<<8;if(offset+1<buffer.length){val|=buffer[offset+1]}}else{val=buffer[offset];if(offset+1<buffer.length){val|=buffer[offset+1]<<8}}return val}Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,false,noAssert)};Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,true,noAssert)};function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")}if(offset>=buffer.length)return 0;if(isBigEndian){if(offset+1<buffer.length)val=buffer[offset+1]<<16;if(offset+2<buffer.length)val|=buffer[offset+2]<<8;if(offset+3<buffer.length)val|=buffer[offset+3];val=val+(buffer[offset]<<24>>>0)}else{if(offset+2<buffer.length)val=buffer[offset+2]<<16;if(offset+1<buffer.length)val|=buffer[offset+1]<<8;val|=buffer[offset];if(offset+3<buffer.length)val=val+(buffer[offset+3]<<24>>>0)}return val}Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,false,noAssert)};Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,true,noAssert)};Buffer.prototype.readInt8=function(offset,noAssert){var buffer=this;var neg;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset<buffer.length,"Trying to read beyond buffer length")}if(offset>=buffer.length)return;neg=buffer[offset]&128;if(!neg){return buffer[offset]}return(255-buffer[offset]+1)*-1};function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+1<buffer.length,"Trying to read beyond buffer length")}val=readUInt16(buffer,offset,isBigEndian,noAssert);neg=val&32768;if(!neg){return val}return(65535-val+1)*-1}Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,false,noAssert)};Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,true,noAssert)};function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")}val=readUInt32(buffer,offset,isBigEndian,noAssert);neg=val&2147483648;if(!neg){return val}return(4294967295-val+1)*-1}Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,false,noAssert)};Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,true,noAssert)};function readFloat(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset+3<buffer.length,"Trying to read beyond buffer length")}return require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,23,4)}Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,false,noAssert)};Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,true,noAssert)};function readDouble(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset+7<buffer.length,"Trying to read beyond buffer length")}return require("./buffer_ieee754").readIEEE754(buffer,offset,isBigEndian,52,8)}Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,false,noAssert)};Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,true,noAssert)};function verifuint(value,max){assert.ok(typeof value=="number","cannot write a non-number as a number");assert.ok(value>=0,"specified a negative value for writing an unsigned value");assert.ok(value<=max,"value is larger than maximum value for type");assert.ok(Math.floor(value)===value,"value has a fractional component")}Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset<buffer.length,"trying to write beyond buffer length");verifuint(value,255)}if(offset<buffer.length){buffer[offset]=value}};function writeUInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+1<buffer.length,"trying to write beyond buffer length");verifuint(value,65535)}for(var i=0;i<Math.min(buffer.length-offset,2);i++){buffer[offset+i]=(value&255<<8*(isBigEndian?1-i:i))>>>(isBigEndian?1-i:i)*8}}Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,false,noAssert)};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,true,noAssert)};function writeUInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+3<buffer.length,"trying to write beyond buffer length");verifuint(value,4294967295)}for(var i=0;i<Math.min(buffer.length-offset,4);i++){buffer[offset+i]=value>>>(isBigEndian?3-i:i)*8&255}}Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,false,noAssert)};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,true,noAssert)};function verifsint(value,max,min){assert.ok(typeof value=="number","cannot write a non-number as a number");assert.ok(value<=max,"value larger than maximum allowed value");assert.ok(value>=min,"value smaller than minimum allowed value");assert.ok(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert.ok(typeof value=="number","cannot write a non-number as a number");assert.ok(value<=max,"value larger than maximum allowed value");assert.ok(value>=min,"value smaller than minimum allowed value")}Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset<buffer.length,"Trying to write beyond buffer length");verifsint(value,127,-128)}if(value>=0){buffer.writeUInt8(value,offset,noAssert)}else{buffer.writeUInt8(255+value+1,offset,noAssert)}};function writeInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+1<buffer.length,"Trying to write beyond buffer length");verifsint(value,32767,-32768)}if(value>=0){writeUInt16(buffer,value,offset,isBigEndian,noAssert)}else{writeUInt16(buffer,65535+value+1,offset,isBigEndian,noAssert)}}Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,false,noAssert)};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,true,noAssert)};function writeInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length");verifsint(value,2147483647,-2147483648)}if(value>=0){writeUInt32(buffer,value,offset,isBigEndian,noAssert)}else{writeUInt32(buffer,4294967295+value+1,offset,isBigEndian,noAssert)}}Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,false,noAssert)};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,true,noAssert)};function writeFloat(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+3<buffer.length,"Trying to write beyond buffer length");verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)}require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,23,4)}Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,false,noAssert)};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,true,noAssert)};function writeDouble(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,"missing value");assert.ok(typeof isBigEndian==="boolean","missing or invalid endian");assert.ok(offset!==undefined&&offset!==null,"missing offset");assert.ok(offset+7<buffer.length,"Trying to write beyond buffer length");verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)}require("./buffer_ieee754").writeIEEE754(buffer,value,offset,isBigEndian,52,8)}Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,true,noAssert)}},{"./buffer_ieee754":"w39dFr",assert:"+E6k9U","base64-js":"ZuL8gj"}],mkLpME:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var mixInto=require("./mixInto");function ReactMountReady(initialCollection){this._queue=initialCollection||null}mixInto(ReactMountReady,{enqueue:function(component,callback){this._queue=this._queue||[];this._queue.push({component:component,callback:callback})},notifyAll:function(){var queue=this._queue;if(queue){this._queue=null;for(var i=0,l=queue.length;i<l;i++){var component=queue[i].component;var callback=queue[i].callback;callback.call(component,component.getDOMNode())}queue.length=0}},reset:function(){this._queue=null},destructor:function(){this.reset()}});PooledClass.addPoolingTo(ReactMountReady);module.exports=ReactMountReady},{"./PooledClass":"J6a26b","./mixInto":"kPNYuv"}],mr8N0q:[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactOwner=require("./ReactOwner");var ReactPerf=require("./ReactPerf");var ReactPropTransferer=require("./ReactPropTransferer");var ReactUpdates=require("./ReactUpdates");var invariant=require("./invariant");var keyMirror=require("./keyMirror");var merge=require("./merge");var mixInto=require("./mixInto");var objMap=require("./objMap");var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var ReactCompositeComponentInterface={mixins:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_ONCE,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i])}}},propTypes:function(Constructor,propTypes){Constructor.propTypes=propTypes}};function validateMethodOverride(proto,name){var specPolicy=ReactCompositeComponentInterface[name];if(ReactCompositeComponentMixin.hasOwnProperty(name)){invariant(specPolicy===SpecPolicy.OVERRIDE_BASE)}if(proto.hasOwnProperty(name)){invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED)}}function validateLifeCycleOnReplaceState(instance){var compositeLifeCycleState=instance._compositeLifeCycleState;invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING);invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE&&compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING)}function mixSpecIntoComponent(Constructor,spec){var proto=Constructor.prototype;for(var name in spec){var property=spec[name];if(!spec.hasOwnProperty(name)||!property){continue}validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property)}else{var isCompositeComponentMethod=name in ReactCompositeComponentInterface;var isInherited=name in proto;var markedDontBind=property.__reactDontBind;var isFunction=typeof property==="function";var shouldAutoBind=isFunction&&!isCompositeComponentMethod&&!isInherited&&!markedDontBind;if(shouldAutoBind){if(!proto.__reactAutoBindMap){proto.__reactAutoBindMap={}}proto.__reactAutoBindMap[name]=property;proto[name]=property}else{if(isInherited){if(ReactCompositeComponentInterface[name]===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property)}else{proto[name]=createChainedFunction(proto[name],property)}}else{proto[name]=property}}}}}function mergeObjectsWithNoDuplicateKeys(one,two){invariant(one&&two&&typeof one==="object"&&typeof two==="object");objMap(two,function(value,key){invariant(one[key]===undefined);one[key]=value});return one}function createMergedResultFunction(one,two){return function mergedResult(){return mergeObjectsWithNoDuplicateKeys(one.apply(this,arguments),two.apply(this,arguments))}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments)}}var CompositeLifeCycle=keyMirror({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null});var ReactCompositeComponentMixin={construct:function(initialProps,children){ReactComponent.Mixin.construct.apply(this,arguments);this.state=null;this._pendingState=null;this._compositeLifeCycleState=null},isMounted:function(){return ReactComponent.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING},mountComponent:ReactPerf.measure("ReactCompositeComponent","mountComponent",function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);this._compositeLifeCycleState=CompositeLifeCycle.MOUNTING;this._defaultProps=this.getDefaultProps?this.getDefaultProps():null;this._processProps(this.props);if(this.__reactAutoBindMap){this._bindAutoBindMethods()}this.state=this.getInitialState?this.getInitialState():null;this._pendingState=null;this._pendingForceUpdate=false;if(this.componentWillMount){this.componentWillMount();if(this._pendingState){this.state=this._pendingState;this._pendingState=null}}this._renderedComponent=this._renderValidatedComponent();this._compositeLifeCycleState=null;var markup=this._renderedComponent.mountComponent(rootID,transaction,mountDepth+1);if(this.componentDidMount){transaction.getReactMountReady().enqueue(this,this.componentDidMount)}return markup}),unmountComponent:function(){this._compositeLifeCycleState=CompositeLifeCycle.UNMOUNTING;if(this.componentWillUnmount){this.componentWillUnmount()}this._compositeLifeCycleState=null;this._defaultProps=null;ReactComponent.Mixin.unmountComponent.call(this);this._renderedComponent.unmountComponent();this._renderedComponent=null;if(this.refs){this.refs=null}},setState:function(partialState,callback){this.replaceState(merge(this._pendingState||this.state,partialState),callback)},replaceState:function(completeState,callback){validateLifeCycleOnReplaceState(this);this._pendingState=completeState;ReactUpdates.enqueueUpdate(this,callback)},_processProps:function(props){var propName;var defaultProps=this._defaultProps;for(propName in defaultProps){if(!(propName in props)){props[propName]=defaultProps[propName]}}var propTypes=this.constructor.propTypes;if(propTypes){var componentName=this.constructor.displayName;for(propName in propTypes){var checkProp=propTypes[propName];if(checkProp){checkProp(props,propName,componentName)}}}},performUpdateIfNecessary:function(){var compositeLifeCycleState=this._compositeLifeCycleState;if(compositeLifeCycleState===CompositeLifeCycle.MOUNTING||compositeLifeCycleState===CompositeLifeCycle.RECEIVING_PROPS){return}ReactComponent.Mixin.performUpdateIfNecessary.call(this)},_performUpdateIfNecessary:function(transaction){if(this._pendingProps==null&&this._pendingState==null&&!this._pendingForceUpdate){return}var nextProps=this.props;if(this._pendingProps!=null){nextProps=this._pendingProps;this._processProps(nextProps);this._pendingProps=null;this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_PROPS;if(this.componentWillReceiveProps){this.componentWillReceiveProps(nextProps,transaction)}}this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_STATE;var nextState=this._pendingState||this.state;this._pendingState=null;if(this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(nextProps,nextState)){this._pendingForceUpdate=false;this._performComponentUpdate(nextProps,nextState,transaction)}else{this.props=nextProps;this.state=nextState}this._compositeLifeCycleState=null},_performComponentUpdate:function(nextProps,nextState,transaction){var prevProps=this.props;var prevState=this.state;if(this.componentWillUpdate){this.componentWillUpdate(nextProps,nextState,transaction)}this.props=nextProps;this.state=nextState;this.updateComponent(transaction,prevProps,prevState);if(this.componentDidUpdate){transaction.getReactMountReady().enqueue(this,this.componentDidUpdate.bind(this,prevProps,prevState))}},updateComponent:ReactPerf.measure("ReactCompositeComponent","updateComponent",function(transaction,prevProps,prevState){ReactComponent.Mixin.updateComponent.call(this,transaction,prevProps);var currentComponent=this._renderedComponent;var nextComponent=this._renderValidatedComponent();if(currentComponent.constructor===nextComponent.constructor){currentComponent.receiveProps(nextComponent.props,transaction)}else{var thisID=this._rootNodeID;var currentComponentID=currentComponent._rootNodeID;currentComponent.unmountComponent();this._renderedComponent=nextComponent;var nextMarkup=nextComponent.mountComponent(thisID,transaction,this._mountDepth+1);ReactComponent.DOMIDOperations.dangerouslyReplaceNodeWithMarkupByID(currentComponentID,nextMarkup)}}),forceUpdate:function(callback){var compositeLifeCycleState=this._compositeLifeCycleState;invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING);invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE&&compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING);this._pendingForceUpdate=true;ReactUpdates.enqueueUpdate(this,callback)},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this.render()}catch(error){throw error}finally{ReactCurrentOwner.current=null}invariant(ReactComponent.isValidComponent(renderedComponent));return renderedComponent},_bindAutoBindMethods:function(){for(var autoBindKey in this.__reactAutoBindMap){if(!this.__reactAutoBindMap.hasOwnProperty(autoBindKey)){continue}var method=this.__reactAutoBindMap[autoBindKey];this[autoBindKey]=this._bindAutoBindMethod(method)}},_bindAutoBindMethod:function(method){var component=this;var boundMethod=function(){return method.apply(component,arguments)};return boundMethod}};var ReactCompositeComponentBase=function(){};mixInto(ReactCompositeComponentBase,ReactComponent.Mixin);mixInto(ReactCompositeComponentBase,ReactOwner.Mixin);mixInto(ReactCompositeComponentBase,ReactPropTransferer.Mixin);mixInto(ReactCompositeComponentBase,ReactCompositeComponentMixin);var ReactCompositeComponent={LifeCycle:CompositeLifeCycle,Base:ReactCompositeComponentBase,createClass:function(spec){var Constructor=function(){};Constructor.prototype=new ReactCompositeComponentBase;Constructor.prototype.constructor=Constructor;mixSpecIntoComponent(Constructor,spec);invariant(Constructor.prototype.render);for(var methodName in ReactCompositeComponentInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null}}var ConvenienceConstructor=function(props,children){var instance=new Constructor;instance.construct.apply(instance,arguments);return instance};ConvenienceConstructor.componentConstructor=Constructor;
ConvenienceConstructor.originalSpec=spec;return ConvenienceConstructor},isValidClass:function(componentClass){return componentClass instanceof Function&&"componentConstructor"in componentClass&&componentClass.componentConstructor instanceof Function}};module.exports=ReactCompositeComponent},{"./ReactComponent":"s3ydQp","./ReactCurrentOwner":"l6nLtk","./ReactOwner":"T5TpzL","./ReactPerf":"3kUGkJ","./ReactPropTransferer":"MaLMT3","./ReactUpdates":"PpNVRq","./invariant":"A8YiG2","./keyMirror":"D33hUR","./merge":"D67bCH","./mixInto":"kPNYuv","./objMap":"5TU/Ge"}],mwEu8N:[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactMount=require("./ReactMount");var escapeTextForBrowser=require("./escapeTextForBrowser");var mixInto=require("./mixInto");var ReactTextComponent=function(initialText){this.construct({text:initialText})};mixInto(ReactTextComponent,ReactComponent.Mixin);mixInto(ReactTextComponent,{mountComponent:function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);return"<span "+ReactMount.ATTR_NAME+'="'+rootID+'">'+escapeTextForBrowser(this.props.text)+"</span>"},receiveProps:function(nextProps,transaction){if(nextProps.text!==this.props.text){this.props.text=nextProps.text;ReactComponent.DOMIDOperations.updateTextContentByID(this._rootNodeID,nextProps.text)}}});module.exports=ReactTextComponent},{"./ReactComponent":"s3ydQp","./ReactMount":"7KU6qp","./escapeTextForBrowser":"2mRphX","./mixInto":"kPNYuv"}],"n+9RZ7":[function(require,module,exports){"use strict";var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactDOM=require("./ReactDOM");var option=ReactDOM.option;var ReactDOMOption=ReactCompositeComponent.createClass({componentWillMount:function(){if(this.props.selected!=null){}},render:function(){return option(this.props,this.props.children)}});module.exports=ReactDOMOption},{"./ReactCompositeComponent":"mr8N0q","./ReactDOM":"c1UTpj"}],"n1I/Z3":[function(require,module,exports){"use strict";var invariant=require("./invariant");var keyMirror=require("./keyMirror");var MAX_MERGE_DEPTH=36;var isTerminal=function(o){return typeof o!=="object"||o===null};var mergeHelpers={MAX_MERGE_DEPTH:MAX_MERGE_DEPTH,isTerminal:isTerminal,normalizeMergeArg:function(arg){return arg===undefined||arg===null?{}:arg},checkMergeArrayArgs:function(one,two){invariant(Array.isArray(one)&&Array.isArray(two))},checkMergeObjectArgs:function(one,two){mergeHelpers.checkMergeObjectArg(one);mergeHelpers.checkMergeObjectArg(two)},checkMergeObjectArg:function(arg){invariant(!isTerminal(arg)&&!Array.isArray(arg))},checkMergeLevel:function(level){invariant(level<MAX_MERGE_DEPTH)},checkArrayStrategy:function(strategy){invariant(strategy===undefined||strategy in mergeHelpers.ArrayStrategies)},ArrayStrategies:keyMirror({Clobber:true,IndexByIndex:true})};module.exports=mergeHelpers},{"./invariant":"A8YiG2","./keyMirror":"D33hUR"}],nHjK1j:[function(require,module,exports){var rangy=require("./rangy/rangy-core"),textNodes=require("./content-editable-text-nodes");function rangeHeight(node,offset){var rng=rangy.createRange();rng.setStart(node,0);rng.setEnd(node,offset===0?1:offset);return rng.nativeRange.getBoundingClientRect().bottom}function prev(pos){var node,idx;if(pos.idx===0){if(!pos.node.__prev)return null;node=pos.node.__prev;idx=pos.node.__prev.__length-1}else{idx=pos.idx-1;node=pos.node}pos.node=node;pos.idx=idx;return pos}function next(pos){var node,idx;if(pos.idx>=pos.node.__length-1){if(!pos.node.__next)return null;node=pos.node.__next;idx=0}else{idx=pos.idx+1;node=pos.node}pos.node=node;pos.idx=idx;return pos}module.exports=function(node){if(!node.firstChild||node.textContent==="")return{line:1,lineOffset:0,offset:0,totalLines:1};var fix=1,sel=rangy.getSelection(),nodes=textNodes(node),firstNode=nodes[0],lastNode=nodes[nodes.length-1],focusNode=sel.focusNode,focusOffset=sel.focusOffset;length=lastNode.__index+lastNode.wholeText.length,start=focusNode.__index+focusOffset;var firstLineHeight=rangeHeight(firstNode,1);var lastLineHeight=rangeHeight(lastNode,lastNode.__length);var currentLineHeight=rangeHeight(focusNode,focusOffset);var deltaHeight=1,lineOffset=start;if(firstLineHeight===lastLineHeight){return{line:1,lineOffset:start,offset:start,totalLines:1}}else if(firstLineHeight===currentLineHeight){var pos={node:lastNode,idx:lastNode.__length};while(prev(pos)){var height=rangeHeight(pos.node,pos.idx);if(height>0&&height!==lastLineHeight){deltaHeight=lastLineHeight-height;break}}}else{var pos={node:focusNode,idx:focusOffset};while(prev(pos)){var height=rangeHeight(pos.node,pos.idx);lineOffset=lineOffset-1;if(height>0&&height!==currentLineHeight){deltaHeight=currentLineHeight-height;lineOffset=start-lineOffset;break}}}if(start<length-1){var nextPos=next({node:focusNode,idx:focusOffset});if(nextPos&&rangeHeight(nextPos.node,nextPos.idx)!==currentLineHeight){fix=2;lineOffset=0}}for(var i=0,len=nodes.length;i<len;i++){delete nodes[i].__next;delete nodes[i].__prev;delete nodes[i].__length;delete nodes[i].__index}return{line:fix+(currentLineHeight-firstLineHeight)/deltaHeight,lineOffset:lineOffset,offset:start,totalLines:1+(lastLineHeight-firstLineHeight)/deltaHeight}}},{"./content-editable-text-nodes":"1PZSOf","./rangy/rangy-core":"MY2M6d"}],nTbwix:[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],o5gchh:[function(require,module,exports){var React=require("react-tools/build/modules/React"),assign=require("lodash").assign,block=require("../block"),Editor=require("../editors/rich"),TextBlockMixin=require("../text-block-mixin");module.exports=React.createClass({mixins:[TextBlockMixin],editorComponent:Editor,tryUpgrade:function(content){if(content.match(/^---$/)){this.updateBlock({type:"line"});return true}else if(content.match(/^```/)){this.updateBlock({type:"code",content:content.slice(3),annotations:[]});return true}else if(content.match(/^(#+)\s/)){var level=content.match(/^(#+)\s/)[1].length;this.updateBlock({type:"heading",content:content.slice(level+1),level:level,annotations:[]});return true}else if(content.match(/^\*\s/)){this.updateBlock({type:"listitem",content:content.slice(2),annotations:[]});return true}else if(content.match(/^!\[\]\(([^\)]+)\)$/)){var match=content.match(/^!\[\]\(([^\)]+)\)$/);this.updateBlock({type:"image",content:match[1]});return true}return false},onDegrade:function(){this.props.editor.mergeWithPrevious(this.props.block)},render:function(){var className="Block Paragraph"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},this.renderEditor())}})},{"../block":"W5so5p","../editors/rich":"JjnOrr","../text-block-mixin":"qfD6+V",lodash:"rhzjCI","react-tools/build/modules/React":"2aDVnh"}],oCAlR1:[function(require,module,exports){"use strict";function getReactRootElementInContainer(container){return container&&container.firstChild}module.exports=getReactRootElementInContainer},{}],oH5sxN:[function(require,module,exports){"use strict";var invariant=require("./invariant");var LinkedValueMixin={_assertLink:function(){invariant(this.props.value==null&&this.props.onChange==null)},getValue:function(){if(this.props.valueLink){this._assertLink();return this.props.valueLink.value}return this.props.value},getOnChange:function(){if(this.props.valueLink){this._assertLink();return this._handleLinkedValueChange}return this.props.onChange},_handleLinkedValueChange:function(e){this.props.valueLink.requestChange(e.target.value)}};module.exports=LinkedValueMixin},{"./invariant":"A8YiG2"}],oaZOFL:[function(require,module,exports){"use strict";function joinClasses(className){if(!className){className=""}var nextClass;var argLength=arguments.length;if(argLength>1){for(var ii=1;ii<argLength;ii++){nextClass=arguments[ii];nextClass&&(className+=" "+nextClass)}}return className}module.exports=joinClasses},{}],pKWtXK:[function(require,module,exports){"use strict";var createObjectFrom=require("./createObjectFrom");var invariant=require("./invariant");var Props={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),oneOf:createEnumTypeChecker,instanceOf:createInstanceTypeChecker};var ANONYMOUS="<<anonymous>>";function createPrimitiveTypeChecker(expectedType){function validatePrimitiveType(propValue,propName,componentName){var propType=typeof propValue;if(propType==="object"&&Array.isArray(propValue)){propType="array"}invariant(propType===expectedType)}return createChainableTypeChecker(validatePrimitiveType)}function createEnumTypeChecker(expectedValues){var expectedEnum=createObjectFrom(expectedValues);function validateEnumType(propValue,propName,componentName){invariant(expectedEnum[propValue])}return createChainableTypeChecker(validateEnumType)}function createInstanceTypeChecker(expectedClass){function validateInstanceType(propValue,propName,componentName){invariant(propValue instanceof expectedClass)}return createChainableTypeChecker(validateInstanceType)}function createChainableTypeChecker(validate){function createTypeChecker(isRequired){function checkType(props,propName,componentName){var propValue=props[propName];if(propValue!=null){validate(propValue,propName,componentName||ANONYMOUS)}else{invariant(!isRequired)}}if(!isRequired){checkType.isRequired=createTypeChecker(true)}return checkType}return createTypeChecker(false)}module.exports=Props},{"./createObjectFrom":"uMP+gf","./invariant":"A8YiG2"}],pVdP6F:[function(require,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target}module.exports=getEventTarget},{}],pkbOEi:[function(require,module,exports){"use strict";var ReactUpdates=require("./ReactUpdates");var Transaction=require("./Transaction");var emptyFunction=require("./emptyFunction");var mixInto=require("./mixInto");var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}mixInto(ReactDefaultBatchingStrategyTransaction,Transaction.Mixin);mixInto(ReactDefaultBatchingStrategyTransaction,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction;var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,param){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(param)}else{transaction.perform(callback,null,param)}}};module.exports=ReactDefaultBatchingStrategy},{"./ReactUpdates":"PpNVRq","./Transaction":"W2uhSI","./emptyFunction":"B70uQ1","./mixInto":"kPNYuv"}],pplVRy:[function(require,module,exports){"use strict";function filterAttributes(node,func,context){var attributes=node.attributes;var numAttributes=attributes.length;var accumulator=[];for(var i=0;i<numAttributes;i++){var attr=attributes.item(i);if(func.call(context,attr)){accumulator.push(attr)}}return accumulator}module.exports=filterAttributes},{}],qAPXeP:[function(require,module,exports){var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactComponentEnvironment=ReactComponentBrowserEnvironment;module.exports=ReactComponentEnvironment},{"./ReactComponentBrowserEnvironment":"Dwh+Gw"}],qJMASX:[function(require,module,exports){"use strict";var toPattern=require("url-pattern");module.exports=function(routes){var registered=[];var self={addRoute:function(pattern,handler){registered.push({pattern:toPattern(pattern),handler:handler});return self},match:function(path){var params;for(var i=0,length=registered.length;i<length;i++){params=registered[i].pattern.match(path);if(params!==null){return{handler:registered[i].handler,params:params}}}}};if(routes){for(var k in routes){self.addRoute(k,routes[k])}}return self}},{"url-pattern":"lkCbNb"}],"qfD6+V":[function(require,module,exports){var assign=require("lodash").assign,BlockMixin=require("./block-mixin"),rangy=require("./rangy/rangy-core"),block=require("./block"),keys=require("./keys");function isDegradeEvent(e){var s=rangy.getSelection(),isFirst=s.focusNode.parentNode.firstChild===s.focusNode;return isFirst&&s.focusOffset===0&&e.keyCode===keys.BACKSPACE&&s.isCollapsed}module.exports=assign({},BlockMixin,{insertAfterWithContent:function(){var editor=this.refs.editor,idx=editor.getCaretOffset(),content=editor.getContent();var blocks=block.split(this.props.block,idx);assign(this.props.block,blocks.original);this.props.editor.insertAfter(this.props.block,assign({type:this.insertAfterType||"paragraph"},blocks.splitted))},handleKeyCommon:function(e){if(isDegradeEvent(e)){if(this.onDegrade)this.onDegrade();else this.updateBlock({type:"paragraph"});return true}else if(e.keyCode===keys.BACKSPACE){return false}else if(keys.match(e,keys.ARROW_UP)){var caret=this.refs.editor.getCaretPosition();if(caret.line===1){this.props.editor.focusBefore(this.props.block);return true}}else if(keys.match(e,keys.ARROW_DOWN)){var caret=this.refs.editor.getCaretPosition();if(caret.line===caret.totalLines){this.props.editor.focusAfter(this.props.block);return true}}else if(keys.match(e,keys.ENTER)){this.insertAfterWithContent();return true}else{return BlockMixin.handleKeyCommon.call(this,e)}},onUpdate:function(update){assign(this.props.block,update);return false},renderEditor:function(props){var defaultProps={content:this.props.block.content,annotations:this.props.block.annotations,focus:this.props.focus,focusOffset:this.props.focusOffset,onKeyDown:this.onKeyDown,onUpdate:this.onUpdate,onMarkupUpdate:this.tryUpgrade,onCaretOffsetUpdate:this.props.editor.updatePosition.bind(null,this.props.block),ref:"editor"};return this.editorComponent(assign({},defaultProps,props))}})},{"./block":"W5so5p","./block-mixin":"40JTBG","./keys":"HhJo8C","./rangy/rangy-core":"MY2M6d",lodash:"rhzjCI"}],rKqRTl:[function(require,module,exports){"use strict";var invariant=require("./invariant");var traverseAllChildren=require("./traverseAllChildren");function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;invariant(!result.hasOwnProperty(name));result[name]=child}function flattenChildren(children){if(children==null){return children}var result={};traverseAllChildren(children,flattenSingleChildIntoContext,result);return result}module.exports=flattenChildren},{"./invariant":"A8YiG2","./traverseAllChildren":"2VEupD"}],rLKzRi:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};module.exports=shimKeys},{"lodash._objecttypes":"aZSdDb"}],rOPvLG:[function(require,module,exports){var React=require("react-tools/build/modules/React"),rangy=require("../rangy/rangy-core"),Editor=require("../editors/rich"),TextBlockMixin=require("../text-block-mixin"),keys=require("../keys");module.exports=React.createClass({mixins:[TextBlockMixin],editorComponent:Editor,tryUpgrade:function(content){if(content.match(/^(#+)/)){var level=content.match(/^(#+)/)[0].length;this.updateBlock({type:"heading",content:content.slice(level),level:this.props.block.level+level});return true}return false},onDegrade:function(){if(this.props.block.level===1)this.updateBlock({type:"paragraph",level:undefined});else this.updateBlock({level:this.props.block.level-1})},handleKey:function(e){var offset=rangy.getSelection().focusOffset;if(keys.match(e,keys.KEY3,{shiftKey:true})&&offset===0){this.updateBlock({type:"heading",content:this.props.block.content,level:this.props.block.level+1});return true}},render:function(){var className="Block Heading Heading"+this.props.block.level+(this.props.focus?" Focused":"");return React.DOM.div({className:className},this.renderEditor())}})},{"../editors/rich":"JjnOrr","../keys":"HhJo8C","../rangy/rangy-core":"MY2M6d","../text-block-mixin":"qfD6+V","react-tools/build/modules/React":"2aDVnh"}],"react-app/runtime/browser":[function(require,module,exports){"use strict";var AssetInjector=require("../asset-injector"),app=require(""+"app");module.exports={injectAssets:AssetInjector.injectAssets,app:app,generateMarkup:function(request,cb){app.generateMarkup(request,function(err,markup,data){err?cb(err):cb(null,{markup:markup,data:data})})}}},{"../asset-injector":"udv0vU",app:"./index.jsx"}],"react-app/runtime/server":[function(require,module,exports){"use strict";require("react-tools/build/modules/ExecutionEnvironment").canUseDOM=false;module.exports=require(""+"react-app/runtime/browser")},{"react-tools/build/modules/ExecutionEnvironment":"VcPYgO"}],rhzjCI:[function(require,module,exports){(function(){var undefined;var arrayPool=[],objectPool=[];var idCounter=0;var keyPrefix=+new Date+"";var largeArraySize=75;var maxPoolSize=40;var whitespace=" 	\f"+"\n\r\u2028\u2029"+"";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reFuncName=/^function[ \n\r\t]+\w/;var reInterpolate=/<%=([\s\S]+?)%>/g;var reLeadingSpacesAndZeros=RegExp("^["+whitespace+"]*0+(?=.$)");var reNoMatch=/($^)/;var reThis=/\bthis\b/;var reUnescapedString=/['\n\r\t\u2028\u2029\\]/g;var contextProps=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var templateCounter=0;var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var cloneableClasses={};cloneableClasses[funcClass]=false;cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=true;var debounceOptions={leading:false,maxWait:0,trailing:false};var descriptor={configurable:false,enumerable:false,value:null,writable:false};var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var root=objectTypes[typeof window]&&window||this;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var freeGlobal=objectTypes[typeof global]&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)){root=freeGlobal}function baseIndexOf(array,value,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0;while(++index<length){if(array[index]===value){return index}}return-1}function cacheIndexOf(cache,value){var type=typeof value;cache=cache.cache;if(type=="boolean"||value==null){return cache[value]?0:-1}if(type!="number"&&type!="string"){type="object"}var key=type=="number"?value:keyPrefix+value;cache=(cache=cache[type])&&cache[key];return type=="object"?cache&&baseIndexOf(cache,value)>-1?0:-1:cache?0:-1}function cachePush(value){var cache=this.cache,type=typeof value;if(type=="boolean"||value==null){cache[value]=true}else{if(type!="number"&&type!="string"){type="object"}var key=type=="number"?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});if(type=="object"){(typeCache[key]||(typeCache[key]=[])).push(value)}else{typeCache[key]=true}}}function charAtCallback(value){return value.charCodeAt(0)}function compareAscending(a,b){var ac=a.criteria,bc=b.criteria;if(ac!==bc){if(ac>bc||typeof ac=="undefined"){return 1}if(ac<bc||typeof bc=="undefined"){return-1}}return a.index-b.index}function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[length/2|0],last=array[length-1];if(first&&typeof first=="object"&&mid&&typeof mid=="object"&&last&&typeof last=="object"){return false}var cache=getObject();cache["false"]=cache["null"]=cache["true"]=cache["undefined"]=false;var result=getObject();result.array=array;result.cache=cache;result.push=cachePush;while(++index<length){result.push(array[index])}return result}function escapeStringChar(match){return"\\"+stringEscapes[match]}function getArray(){return arrayPool.pop()||[]}function getObject(){return objectPool.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,value:null}}function noop(){}function releaseArray(array){array.length=0;if(arrayPool.length<maxPoolSize){arrayPool.push(array)}}function releaseObject(object){var cache=object.cache;if(cache){releaseObject(cache)}object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null;if(objectPool.length<maxPoolSize){objectPool.push(object)}}function slice(array,start,end){start||(start=0);if(typeof end=="undefined"){end=array?array.length:0}var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}return result}function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayRef=[];var objectProto=Object.prototype;var oldDash=context._;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,fnToString=Function.prototype.toString,getPrototypeOf=reNative.test(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectProto.hasOwnProperty,now=reNative.test(now=Date.now)&&now||function(){return+new Date},push=arrayRef.push,setImmediate=context.setImmediate,setTimeout=context.setTimeout,splice=arrayRef.splice,toString=objectProto.toString,unshift=arrayRef.unshift;var defineProperty=function(){try{var o={},func=reNative.test(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}();var nativeBind=reNative.test(nativeBind=toString.bind)&&nativeBind,nativeCreate=reNative.test(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=reNative.test(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=reNative.test(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeSlice=arrayRef.slice;var isIeOpera=reNative.test(context.attachEvent),isV8=nativeBind&&!/\n|true/.test(nativeBind+isIeOpera);var ctorByClass={};ctorByClass[arrayClass]=Array;ctorByClass[boolClass]=Boolean;ctorByClass[dateClass]=Date;ctorByClass[funcClass]=Function;ctorByClass[objectClass]=Object;ctorByClass[numberClass]=Number;ctorByClass[regexpClass]=RegExp;ctorByClass[stringClass]=String;function lodash(value){return value&&typeof value=="object"&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__")?value:new lodashWrapper(value)}function lodashWrapper(value,chainAll){this.__chain__=!!chainAll;this.__wrapped__=value}lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};support.fastBind=nativeBind&&!isV8;support.funcDecomp=!reNative.test(context.WinRTError)&&reThis.test(runInContext);support.funcNames=typeof Function.name=="string";lodash.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:lodash}};function baseClone(value,deep,callback,stackA,stackB){if(callback){var result=callback(value);if(typeof result!="undefined"){return result}}var isObj=isObject(value);if(isObj){var className=toString.call(value);if(!cloneableClasses[className]){return value}var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+value);case numberClass:case stringClass:return new ctor(value);case regexpClass:result=ctor(value.source,reFlags.exec(value));result.lastIndex=value.lastIndex;return result}}else{return value}var isArr=isArray(value);if(deep){var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}result=isArr?ctor(value.length):{}}else{result=isArr?slice(value):assign({},value)}if(isArr){if(hasOwnProperty.call(value,"index")){result.index=value.index}if(hasOwnProperty.call(value,"input")){result.input=value.input}}if(!deep){return result}stackA.push(value);stackB.push(result);(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,deep,callback,stackA,stackB)});if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}function baseCreateCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(typeof thisArg=="undefined"){return func}var bindData=func.__bindData__||support.funcNames&&!func.name;if(typeof bindData=="undefined"){var source=reThis&&fnToString.call(func);if(!support.funcNames&&source&&!reFuncName.test(source)){bindData=true}if(support.funcNames||!bindData){bindData=!support.funcDecomp||reThis.test(source);setBindData(func,bindData)}}if(bindData!==true&&bindData&&bindData[1]&1){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}function baseFlatten(array,isShallow,isArgArrays,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value&&typeof value=="object"&&typeof value.length=="number"&&(isArray(value)||isArguments(value))){if(!isShallow){value=baseFlatten(value,isShallow,isArgArrays)}var valIndex=-1,valLength=value.length,resIndex=result.length;result.length+=valLength;while(++valIndex<valLength){result[resIndex++]=value[valIndex]}}else if(!isArgArrays){result.push(value)}}return result}function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if(typeof result!="undefined"){return!!result}}if(a===b){return a!==0||1/a==1/b}var type=typeof a,otherType=typeof b;if(a===a&&!(a&&objectTypes[type])&&!(b&&objectTypes[otherType])){return false}if(a==null||b==null){return a===b}var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass){className=objectClass}if(otherClass==argsClass){otherClass=objectClass}if(className!=otherClass){return false}switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){if(hasOwnProperty.call(a,"__wrapped__ ")||hasOwnProperty.call(b,"__wrapped__")){return baseIsEqual(a.__wrapped__||a,b.__wrapped__||b,callback,isWhere,stackA,stackB)}if(className!=objectClass){return false}var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)){return false}}var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==a){return stackB[length]==b}}var size=0;result=true;stackA.push(a);stackB.push(b);if(isArr){length=a.length;size=b.length;result=size==a.length;if(!result&&!isWhere){return result}while(size--){var index=length,value=b[size];if(isWhere){while(index--){if(result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB)){break}}}else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB))){break}}return result}forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key)){size++;return result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB)}});if(result&&!isWhere){forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key)){return result=--size>-1}})}if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}function baseMerge(object,source,callback,stackA,stackB){(isArray(source)?forEach:forOwn)(source,function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){var stackLength=stackA.length;while(stackLength--){if(found=stackA[stackLength]==source){value=stackB[stackLength];break}}if(!found){var isShallow;if(callback){result=callback(value,source);if(isShallow=typeof result!="undefined"){value=result}}if(!isShallow){value=isArr?isArray(value)?value:[]:isPlainObject(value)?value:{}}stackA.push(source);stackB.push(value);if(!isShallow){baseMerge(value,source,callback,stackA,stackB)}}}else{if(callback){result=callback(value,source);if(typeof result=="undefined"){result=source}}if(typeof result!="undefined"){value=result}}object[key]=value})}function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[];var isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=callback||isLarge?getArray():result;if(isLarge){var cache=createCache(seen);if(cache){indexOf=cacheIndexOf;seen=cache}else{isLarge=false;seen=callback?seen:(releaseArray(seen),result)}}while(++index<length){var value=array[index],computed=callback?callback(value,index,array):value;if(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0){if(callback||isLarge){seen.push(computed)}result.push(value)}}if(isLarge){releaseArray(seen.array);releaseObject(seen)}else if(callback){releaseArray(seen)}return result}function createAggregator(setter){return function(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}}else{forOwn(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)})}return result}}function createBound(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,isPartial=bitmask&16,isPartialRight=bitmask&32,key=func;if(!isBindKey&&!isFunction(func)){throw new TypeError}if(isPartial&&!partialArgs.length){bitmask&=~16;isPartial=partialArgs=false}if(isPartialRight&&!partialRightArgs.length){bitmask&=~32;isPartialRight=partialRightArgs=false}var bindData=func&&func.__bindData__;if(bindData){if(isBind&&!(bindData[1]&1)){bindData[4]=thisArg}if(!isBind&&bindData[1]&1){bitmask|=8
}if(isCurry&&!(bindData[1]&4)){bindData[5]=arity}if(isPartial){push.apply(bindData[2]||(bindData[2]=[]),partialArgs)}if(isPartialRight){push.apply(bindData[3]||(bindData[3]=[]),partialRightArgs)}bindData[1]|=bitmask;return createBound.apply(null,bindData)}if(isBind&&!(isBindKey||isCurry||isPartialRight)&&(support.fastBind||nativeBind&&isPartial)){if(isPartial){var args=[thisArg];push.apply(args,partialArgs)}var bound=isPartial?nativeBind.apply(func,args):nativeBind.call(func,thisArg)}else{bound=function(){var args=arguments,thisBinding=isBind?thisArg:this;if(isCurry||isPartial||isPartialRight){args=nativeSlice.call(args);if(isPartial){unshift.apply(args,partialArgs)}if(isPartialRight){push.apply(args,partialRightArgs)}if(isCurry&&args.length<arity){bitmask|=16&~32;return createBound(func,isCurryBound?bitmask:bitmask&~3,args,null,thisArg,arity)}}if(isBindKey){func=thisBinding[key]}if(this instanceof bound){thisBinding=createObject(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}}setBindData(bound,nativeSlice.call(arguments));return bound}function createObject(prototype){return isObject(prototype)?nativeCreate(prototype):{}}if(!nativeCreate){createObject=function(prototype){if(isObject(prototype)){noop.prototype=prototype;var result=new noop;noop.prototype=null}return result||{}}}function escapeHtmlChar(match){return htmlEscapes[match]}function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}var setBindData=!defineProperty?noop:function(func,value){descriptor.value=value;defineProperty(func,"__bindData__",descriptor)};function shimIsPlainObject(value){var ctor,result;if(!(value&&toString.call(value)==objectClass)||(ctor=value.constructor,isFunction(ctor)&&!(ctor instanceof ctor))){return false}forIn(value,function(value,key){result=key});return typeof result=="undefined"||hasOwnProperty.call(value,result)}function unescapeHtmlChar(match){return htmlUnescapes[match]}function isArguments(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==argsClass||false}var isArray=nativeIsArray||function(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==arrayClass||false};var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes=invert(htmlEscapes);var reEscapedHtml=RegExp("("+keys(htmlUnescapes).join("|")+")","g"),reUnescapedHtml=RegExp("["+keys(htmlEscapes).join("")+"]","g");var assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;if(argsLength>3&&typeof args[argsLength-2]=="function"){var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2)}else if(argsLength>2&&typeof args[argsLength-1]=="function"){callback=args[--argsLength]}while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}}return result};function clone(value,deep,callback,thisArg){if(typeof deep!="boolean"&&deep!=null){thisArg=callback;callback=deep;deep=false}return baseClone(value,deep,typeof callback=="function"&&baseCreateCallback(callback,thisArg,1))}function cloneDeep(value,callback,thisArg){return baseClone(value,true,typeof callback=="function"&&baseCreateCallback(callback,thisArg,1))}var defaults=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(typeof result[index]=="undefined")result[index]=iterable[index]}}}return result};function findKey(object,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forOwn(object,function(value,key,object){if(callback(value,key,object)){result=key;return false}});return result}function findLastKey(object,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forOwnRight(object,function(value,key,object){if(callback(value,key,object)){result=key;return false}});return result}var forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable){if(callback(iterable[index],index,collection)===false)return result}return result};function forInRight(object,callback,thisArg){var pairs=[];forIn(object,function(value,key){pairs.push(key,value)});var length=pairs.length;callback=baseCreateCallback(callback,thisArg,3);while(length--){if(callback(pairs[length--],pairs[length],object)===false){break}}return object}var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===false)return result}return result};function forOwnRight(object,callback,thisArg){var props=keys(object),length=props.length;callback=baseCreateCallback(callback,thisArg,3);while(length--){var key=props[length];if(callback(object[key],key,object)===false){break}}return object}function functions(object){var result=[];forIn(object,function(value,key){if(isFunction(value)){result.push(key)}});return result.sort()}function has(object,property){return object?hasOwnProperty.call(object,property):false}function invert(object){var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index];result[object[key]]=key}return result}function isBoolean(value){return value===true||value===false||toString.call(value)==boolClass}function isDate(value){return value?typeof value=="object"&&toString.call(value)==dateClass:false}function isElement(value){return value?value.nodeType===1:false}function isEmpty(value){var result=true;if(!value){return result}var className=toString.call(value),length=value.length;if(className==arrayClass||className==stringClass||className==argsClass||className==objectClass&&typeof length=="number"&&isFunction(value.splice)){return!length}forOwn(value,function(){return result=false});return result}function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,typeof callback=="function"&&baseCreateCallback(callback,thisArg,2))}function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}function isFunction(value){return typeof value=="function"}function isObject(value){return!!(value&&objectTypes[typeof value])}function isNaN(value){return isNumber(value)&&value!=+value}function isNull(value){return value===null}function isNumber(value){return typeof value=="number"||toString.call(value)==numberClass}var isPlainObject=function(value){if(!(value&&toString.call(value)==objectClass)){return false}var valueOf=value.valueOf,objProto=typeof valueOf=="function"&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)};function isRegExp(value){return value?typeof value=="object"&&toString.call(value)==regexpClass:false}function isString(value){return typeof value=="string"||toString.call(value)==stringClass}function isUndefined(value){return typeof value=="undefined"}function merge(object){var args=arguments,length=2;if(!isObject(object)){return object}if(typeof args[2]!="number"){length=args.length}if(length>3&&typeof args[length-2]=="function"){var callback=baseCreateCallback(args[--length-1],args[length--],2)}else if(length>2&&typeof args[length-1]=="function"){callback=args[--length]}var sources=nativeSlice.call(arguments,1,length),index=-1,stackA=getArray(),stackB=getArray();while(++index<length){baseMerge(object,sources[index],callback,stackA,stackB)}releaseArray(stackA);releaseArray(stackB);return object}function omit(object,callback,thisArg){var indexOf=getIndexOf(),isFunc=typeof callback=="function",result={};if(isFunc){callback=lodash.createCallback(callback,thisArg,3)}else{var props=baseFlatten(arguments,true,false,1)}forIn(object,function(value,key,object){if(isFunc?!callback(value,key,object):indexOf(props,key)<0){result[key]=value}});return result}function pairs(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}function pick(object,callback,thisArg){var result={};if(typeof callback!="function"){var index=-1,props=baseFlatten(arguments,true,false,1),length=isObject(object)?props.length:0;while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}}else{callback=lodash.createCallback(callback,thisArg,3);forIn(object,function(value,key,object){if(callback(value,key,object)){result[key]=value}})}return result}function transform(object,callback,accumulator,thisArg){var isArr=isArray(object);callback=baseCreateCallback(callback,thisArg,4);if(accumulator==null){if(isArr){accumulator=[]}else{var ctor=object&&object.constructor,proto=ctor&&ctor.prototype;accumulator=createObject(proto)}}(isArr?forEach:forOwn)(object,function(value,index,object){return callback(accumulator,value,index,object)});return accumulator}function values(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]]}return result}function at(collection){var args=arguments,index=-1,props=baseFlatten(args,true,false,1),length=args[2]&&args[2][args[1]]===collection?1:props.length,result=Array(length);while(++index<length){result[index]=collection[props[index]]}return result}function contains(collection,target,fromIndex){var index=-1,indexOf=getIndexOf(),length=collection?collection.length:0,result=false;fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex)||0;if(isArray(collection)){result=indexOf(collection,target,fromIndex)>-1}else if(typeof length=="number"){result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1}else{forOwn(collection,function(value){if(++index>=fromIndex){return!(result=value===target)}})}return result}var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key]++:result[key]=1});function every(collection,callback,thisArg){var result=true;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){if(!(result=!!callback(collection[index],index,collection))){break}}}else{forOwn(collection,function(value,index,collection){return result=!!callback(value,index,collection)})}return result}function filter(collection,callback,thisArg){var result=[];callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];if(callback(value,index,collection)){result.push(value)}}}else{forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result.push(value)}})}return result}function find(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];if(callback(value,index,collection)){return value}}}else{var result;forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result=value;return false}});return result}}function findLast(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);forEachRight(collection,function(value,index,collection){if(callback(value,index,collection)){result=value;return false}});return result}function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=="number"){while(++index<length){if(callback(collection[index],index,collection)===false){break}}}else{forOwn(collection,callback)}return collection}function forEachRight(collection,callback,thisArg){var length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=="number"){while(length--){if(callback(collection[length],length,collection)===false){break}}}else{var props=keys(collection);length=props.length;forOwn(collection,function(value,key,collection){key=props?props[--length]:--length;return callback(collection[key],key,collection)})}return collection}var groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)});var indexBy=createAggregator(function(result,value,key){result[key]=value});function invoke(collection,methodName){var args=nativeSlice.call(arguments,2),index=-1,isFunc=typeof methodName=="function",length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)});return result}function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=lodash.createCallback(callback,thisArg,3);if(typeof length=="number"){var result=Array(length);while(++index<length){result[index]=callback(collection[index],index,collection)}}else{result=[];forOwn(collection,function(value,key,collection){result[++index]=callback(value,key,collection)})}return result}function max(collection,callback,thisArg){var computed=-Infinity,result=computed;if(!callback&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value>result){result=value}}}else{callback=!callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current>computed){computed=current;result=value}})}return result}function min(collection,callback,thisArg){var computed=Infinity,result=computed;if(!callback&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value<result){result=value}}}else{callback=!callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current<computed){computed=current;result=value}})}return result}function pluck(collection,property){var index=-1,length=collection?collection.length:0;if(typeof length=="number"){var result=Array(length);while(++index<length){result[index]=collection[index][property]}}return result||map(collection,property)}function reduce(collection,callback,accumulator,thisArg){if(!collection)return accumulator;var noaccum=arguments.length<3;callback=baseCreateCallback(callback,thisArg,4);var index=-1,length=collection.length;if(typeof length=="number"){if(noaccum){accumulator=collection[++index]}while(++index<length){accumulator=callback(accumulator,collection[index],index,collection)}}else{forOwn(collection,function(value,index,collection){accumulator=noaccum?(noaccum=false,value):callback(accumulator,value,index,collection)})}return accumulator}function reduceRight(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;callback=baseCreateCallback(callback,thisArg,4);forEachRight(collection,function(value,index,collection){accumulator=noaccum?(noaccum=false,value):callback(accumulator,value,index,collection)});return accumulator}function reject(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);return filter(collection,function(value,index,collection){return!callback(value,index,collection)})}function sample(collection,n,guard){var length=collection?collection.length:0;if(typeof length!="number"){collection=values(collection)}if(n==null||guard){return collection?collection[random(length-1)]:undefined}var result=shuffle(collection);result.length=nativeMin(nativeMax(0,n),result.length);return result}function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);forEach(collection,function(value){var rand=random(++index);result[index]=result[rand];result[rand]=value});return result}function size(collection){var length=collection?collection.length:0;return typeof length=="number"?length:keys(collection).length}function some(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){if(result=callback(collection[index],index,collection)){break}}}else{forOwn(collection,function(value,index,collection){return!(result=callback(value,index,collection))})}return!!result}function sortBy(collection,callback,thisArg){var index=-1,length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);callback=lodash.createCallback(callback,thisArg,3);forEach(collection,function(value,key,collection){var object=result[++index]=getObject();object.criteria=callback(value,key,collection);object.index=index;object.value=value});length=result.length;result.sort(compareAscending);while(length--){var object=result[length];result[length]=object.value;releaseObject(object)}return result}function toArray(collection){if(collection&&typeof collection.length=="number"){return slice(collection)}return values(collection)}var where=filter;function compact(array){var index=-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value){result.push(value)}}return result}function difference(array){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,seen=baseFlatten(arguments,true,true,1),result=[];var isLarge=length>=largeArraySize&&indexOf===baseIndexOf;if(isLarge){var cache=createCache(seen);if(cache){indexOf=cacheIndexOf;seen=cache}else{isLarge=false}}while(++index<length){var value=array[index];if(indexOf(seen,value)<0){result.push(value)}}if(isLarge){releaseObject(seen)}return result}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(++index<length){if(callback(array[index],index,array)){return index}}return-1}function findLastIndex(array,callback,thisArg){var length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(length--){if(callback(array[length],length,array)){return length}}return-1}function first(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!="number"&&callback!=null){var index=-1;callback=lodash.createCallback(callback,thisArg,3);while(++index<length&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array?array[0]:undefined}}return slice(array,0,nativeMin(nativeMax(0,n),length))}function flatten(array,isShallow,callback,thisArg){if(typeof isShallow!="boolean"&&isShallow!=null){thisArg=callback;callback=!(thisArg&&thisArg[isShallow]===array)?isShallow:null;isShallow=false}if(callback!=null){array=map(array,callback,thisArg)}return baseFlatten(array,isShallow)}function indexOf(array,value,fromIndex){if(typeof fromIndex=="number"){var length=array?array.length:0;fromIndex=fromIndex<0?nativeMax(0,length+fromIndex):fromIndex||0}else if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1}return baseIndexOf(array,value,fromIndex)}function initial(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!="number"&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg,3);while(index--&&callback(array[index],index,array)){n++}}else{n=callback==null||thisArg?1:callback||n}return slice(array,0,nativeMin(nativeMax(0,length-n),length))}function intersection(array){var args=arguments,argsLength=args.length,argsIndex=-1,caches=getArray(),index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[],seen=getArray();while(++argsIndex<argsLength){var value=args[argsIndex];caches[argsIndex]=indexOf===baseIndexOf&&(value?value.length:0)>=largeArraySize&&createCache(argsIndex?args[argsIndex]:seen)}outer:while(++index<length){var cache=caches[0];value=array[index];if((cache?cacheIndexOf(cache,value):indexOf(seen,value))<0){argsIndex=argsLength;(cache||seen).push(value);while(--argsIndex){cache=caches[argsIndex];if((cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value))<0){continue outer}}result.push(value)}}while(argsLength--){cache=caches[argsLength];if(cache){releaseObject(cache)}}releaseArray(caches);releaseArray(seen);return result}function last(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!="number"&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg,3);while(index--&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array?array[length-1]:undefined}}return slice(array,nativeMax(0,length-n))}function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;if(typeof fromIndex=="number"){index=(fromIndex<0?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1}while(index--){if(array[index]===value){return index}}return-1}function pull(array){var args=arguments,argsIndex=0,argsLength=args.length,length=array?array.length:0;while(++argsIndex<argsLength){var index=-1,value=args[argsIndex];while(++index<length){if(array[index]===value){splice.call(array,index--,1);length--}}}return array}function range(start,end,step){start=+start||0;step=typeof step=="number"?step:+step||1;if(end==null){end=start;start=0}var index=-1,length=nativeMax(0,ceil((end-start)/(step||1))),result=Array(length);while(++index<length){result[index]=start;start+=step}return result}function remove(array,callback,thisArg){var index=-1,length=array?array.length:0,result=[];callback=lodash.createCallback(callback,thisArg,3);while(++index<length){var value=array[index];if(callback(value,index,array)){result.push(value);splice.call(array,index--,1);length--}}return result}function rest(array,callback,thisArg){if(typeof callback!="number"&&callback!=null){var n=0,index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(++index<length&&callback(array[index],index,array)){n++}}else{n=callback==null||thisArg?1:nativeMax(0,callback)}return slice(array,n)}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;callback=callback?lodash.createCallback(callback,thisArg,1):identity;value=callback(value);while(low<high){var mid=low+high>>>1;callback(array[mid])<value?low=mid+1:high=mid}return low}function union(array){return baseUniq(baseFlatten(arguments,true,true))}function uniq(array,isSorted,callback,thisArg){if(typeof isSorted!="boolean"&&isSorted!=null){thisArg=callback;callback=!(thisArg&&thisArg[isSorted]===array)?isSorted:null;isSorted=false}if(callback!=null){callback=lodash.createCallback(callback,thisArg,3)}return baseUniq(array,isSorted,callback)}function without(array){return difference(array,nativeSlice.call(arguments,1))}function zip(){var array=arguments.length>1?arguments:arguments[0],index=-1,length=array?max(pluck(array,"length")):0,result=Array(length<0?0:length);while(++index<length){result[index]=pluck(array,index)}return result}function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};while(++index<length){var key=keys[index];if(values){result[key]=values[index]}else if(key){result[key[0]]=key[1]}}return result}function after(n,func){if(!isFunction(func)){throw new TypeError}return function(){if(--n<1){return func.apply(this,arguments)}}}function bind(func,thisArg){return arguments.length>2?createBound(func,17,nativeSlice.call(arguments,2),null,thisArg):createBound(func,1,null,null,thisArg)}function bindAll(object){var funcs=arguments.length>1?baseFlatten(arguments,true,false,1):functions(object),index=-1,length=funcs.length;while(++index<length){var key=funcs[index];object[key]=createBound(object[key],1,null,null,object)}return object}function bindKey(object,key){return arguments.length>2?createBound(key,19,nativeSlice.call(arguments,2),null,object):createBound(key,3,null,null,object)}function compose(){var funcs=arguments,length=funcs.length;while(length--){if(!isFunction(funcs[length])){throw new TypeError}}return function(){var args=arguments,length=funcs.length;while(length--){args=[funcs[length].apply(this,args)]}return args[0]}}function createCallback(func,thisArg,argCount){var type=typeof func;if(func==null||type=="function"){return baseCreateCallback(func,thisArg,argCount)}if(type!="object"){return function(object){return object[func]}}var props=keys(func),key=props[0],a=func[key];if(props.length==1&&a===a&&!isObject(a)){return function(object){var b=object[key];return a===b&&(a!==0||1/a==1/b)}}return function(object){var length=props.length,result=false;while(length--){if(!(result=baseIsEqual(object[props[length]],func[props[length]],null,true))){break}}return result}}function curry(func,arity){arity=typeof arity=="number"?arity:+arity||func.length;return createBound(func,4,null,null,null,arity)}function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if(!isFunction(func)){throw new TypeError}wait=nativeMax(0,wait)||0;if(options===true){var leading=true;trailing=false}else if(isObject(options)){leading=options.leading;maxWait="maxWait"in options&&(nativeMax(wait,options.maxWait)||0);trailing="trailing"in options?options.trailing:trailing}var delayed=function(){var remaining=wait-(now()-stamp);if(remaining<=0){if(maxTimeoutId){clearTimeout(maxTimeoutId)}var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args)}}else{timeoutId=setTimeout(delayed,remaining)}};var maxDelayed=function(){if(timeoutId){clearTimeout(timeoutId)}maxTimeoutId=timeoutId=trailingCall=undefined;if(trailing||maxWait!==wait){lastCalled=now();result=func.apply(thisArg,args)}};return function(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false){var leadingCall=leading&&!timeoutId}else{if(!maxTimeoutId&&!leading){lastCalled=stamp}var remaining=maxWait-(stamp-lastCalled);if(remaining<=0){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId)}lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining)}}if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait)}if(leadingCall){result=func.apply(thisArg,args)}return result}}function defer(func){if(!isFunction(func)){throw new TypeError}var args=nativeSlice.call(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}if(isV8&&moduleExports&&typeof setImmediate=="function"){defer=function(func){if(!isFunction(func)){throw new TypeError}return setImmediate.apply(context,arguments)}}function delay(func,wait){if(!isFunction(func)){throw new TypeError}var args=nativeSlice.call(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}function memoize(func,resolver){if(!isFunction(func)){throw new TypeError}var memoized=function(){var cache=memoized.cache,key=resolver?resolver.apply(this,arguments):keyPrefix+arguments[0];return hasOwnProperty.call(cache,key)?cache[key]:cache[key]=func.apply(this,arguments)};memoized.cache={};return memoized}function once(func){var ran,result;if(!isFunction(func)){throw new TypeError}return function(){if(ran){return result}ran=true;result=func.apply(this,arguments);func=null;return result}}function partial(func){return createBound(func,16,nativeSlice.call(arguments,1))}function partialRight(func){return createBound(func,32,null,nativeSlice.call(arguments,1))}function throttle(func,wait,options){var leading=true,trailing=true;if(!isFunction(func)){throw new TypeError}if(options===false){leading=false}else if(isObject(options)){leading="leading"in options?options.leading:leading;trailing="trailing"in options?options.trailing:trailing}debounceOptions.leading=leading;debounceOptions.maxWait=wait;debounceOptions.trailing=trailing;var result=debounce(func,wait,debounceOptions);return result}function wrap(value,wrapper){if(!isFunction(wrapper)){throw new TypeError}return function(){var args=[value];push.apply(args,arguments);return wrapper.apply(this,args)}}function escape(string){return string==null?"":String(string).replace(reUnescapedHtml,escapeHtmlChar)}function identity(value){return value}function mixin(object,source){var ctor=object,isFunc=!source||isFunction(ctor);if(!source){ctor=lodashWrapper;source=object;object=lodash}forEach(functions(source),function(methodName){var func=object[methodName]=source[methodName];if(isFunc){ctor.prototype[methodName]=function(){var value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(value&&typeof value=="object"&&value===result){return this}result=new ctor(result);result.__chain__=this.__chain__;return result}}})}function noConflict(){context._=oldDash;return this}var parseInt=nativeParseInt(whitespace+"08")==8?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,""):value,radix||0)};function random(min,max,floating){var noMin=min==null,noMax=max==null;if(floating==null){if(typeof min=="boolean"&&noMax){floating=min;min=1}else if(!noMax&&typeof max=="boolean"){floating=max;noMax=true}}if(noMin&&noMax){max=1}min=+min||0;if(noMax){max=min;min=0}else{max=+max||0}var rand=nativeRandom();return floating||min%1||max%1?nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max):min+floor(rand*(max-min+1))}function result(object,property){if(object){var value=object[property];return isFunction(value)?object[property]():value}}function template(text,data,options){var settings=lodash.templateSettings;text||(text="");options=defaults({},options,settings);var imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports);var isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){source+="' +\n__e("+escapeValue+") +\n'"
}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable,hasVariable=variable;if(!hasVariable){variable="obj";source="with ("+variable+") {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+variable+") {\n"+(hasVariable?"":variable+" || ("+variable+" = {});\n")+"var __t, __p = '', __e = _.escape"+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var sourceURL="\n/*\n//# sourceURL="+(options.sourceURL||"/lodash/template/source["+templateCounter++ +"]")+"\n*/";try{var result=Function(importsKeys,"return "+source+sourceURL).apply(undefined,importsValues)}catch(e){e.source=source;throw e}if(data){return result(data)}result.source=source;return result}function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);callback=baseCreateCallback(callback,thisArg,1);while(++index<n){result[index]=callback(index)}return result}function unescape(string){return string==null?"":String(string).replace(reEscapedHtml,unescapeHtmlChar)}function uniqueId(prefix){var id=++idCounter;return String(prefix==null?"":prefix)+id}function chain(value){value=new lodashWrapper(value);value.__chain__=true;return value}function tap(value,interceptor){interceptor(value);return value}function wrapperChain(){this.__chain__=true;return this}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}lodash.after=after;lodash.assign=assign;lodash.at=at;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.chain=chain;lodash.compact=compact;lodash.compose=compose;lodash.countBy=countBy;lodash.createCallback=createCallback;lodash.curry=curry;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.filter=filter;lodash.flatten=flatten;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.map=map;lodash.max=max;lodash.memoize=memoize;lodash.merge=merge;lodash.min=min;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.pick=pick;lodash.pluck=pluck;lodash.pull=pull;lodash.range=range;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.shuffle=shuffle;lodash.sortBy=sortBy;lodash.tap=tap;lodash.throttle=throttle;lodash.times=times;lodash.toArray=toArray;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.values=values;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.zip=zip;lodash.zipObject=zipObject;lodash.collect=map;lodash.drop=rest;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;lodash.unzip=zip;mixin(lodash);lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.contains=contains;lodash.escape=escape;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.has=has;lodash.identity=identity;lodash.indexOf=indexOf;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isNaN=isNaN;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isUndefined=isUndefined;lodash.lastIndexOf=lastIndexOf;lodash.mixin=mixin;lodash.noConflict=noConflict;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.result=result;lodash.runInContext=runInContext;lodash.size=size;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.template=template;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.all=every;lodash.any=some;lodash.detect=find;lodash.findWhere=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.include=contains;lodash.inject=reduce;forOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(){var args=[this.__wrapped__],chainAll=this.__chain__;push.apply(args,arguments);var result=func.apply(lodash,args);return chainAll?new lodashWrapper(result,chainAll):result}}});lodash.first=first;lodash.last=last;lodash.sample=sample;lodash.take=first;lodash.head=first;forOwn(lodash,function(func,methodName){var callbackable=methodName!=="sample";if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return!chainAll&&(n==null||guard&&!(callbackable&&typeof n=="function"))?result:new lodashWrapper(result,chainAll)}}});lodash.VERSION="2.2.1";lodash.prototype.chain=wrapperChain;lodash.prototype.toString=wrapperToString;lodash.prototype.value=wrapperValueOf;lodash.prototype.valueOf=wrapperValueOf;forEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}});forEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){func.apply(this.__wrapped__,arguments);return this}});forEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}});return lodash}var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}else{freeExports._=_}}else{root._=_}}).call(this)},{}],s25ewP:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var ReactInputSelection=require("./ReactInputSelection");var SyntheticCompositionEvent=require("./SyntheticCompositionEvent");var getTextContentAccessor=require("./getTextContentAccessor");var keyOf=require("./keyOf");var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var useCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window;var topLevelTypes=EventConstants.topLevelTypes;var currentComposition=null;var eventTypes={compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})}},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})}},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})}}};function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false}}function FallbackCompositionState(root){this.root=root;this.startSelection=ReactInputSelection.getSelection(root);this.startValue=this.getText()}FallbackCompositionState.prototype.getText=function(){return this.root.value||this.root[getTextContentAccessor()]};FallbackCompositionState.prototype.getData=function(){var endValue=this.getText();var prefixLength=this.startSelection.start;var suffixLength=this.startValue.length-this.startSelection.end;return endValue.substr(prefixLength,endValue.length-suffixLength-prefixLength)};var CompositionEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var eventType;var data;if(useCompositionEvent){eventType=getCompositionEventType(topLevelType)}else if(!currentComposition){if(isFallbackStart(topLevelType,nativeEvent)){eventType=eventTypes.start;currentComposition=new FallbackCompositionState(topLevelTarget)}}else if(isFallbackEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd;data=currentComposition.getData();currentComposition=null}if(eventType){var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent);if(data){event.data=data}EventPropagators.accumulateTwoPhaseDispatches(event);return event}}};module.exports=CompositionEventPlugin},{"./EventConstants":"SE1Big","./EventPropagators":"SOC163","./ExecutionEnvironment":"VcPYgO","./ReactInputSelection":"00RP5P","./SyntheticCompositionEvent":"sK8sQ2","./getTextContentAccessor":"9B+0c5","./keyOf":"2m/F8p"}],s3ydQp:[function(require,module,exports){"use strict";var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactOwner=require("./ReactOwner");var ReactUpdates=require("./ReactUpdates");var invariant=require("./invariant");var keyMirror=require("./keyMirror");var merge=require("./merge");var ComponentLifeCycle=keyMirror({MOUNTED:null,UNMOUNTED:null});var ownerHasWarned={};function validateExplicitKey(component){if(component.__keyValidated__||component.props.key!=null){return}component.__keyValidated__=true;if(!ReactCurrentOwner.current){return}var currentName=ReactCurrentOwner.current.constructor.displayName;if(ownerHasWarned.hasOwnProperty(currentName)){return}ownerHasWarned[currentName]=true;var message='Each child in an array should have a unique "key" prop. '+"Check the render method of "+currentName+".";if(!component.isOwnedBy(ReactCurrentOwner.current)){var childOwnerName=component.props.__owner__&&component.props.__owner__.constructor.displayName;message+=" It was passed a child from "+childOwnerName+"."}console.warn(message)}function validateChildKeys(component){if(Array.isArray(component)){for(var i=0;i<component.length;i++){var child=component[i];if(ReactComponent.isValidComponent(child)){validateExplicitKey(child)}}}else if(ReactComponent.isValidComponent(component)){component.__keyValidated__=true}}var ReactComponent={isValidComponent:function(object){return!!(object&&typeof object.mountComponentIntoNode==="function"&&typeof object.receiveProps==="function")},getKey:function(component,index){if(component&&component.props&&component.props.key!=null){return"{"+component.props.key+"}"}return"["+index+"]"},LifeCycle:ComponentLifeCycle,DOMIDOperations:ReactComponentEnvironment.DOMIDOperations,unmountIDFromEnvironment:ReactComponentEnvironment.unmountIDFromEnvironment,mountImageIntoNode:ReactComponentEnvironment.mountImageIntoNode,ReactReconcileTransaction:ReactComponentEnvironment.ReactReconcileTransaction,Mixin:merge(ReactComponentEnvironment.Mixin,{isMounted:function(){return this._lifeCycleState===ComponentLifeCycle.MOUNTED},setProps:function(partialProps,callback){this.replaceProps(merge(this._pendingProps||this.props,partialProps),callback)},replaceProps:function(props,callback){invariant(!this.props.__owner__);invariant(this.isMounted());this._pendingProps=props;ReactUpdates.enqueueUpdate(this,callback)},construct:function(initialProps,children){this.props=initialProps||{};this.props.__owner__=ReactCurrentOwner.current;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED;this._pendingProps=null;this._pendingCallbacks=null;var childrenLength=arguments.length-1;if(childrenLength===1){this.props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+1]}this.props.children=childArray}},mountComponent:function(rootID,transaction,mountDepth){invariant(!this.isMounted());var props=this.props;if(props.ref!=null){ReactOwner.addComponentAsRefTo(this,props.ref,props.__owner__)}this._rootNodeID=rootID;this._lifeCycleState=ComponentLifeCycle.MOUNTED;this._mountDepth=mountDepth},unmountComponent:function(){invariant(this.isMounted());var props=this.props;if(props.ref!=null){ReactOwner.removeComponentAsRefFrom(this,props.ref,props.__owner__)}ReactComponent.unmountIDFromEnvironment(this._rootNodeID);this._rootNodeID=null;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED},receiveProps:function(nextProps,transaction){invariant(this.isMounted());this._pendingProps=nextProps;this._performUpdateIfNecessary(transaction)},performUpdateIfNecessary:function(){var transaction=ReactComponent.ReactReconcileTransaction.getPooled();transaction.perform(this._performUpdateIfNecessary,this,transaction);ReactComponent.ReactReconcileTransaction.release(transaction)},_performUpdateIfNecessary:function(transaction){if(this._pendingProps==null){return}var prevProps=this.props;this.props=this._pendingProps;this._pendingProps=null;this.updateComponent(transaction,prevProps)},updateComponent:function(transaction,prevProps){var props=this.props;if(props.__owner__!==prevProps.__owner__||props.ref!==prevProps.ref){if(prevProps.ref!=null){ReactOwner.removeComponentAsRefFrom(this,prevProps.ref,prevProps.__owner__)}if(props.ref!=null){ReactOwner.addComponentAsRefTo(this,props.ref,props.__owner__)}}},mountComponentIntoNode:function(rootID,container,shouldReuseMarkup){var transaction=ReactComponent.ReactReconcileTransaction.getPooled();transaction.perform(this._mountComponentIntoNode,this,rootID,container,transaction,shouldReuseMarkup);ReactComponent.ReactReconcileTransaction.release(transaction)},_mountComponentIntoNode:function(rootID,container,transaction,shouldReuseMarkup){var markup=this.mountComponent(rootID,transaction,0);ReactComponent.mountImageIntoNode(markup,container,shouldReuseMarkup)},isOwnedBy:function(owner){return this.props.__owner__===owner},getSiblingByRef:function(ref){var owner=this.props.__owner__;if(!owner||!owner.refs){return null}return owner.refs[ref]}})};module.exports=ReactComponent},{"./ReactComponentEnvironment":"qAPXeP","./ReactCurrentOwner":"l6nLtk","./ReactOwner":"T5TpzL","./ReactUpdates":"PpNVRq","./invariant":"A8YiG2","./keyMirror":"D33hUR","./merge":"D67bCH"}],sK8sQ2:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":"cExfNQ"}],sSdxuv:[function(require,module,exports){function noop(){}module.exports=noop},{}],tzMuIR:[function(require,module,exports){var React=require("react-tools/build/modules/React"),TextBlockMixin=require("../text-block-mixin"),Editor=require("../editors/rich"),keys=require("../keys");module.exports=React.createClass({mixins:[TextBlockMixin],editorComponent:Editor,insertAfterType:"listitem",render:function(){var className="Block ListItem"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},this.renderEditor())}})},{"../editors/rich":"JjnOrr","../keys":"HhJo8C","../text-block-mixin":"qfD6+V","react-tools/build/modules/React":"2aDVnh"}],"uMP+gf":[function(require,module,exports){function createObjectFrom(keys,values){var object={};var isArray=Array.isArray(values);if(typeof values=="undefined"){values=true}for(var ii=keys.length;ii--;){object[keys[ii]]=isArray?values[ii]:values}return object}module.exports=createObjectFrom},{}],uRaW7N:[function(require,module,exports){function isNode(object){return!!(object&&(typeof Node!=="undefined"?object instanceof Node:typeof object==="object"&&typeof object.nodeType==="number"&&typeof object.nodeName==="string"))}module.exports=isNode},{}],uY1u0W:[function(require,module,exports){module.exports={restoreFocus:function(){if(this.props.focus){this.getDOMNode().focus();if(this.restoreFocusOffset)this.restoreFocusOffset()}},componentDidMount:function(){this.restoreFocus()},componentDidUpdate:function(){this.restoreFocus()}}},{}],udv0vU:[function(require,module,exports){"use strict";var React=require("react-tools/build/modules/React"),head=React.DOM.head;React.DOM.head=React.createClass({render:function(){var children=[].concat(__styles,__scripts,this.props.children);return head({},children)}});var __styles=[];var __scripts=[];var AssetInjector={addStylesheet:function(href,key){__styles.push(React.DOM.link({rel:"stylesheet",href:href,key:key}))},addScript:function(src,key){__scripts.push(React.DOM.script({src:src,key:key+1e5}))},injectAssets:function(assets){if(assets.stylesheets)assets.stylesheets.forEach(AssetInjector.addStylesheet);if(assets.scripts)assets.scripts.forEach(AssetInjector.addScript)}};module.exports=AssetInjector},{"react-tools/build/modules/React":"2aDVnh"}],ufGkt7:[function(require,module,exports){var createBound=require("lodash._createbound"),reNative=require("lodash._renative");var arrayRef=[];var nativeSlice=arrayRef.slice;function bind(func,thisArg){return arguments.length>2?createBound(func,17,nativeSlice.call(arguments,2),null,thisArg):createBound(func,1,null,null,thisArg)}module.exports=bind},{"lodash._createbound":"OUFt5j","lodash._renative":"v3mvuN"}],v3mvuN:[function(require,module,exports){var objectProto=Object.prototype;var reNative=RegExp("^"+String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");module.exports=reNative},{}],w39dFr:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:nBytes-1,d=isBE?1:-1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isBE?nBytes-1:0,d=isBE?-1:1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},{}],wCx3sI:[function(require,module,exports){"use strict";var MOD=65521;function adler32(data){var a=1;var b=0;for(var i=0;i<data.length;i++){a=(a+data.charCodeAt(i))%MOD;b=(b+a)%MOD}return a|b<<16}module.exports=adler32},{}],"xQj/+/":[function(require,module,exports){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){ViewportMetrics.currentScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;ViewportMetrics.currentScrollTop=document.body.scrollTop+document.documentElement.scrollTop}};module.exports=ViewportMetrics},{}],xVoVjD:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventListener=require("./EventListener");var EventPluginHub=require("./EventPluginHub");var ExecutionEnvironment=require("./ExecutionEnvironment");var ReactEventEmitterMixin=require("./ReactEventEmitterMixin");var ViewportMetrics=require("./ViewportMetrics");var invariant=require("./invariant");var isEventSupported=require("./isEventSupported");var merge=require("./merge");function trapBubbledEvent(topLevelType,handlerBaseName,element){EventListener.listen(element,handlerBaseName,ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(topLevelType))}function trapCapturedEvent(topLevelType,handlerBaseName,element){EventListener.capture(element,handlerBaseName,ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(topLevelType))}function registerScrollValueMonitoring(){var refresh=ViewportMetrics.refreshScrollValues;EventListener.listen(window,"scroll",refresh);EventListener.listen(window,"resize",refresh)}var ReactEventEmitter=merge(ReactEventEmitterMixin,{TopLevelCallbackCreator:null,ensureListening:function(touchNotMouse,contentDocument){invariant(ExecutionEnvironment.canUseDOM);invariant(ReactEventEmitter.TopLevelCallbackCreator);ReactEventEmitterMixin.ensureListening.call(ReactEventEmitter,{touchNotMouse:touchNotMouse,contentDocument:contentDocument})},setEnabled:function(enabled){invariant(ExecutionEnvironment.canUseDOM);if(ReactEventEmitter.TopLevelCallbackCreator){ReactEventEmitter.TopLevelCallbackCreator.setEnabled(enabled)}},isEnabled:function(){return!!(ReactEventEmitter.TopLevelCallbackCreator&&ReactEventEmitter.TopLevelCallbackCreator.isEnabled())},listenAtTopLevel:function(touchNotMouse,contentDocument){invariant(!contentDocument._isListening);var topLevelTypes=EventConstants.topLevelTypes;var mountAt=contentDocument;registerScrollValueMonitoring();trapBubbledEvent(topLevelTypes.topMouseOver,"mouseover",mountAt);trapBubbledEvent(topLevelTypes.topMouseDown,"mousedown",mountAt);trapBubbledEvent(topLevelTypes.topMouseUp,"mouseup",mountAt);trapBubbledEvent(topLevelTypes.topMouseMove,"mousemove",mountAt);trapBubbledEvent(topLevelTypes.topMouseOut,"mouseout",mountAt);trapBubbledEvent(topLevelTypes.topClick,"click",mountAt);trapBubbledEvent(topLevelTypes.topDoubleClick,"dblclick",mountAt);if(touchNotMouse){trapBubbledEvent(topLevelTypes.topTouchStart,"touchstart",mountAt);trapBubbledEvent(topLevelTypes.topTouchEnd,"touchend",mountAt);trapBubbledEvent(topLevelTypes.topTouchMove,"touchmove",mountAt);trapBubbledEvent(topLevelTypes.topTouchCancel,"touchcancel",mountAt)}trapBubbledEvent(topLevelTypes.topKeyUp,"keyup",mountAt);trapBubbledEvent(topLevelTypes.topKeyPress,"keypress",mountAt);trapBubbledEvent(topLevelTypes.topKeyDown,"keydown",mountAt);trapBubbledEvent(topLevelTypes.topInput,"input",mountAt);trapBubbledEvent(topLevelTypes.topChange,"change",mountAt);trapBubbledEvent(topLevelTypes.topSelectionChange,"selectionchange",mountAt);trapBubbledEvent(topLevelTypes.topCompositionEnd,"compositionend",mountAt);trapBubbledEvent(topLevelTypes.topCompositionStart,"compositionstart",mountAt);trapBubbledEvent(topLevelTypes.topCompositionUpdate,"compositionupdate",mountAt);if(isEventSupported("drag")){trapBubbledEvent(topLevelTypes.topDrag,"drag",mountAt);trapBubbledEvent(topLevelTypes.topDragEnd,"dragend",mountAt);trapBubbledEvent(topLevelTypes.topDragEnter,"dragenter",mountAt);trapBubbledEvent(topLevelTypes.topDragExit,"dragexit",mountAt);trapBubbledEvent(topLevelTypes.topDragLeave,"dragleave",mountAt);trapBubbledEvent(topLevelTypes.topDragOver,"dragover",mountAt);trapBubbledEvent(topLevelTypes.topDragStart,"dragstart",mountAt);trapBubbledEvent(topLevelTypes.topDrop,"drop",mountAt)}if(isEventSupported("wheel")){trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt)}else if(isEventSupported("mousewheel")){trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt)}else{trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt)}if(isEventSupported("scroll",true)){trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt)}else{trapBubbledEvent(topLevelTypes.topScroll,"scroll",window)}if(isEventSupported("focus",true)){trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt);trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)}else if(isEventSupported("focusin")){trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt);trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)}if(isEventSupported("copy")){trapBubbledEvent(topLevelTypes.topCopy,"copy",mountAt);trapBubbledEvent(topLevelTypes.topCut,"cut",mountAt);trapBubbledEvent(topLevelTypes.topPaste,"paste",mountAt)}},registrationNames:EventPluginHub.registrationNames,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners,trapBubbledEvent:trapBubbledEvent,trapCapturedEvent:trapCapturedEvent});module.exports=ReactEventEmitter},{"./EventConstants":"SE1Big","./EventListener":"QcYmKM","./EventPluginHub":"EcUY+6","./ExecutionEnvironment":"VcPYgO","./ReactEventEmitterMixin":"eD19uj","./ViewportMetrics":"xQj/+/","./invariant":"A8YiG2","./isEventSupported":"4aumfS","./merge":"D67bCH"}],yuDm6Z:[function(require,module,exports){var React=require("react-tools/build/modules/React"),assign=require("lodash").assign,Paragraph=require("./blocks/paragraph.jsx"),Heading=require("./blocks/heading.jsx"),ListItem=require("./blocks/list-item.jsx"),Line=require("./blocks/line.jsx"),mergeBlocks=require("./block").merge,Image=require("./blocks/image.jsx");Code=require("./blocks/code.jsx");var EditorAPI={updatePosition:function(block,offset){if(block!==this.state.focus.block)this.setState({focus:{block:block,offset:offset}});else this.state.focus.offset=offset},updateBlock:function(block,changes){block=assign(block,changes);var idx=this.props.doc.indexOf(block);if(idx>-1){this.forceUpdate()}else{this.props.doc.splice(0,0,block);this.state.focus.block=block;this.forceUpdate()}},remove:function(block){var idx=this.props.doc.indexOf(block);if(idx>-1){this.props.doc.splice(idx,1);this.state.focus.block=this.props.doc[Math.max(idx-1,0)];this.forceUpdate()}},mergeWithPrevious:function(block){var idx=this.props.doc.indexOf(block);if(idx>0){var prev=this.props.doc[idx-1];var merged=mergeBlocks(prev,block,true);this.props.doc.splice(idx,1);this.props.doc.splice(idx-1,1,merged);this.state.focus.block=merged;this.state.focus.offset=0;this.forceUpdate()}else if(idx===0){this.remove(block)}},insertAfter:function(block,newBlock){newBlock=newBlock||{type:"paragraph",content:"",annotations:[]};if(block){var idx=this.props.doc.indexOf(block);if(idx>-1){this.state.focus.block=newBlock;this.state.focus.offset=0;this.props.doc.splice(idx+1,0,newBlock);this.forceUpdate()}}else{this.state.focus.block=newBlock;this.state.focus.offset=0;this.props.doc.splice(0,0,newBlock);this.forceUpdate()}},focusAfter:function(block){var idx=this.props.doc.indexOf(block);if(idx>-1&&idx<this.props.doc.length-1){var next=this.props.doc[idx+1];this.state.focus.block=next;this.state.focus.offset=0;this.forceUpdate()}},focusBefore:function(block){var idx=this.props.doc.indexOf(block);if(idx>0){var next=this.props.doc[idx-1];this.state.focus.block=next;this.state.focus.offset=0;this.forceUpdate()}},moveUp:function(block){var idx=this.props.doc.indexOf(block);if(idx>0){this.props.doc.splice(idx,1);this.props.doc.splice(idx-1,0,block);this.forceUpdate()}},moveDown:function(block){var idx=this.props.doc.indexOf(block);if(idx>-1&&idx<this.props.doc.length-1){this.props.doc.splice(idx,1);this.props.doc.splice(idx+1,0,block);this.forceUpdate()}}};var BlockPanel=React.createClass({displayName:"BlockPanel",remove:function(){this.props.editor.remove(this.props.block)},insertAfter:function(){this.props.editor.insertAfter(this.props.block)},render:function(){return React.DOM.div({className:"BlockPanel"},React.DOM.div({className:"Buttons"},React.DOM.a({className:"Button",onClick:this.insertAfter}," insert"),React.DOM.a({className:"Button",onClick:this.remove}," remove")))}});var BlockWrapper=React.createClass({displayName:"BlockWrapper",render:function(){var blockComponent=this.transferPropsTo(this.props.component()),className="BlockWrapper"+(this.props.focus?" Focused":"");return React.DOM.div({className:className},blockComponent,BlockPanel({block:this.props.block,editor:this.props.editor}))}});var Editor=React.createClass({displayName:"Editor",mixins:[EditorAPI],blocks:{heading:Heading,listitem:ListItem,line:Line,paragraph:Paragraph,image:Image,code:Code},getInitialState:function(){return{focus:{}}},renderBlock:function(block,key){var focus=this.state.focus.block===block;var props={block:block,key:key,editor:this,focus:focus,focusOffset:focus?this.state.focus.offset:0,component:this.blocks[block.type]||Paragraph};return BlockWrapper(props)},render:function(){if(this.props.doc.length>0){var blocks=this.props.doc}else{var blocks=[{type:"paragraph",content:""}];this.state.focus.block=blocks[0]}return React.DOM.div({className:"Markstruct"},blocks.map(this.renderBlock))}});module.exports=Editor},{"./block":"W5so5p","./blocks/code.jsx":"0IyTq1","./blocks/heading.jsx":"rOPvLG","./blocks/image.jsx":"GlXVNv","./blocks/line.jsx":"eS+SMx","./blocks/list-item.jsx":"tzMuIR","./blocks/paragraph.jsx":"o5gchh",lodash:"rhzjCI","react-tools/build/modules/React":"2aDVnh"}],zXdfSL:[function(require,module,exports){"use strict";var listenerBank={};var CallbackRegistry={putListener:function(id,registrationName,listener){var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){delete bankForRegistrationName[id]}},deleteAllListeners:function(id){for(var registrationName in listenerBank){delete listenerBank[registrationName][id]}},__purge:function(){listenerBank={}}};module.exports=CallbackRegistry},{}],zcV8ZS:[function(require,module,exports){"use strict";var qs=require("querystring"),ReactMount=require("react-tools/build/modules/ReactMount"),createRouter=require("./router"),page=require("./page"),renderPageToString=page.renderPageToString,renderPage=page.renderPage;ReactMount.allowFullPageRender=true;module.exports=function(spec){return new Application(spec)};function Application(spec){this.spec=spec;this.routes=this.spec.routes;this.router=createRouter(this.routes);this.request=null;this.page=null}Application.prototype={start:function(data){window.addEventListener("popstate",skipFirst(this.onPopState.bind(this)));window.addEventListener("click",this.onNavigate.bind(this));this.process({path:window.location.pathname,query:qs.parse(window.location.search.slice(1)),data:data})},navigate:function(request){if(!request.path)request=parseURL(request);var url=request.path;if(request.query)url=url+"?"+qs.stringify(request.query);window.history.pushState(null,"",url);this.process(request)},setQuery:function(query){var k,newQuery={};for(k in this.request.query)newQuery[k]=this.request.query[k];for(k in query)newQuery[k]=query[k];var request={path:this.request.path,query:newQuery};this.navigate(request)
},generateMarkup:function(request,cb){if(!request.path)request=parseURL(request);var page=this.makePage(request);if(!page)return cb(new NotFoundError(request.path));renderPageToString(page,cb)},process:function(request,cb){cb=cb||function(err){};var page=this.makePage(request);if(!page)return cb(new NotFoundError(request.path));renderPage(page,this.spec.document||document,function(err,page){if(err)return cb(err);this.request=request;this.page=page;cb(null,this)}.bind(this),this.spec.forcePageRendering)},makePage:function(request){var match=this.router.match(request.path);if(!match)return null;return match.handler({app:this,request:{path:request.path,query:request.query||{},params:match.params||{}},data:request.data,options:this.spec.options})},onPopState:function(e){e.preventDefault();this.process({path:window.location.pathname,query:qs.parse(window.location.search.slice(1))})},onNavigate:function(e){var current=e.target;while(current){if(current.tagName==="A"){var href=current.attributes.href&&current.attributes.href.value;if(href&&!href.match(/^https?:/)&&!href.match(/^data:/)){e.preventDefault();this.navigate(href)}break}current=current.parentNode}}};function skipFirst(func){var n=0;return function(){if(n>0)return func.apply(this,arguments);n=n+1}}function parseURL(url){if(url.indexOf("?")>-1){var parts=url.split("?");return{path:parts[0],query:qs.parse(parts[1])}}else{return{path:url}}}function NotFoundError(url){Error.call(this,"not found: "+url);this.url=url;this.isNotFound=true}NotFoundError.prototype=new Error},{"./page":"+OQ+1g","./router":"qJMASX",querystring:"lP6s9v","react-tools/build/modules/ReactMount":"7KU6qp"}],"zfD+4S":[function(require,module,exports){var arrayPool=[];module.exports=arrayPool},{}]},{},[]);